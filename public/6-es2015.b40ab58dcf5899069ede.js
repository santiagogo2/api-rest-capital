(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"2sxy":function(t,e,o){"use strict";o.r(e);var n=o("ofXK"),c=o("s7LF"),i=o("fXoL");function a(t,e){if(1&t){var o=i.Yb();i.Xb(0,"a",11),i.fc("keyup.enter",(function(){return i.sc(o),i.hc(3),i.rc(1).previous()}))("click",(function(){return i.sc(o),i.hc(3),i.rc(1).previous()})),i.xc(1),i.Xb(2,"span",12),i.xc(3),i.Wb(),i.Wb()}if(2&t){var n=i.hc(3);i.Ib("aria-label",n.previousLabel+" "+n.screenReaderPageLabel),i.Hb(1),i.zc(" ",n.previousLabel," "),i.Hb(2),i.yc(n.screenReaderPageLabel)}}function r(t,e){if(1&t&&(i.Xb(0,"span"),i.xc(1),i.Xb(2,"span",12),i.xc(3),i.Wb(),i.Wb()),2&t){var o=i.hc(3);i.Hb(1),i.zc(" ",o.previousLabel," "),i.Hb(2),i.yc(o.screenReaderPageLabel)}}function s(t,e){if(1&t&&(i.Xb(0,"li",8),i.vc(1,a,4,3,"a",9),i.vc(2,r,4,2,"span",10),i.Wb()),2&t){i.hc(2);var o=i.rc(1);i.Kb("disabled",o.isFirstPage()),i.Hb(1),i.kc("ngIf",1<o.getCurrent()),i.Hb(1),i.kc("ngIf",o.isFirstPage())}}function l(t,e){if(1&t){var o=i.Yb();i.Xb(0,"a",11),i.fc("keyup.enter",(function(){i.sc(o);var t=i.hc().$implicit;return i.hc(2),i.rc(1).setCurrent(t.value)}))("click",(function(){i.sc(o);var t=i.hc().$implicit;return i.hc(2),i.rc(1).setCurrent(t.value)})),i.Xb(1,"span",12),i.xc(2),i.Wb(),i.Xb(3,"span"),i.xc(4),i.ic(5,"number"),i.Wb(),i.Wb()}if(2&t){var n=i.hc().$implicit,c=i.hc(2);i.Hb(2),i.zc("",c.screenReaderPageLabel," "),i.Hb(2),i.yc("..."===n.label?n.label:i.jc(5,2,n.label,""))}}function b(t,e){if(1&t&&(i.Vb(0),i.Xb(1,"span",12),i.xc(2),i.Wb(),i.Xb(3,"span"),i.xc(4),i.ic(5,"number"),i.Wb(),i.Ub()),2&t){var o=i.hc().$implicit,n=i.hc(2);i.Hb(2),i.zc("",n.screenReaderCurrentLabel," "),i.Hb(2),i.yc("..."===o.label?o.label:i.jc(5,2,o.label,""))}}function d(t,e){if(1&t&&(i.Xb(0,"li"),i.vc(1,l,6,5,"a",9),i.vc(2,b,6,5,"ng-container",10),i.Wb()),2&t){var o=e.$implicit;i.hc(2);var n=i.rc(1);i.Kb("current",n.getCurrent()===o.value)("ellipsis","..."===o.label),i.Hb(1),i.kc("ngIf",n.getCurrent()!==o.value),i.Hb(1),i.kc("ngIf",n.getCurrent()===o.value)}}function u(t,e){if(1&t){var o=i.Yb();i.Xb(0,"a",11),i.fc("keyup.enter",(function(){return i.sc(o),i.hc(3),i.rc(1).next()}))("click",(function(){return i.sc(o),i.hc(3),i.rc(1).next()})),i.xc(1),i.Xb(2,"span",12),i.xc(3),i.Wb(),i.Wb()}if(2&t){var n=i.hc(3);i.Ib("aria-label",n.nextLabel+" "+n.screenReaderPageLabel),i.Hb(1),i.zc(" ",n.nextLabel," "),i.Hb(2),i.yc(n.screenReaderPageLabel)}}function p(t,e){if(1&t&&(i.Xb(0,"span"),i.xc(1),i.Xb(2,"span",12),i.xc(3),i.Wb(),i.Wb()),2&t){var o=i.hc(3);i.Hb(1),i.zc(" ",o.nextLabel," "),i.Hb(2),i.yc(o.screenReaderPageLabel)}}function f(t,e){if(1&t&&(i.Xb(0,"li",13),i.vc(1,u,4,3,"a",9),i.vc(2,p,4,2,"span",10),i.Wb()),2&t){i.hc(2);var o=i.rc(1);i.Kb("disabled",o.isLastPage()),i.Hb(1),i.kc("ngIf",!o.isLastPage()),i.Hb(1),i.kc("ngIf",o.isLastPage())}}function m(t,e){if(1&t&&(i.Xb(0,"ul",3),i.vc(1,s,3,4,"li",4),i.Xb(2,"li",5),i.xc(3),i.Wb(),i.vc(4,d,3,6,"li",6),i.vc(5,f,3,4,"li",7),i.Wb()),2&t){var o=i.hc(),n=i.rc(1);i.Kb("responsive",o.responsive),i.Ib("aria-label",o.screenReaderPaginationLabel),i.Hb(1),i.kc("ngIf",o.directionLinks),i.Hb(2),i.Ac(" ",n.getCurrent()," / ",n.getLastPage()," "),i.Hb(1),i.kc("ngForOf",n.pages)("ngForTrackBy",o.trackByIndex),i.Hb(1),i.kc("ngIf",o.directionLinks)}}var g=function(){function t(){this.change=new i.q,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}return t.prototype.defaultId=function(){return this.DEFAULT_ID},t.prototype.register=function(t){return null==t.id&&(t.id=this.DEFAULT_ID),this.instances[t.id]?this.updateInstance(t):(this.instances[t.id]=t,!0)},t.prototype.updateInstance=function(t){var e=!1;for(var o in this.instances[t.id])t[o]!==this.instances[t.id][o]&&(this.instances[t.id][o]=t[o],e=!0);return e},t.prototype.getCurrentPage=function(t){if(this.instances[t])return this.instances[t].currentPage},t.prototype.setCurrentPage=function(t,e){if(this.instances[t]){var o=this.instances[t];e<=Math.ceil(o.totalItems/o.itemsPerPage)&&1<=e&&(this.instances[t].currentPage=e,this.change.emit(t))}},t.prototype.setTotalItems=function(t,e){this.instances[t]&&0<=e&&(this.instances[t].totalItems=e,this.change.emit(t))},t.prototype.setItemsPerPage=function(t,e){this.instances[t]&&(this.instances[t].itemsPerPage=e,this.change.emit(t))},t.prototype.getInstance=function(t){return void 0===t&&(t=this.DEFAULT_ID),this.instances[t]?this.clone(this.instances[t]):{}},t.prototype.clone=function(t){var e={};for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);return e},t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Ob({token:t,factory:function(e){return t.\u0275fac(e)}}),t}(),h=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},v=Number.MAX_SAFE_INTEGER,_=function(){function t(t){this.service=t,this.state={}}return t.prototype.transform=function(t,e){if(!(t instanceof Array)){var o=e.id||this.service.defaultId();return this.state[o]?this.state[o].slice:t}var n,c,i=e.totalItems&&e.totalItems!==t.length,a=this.createInstance(t,e),r=a.id,s=a.itemsPerPage,l=this.service.register(a);if(!i&&t instanceof Array){if(this.stateIsIdentical(r,t,n=(a.currentPage-1)*(s=+s||v),c=n+s))return this.state[r].slice;var b=t.slice(n,c);return this.saveState(r,t,b,n,c),this.service.change.emit(r),b}return l&&this.service.change.emit(r),this.saveState(r,t,t,n,c),t},t.prototype.createInstance=function(t,e){return this.checkConfig(e),{id:null!=e.id?e.id:this.service.defaultId(),itemsPerPage:+e.itemsPerPage||0,currentPage:+e.currentPage||1,totalItems:+e.totalItems||t.length}},t.prototype.checkConfig=function(t){var e=["itemsPerPage","currentPage"].filter((function(e){return!(e in t)}));if(0<e.length)throw new Error("PaginatePipe: Argument is missing the following required properties: "+e.join(", "))},t.prototype.saveState=function(t,e,o,n,c){this.state[t]={collection:e,size:e.length,slice:o,start:n,end:c}},t.prototype.stateIsIdentical=function(t,e,o,n){var c=this.state[t];return!!c&&!(c.size!==e.length||c.start!==o||c.end!==n)&&c.slice.every((function(t,n){return t===e[o+n]}))},(t=function(t,e,o,n){var c,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(c=t[r])&&(a=(i<3?c(a):i>3?c(e,o,a):c(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a}([h("design:paramtypes",[g])],t)).\u0275fac=function(e){return new(e||t)(i.Sb(g))},t.\u0275pipe=i.Rb({name:"paginate",type:t,pure:!1}),t}(),W=function(t,e,o,n){var c,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(c=t[r])&&(a=(i<3?c(a):i>3?c(e,o,a):c(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a},X=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};function x(t){return!!t&&"false"!==t}var k=function(){function t(){this.maxSize=7,this.previousLabel="Previous",this.nextLabel="Next",this.screenReaderPaginationLabel="Pagination",this.screenReaderPageLabel="page",this.screenReaderCurrentLabel="You're on page",this.pageChange=new i.q,this.pageBoundsCorrection=new i.q,this._directionLinks=!0,this._autoHide=!1,this._responsive=!1}return Object.defineProperty(t.prototype,"directionLinks",{get:function(){return this._directionLinks},set:function(t){this._directionLinks=x(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoHide",{get:function(){return this._autoHide},set:function(t){this._autoHide=x(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"responsive",{get:function(){return this._responsive},set:function(t){this._responsive=x(t)},enumerable:!0,configurable:!0}),t.prototype.trackByIndex=function(t){return t},W([Object(i.v)(),X("design:type",String)],t.prototype,"id",void 0),W([Object(i.v)(),X("design:type",Number)],t.prototype,"maxSize",void 0),W([Object(i.v)(),X("design:type",Boolean),X("design:paramtypes",[Boolean])],t.prototype,"directionLinks",null),W([Object(i.v)(),X("design:type",Boolean),X("design:paramtypes",[Boolean])],t.prototype,"autoHide",null),W([Object(i.v)(),X("design:type",Boolean),X("design:paramtypes",[Boolean])],t.prototype,"responsive",null),W([Object(i.v)(),X("design:type",String)],t.prototype,"previousLabel",void 0),W([Object(i.v)(),X("design:type",String)],t.prototype,"nextLabel",void 0),W([Object(i.v)(),X("design:type",String)],t.prototype,"screenReaderPaginationLabel",void 0),W([Object(i.v)(),X("design:type",String)],t.prototype,"screenReaderPageLabel",void 0),W([Object(i.v)(),X("design:type",String)],t.prototype,"screenReaderCurrentLabel",void 0),W([Object(i.G)(),X("design:type",i.q)],t.prototype,"pageChange",void 0),W([Object(i.G)(),X("design:type",i.q)],t.prototype,"pageBoundsCorrection",void 0),t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Mb({type:t,selectors:[["pagination-controls"]],inputs:{maxSize:"maxSize",previousLabel:"previousLabel",nextLabel:"nextLabel",screenReaderPaginationLabel:"screenReaderPaginationLabel",screenReaderPageLabel:"screenReaderPageLabel",screenReaderCurrentLabel:"screenReaderCurrentLabel",directionLinks:"directionLinks",autoHide:"autoHide",responsive:"responsive",id:"id"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},decls:3,vars:3,consts:[[3,"id","maxSize","pageChange","pageBoundsCorrection"],["p","paginationApi"],["class","ngx-pagination",3,"responsive",4,"ngIf"],[1,"ngx-pagination"],["class","pagination-previous",3,"disabled",4,"ngIf"],[1,"small-screen"],[3,"current","ellipsis",4,"ngFor","ngForOf","ngForTrackBy"],["class","pagination-next",3,"disabled",4,"ngIf"],[1,"pagination-previous"],["tabindex","0",3,"keyup.enter","click",4,"ngIf"],[4,"ngIf"],["tabindex","0",3,"keyup.enter","click"],[1,"show-for-sr"],[1,"pagination-next"]],template:function(t,e){if(1&t&&(i.Xb(0,"pagination-template",0,1),i.fc("pageChange",(function(t){return e.pageChange.emit(t)}))("pageBoundsCorrection",(function(t){return e.pageBoundsCorrection.emit(t)})),i.vc(2,m,6,9,"ul",2),i.Wb()),2&t){var o=i.rc(1);i.kc("id",e.id)("maxSize",e.maxSize),i.Hb(2),i.kc("ngIf",!(e.autoHide&&o.pages.length<=1))}},directives:function(){return[C,n.l,n.k]},pipes:function(){return[n.e]},styles:["\n.ngx-pagination {\n  margin-left: 0;\n  margin-bottom: 1rem; }\n  .ngx-pagination::before, .ngx-pagination::after {\n    content: ' ';\n    display: table; }\n  .ngx-pagination::after {\n    clear: both; }\n  .ngx-pagination li {\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    -ms-user-select: none;\n    margin-right: 0.0625rem;\n    border-radius: 0; }\n  .ngx-pagination li {\n    display: inline-block; }\n  .ngx-pagination a,\n  .ngx-pagination button {\n    color: #0a0a0a; \n    display: block;\n    padding: 0.1875rem 0.625rem;\n    border-radius: 0; }\n    .ngx-pagination a:hover,\n    .ngx-pagination button:hover {\n      background: #e6e6e6; }\n  .ngx-pagination .current {\n    padding: 0.1875rem 0.625rem;\n    background: #2199e8;\n    color: #fefefe;\n    cursor: default; }\n  .ngx-pagination .disabled {\n    padding: 0.1875rem 0.625rem;\n    color: #cacaca;\n    cursor: default; } \n    .ngx-pagination .disabled:hover {\n      background: transparent; }\n  .ngx-pagination a, .ngx-pagination button {\n    cursor: pointer; }\n\n.ngx-pagination .pagination-previous a::before,\n.ngx-pagination .pagination-previous.disabled::before { \n  content: '\xab';\n  display: inline-block;\n  margin-right: 0.5rem; }\n\n.ngx-pagination .pagination-next a::after,\n.ngx-pagination .pagination-next.disabled::after {\n  content: '\xbb';\n  display: inline-block;\n  margin-left: 0.5rem; }\n\n.ngx-pagination .show-for-sr {\n  position: absolute !important;\n  width: 1px;\n  height: 1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0); }\n.ngx-pagination .small-screen {\n  display: none; }\n@media screen and (max-width: 601px) {\n  .ngx-pagination.responsive .small-screen {\n    display: inline-block; } \n  .ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next) {\n    display: none; }\n}\n  "],encapsulation:2,changeDetection:0}),t}(),I=function(t,e,o,n){var c,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(c=t[r])&&(a=(i<3?c(a):i>3?c(e,o,a):c(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a},y=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},C=function(){function t(t,e){var o=this;this.service=t,this.changeDetectorRef=e,this.maxSize=7,this.pageChange=new i.q,this.pageBoundsCorrection=new i.q,this.pages=[],this.changeSub=this.service.change.subscribe((function(t){o.id===t&&(o.updatePageLinks(),o.changeDetectorRef.markForCheck(),o.changeDetectorRef.detectChanges())}))}return t.prototype.ngOnInit=function(){void 0===this.id&&(this.id=this.service.defaultId()),this.updatePageLinks()},t.prototype.ngOnChanges=function(t){this.updatePageLinks()},t.prototype.ngOnDestroy=function(){this.changeSub.unsubscribe()},t.prototype.previous=function(){this.checkValidId(),this.setCurrent(this.getCurrent()-1)},t.prototype.next=function(){this.checkValidId(),this.setCurrent(this.getCurrent()+1)},t.prototype.isFirstPage=function(){return 1===this.getCurrent()},t.prototype.isLastPage=function(){return this.getLastPage()===this.getCurrent()},t.prototype.setCurrent=function(t){this.pageChange.emit(t)},t.prototype.getCurrent=function(){return this.service.getCurrentPage(this.id)},t.prototype.getLastPage=function(){var t=this.service.getInstance(this.id);return t.totalItems<1?1:Math.ceil(t.totalItems/t.itemsPerPage)},t.prototype.getTotalItems=function(){return this.service.getInstance(this.id).totalItems},t.prototype.checkValidId=function(){null==this.service.getInstance(this.id).id&&console.warn('PaginationControlsDirective: the specified id "'+this.id+'" does not match any registered PaginationInstance')},t.prototype.updatePageLinks=function(){var t=this,e=this.service.getInstance(this.id),o=this.outOfBoundCorrection(e);o!==e.currentPage?setTimeout((function(){t.pageBoundsCorrection.emit(o),t.pages=t.createPageArray(e.currentPage,e.itemsPerPage,e.totalItems,t.maxSize)})):this.pages=this.createPageArray(e.currentPage,e.itemsPerPage,e.totalItems,this.maxSize)},t.prototype.outOfBoundCorrection=function(t){var e=Math.ceil(t.totalItems/t.itemsPerPage);return e<t.currentPage&&0<e?e:t.currentPage<1?1:t.currentPage},t.prototype.createPageArray=function(t,e,o,n){n=+n;for(var c=[],i=Math.max(Math.ceil(o/e),1),a=Math.ceil(n/2),r=t<=a,s=i-a<t,l=!r&&!s,b=n<i,d=1;d<=i&&d<=n;){var u=this.calculatePageNumber(d,t,n,i);c.push({label:b&&(2===d&&(l||s)||d===n-1&&(l||r))?"...":u,value:u}),d++}return c},t.prototype.calculatePageNumber=function(t,e,o,n){var c=Math.ceil(o/2);return t===o?n:1===t?t:o<n?n-c<e?n-o+t:c<e?e-c+t:t:t},I([Object(i.v)(),y("design:type",String)],t.prototype,"id",void 0),I([Object(i.v)(),y("design:type",Number)],t.prototype,"maxSize",void 0),I([Object(i.G)(),y("design:type",i.q)],t.prototype,"pageChange",void 0),I([Object(i.G)(),y("design:type",i.q)],t.prototype,"pageBoundsCorrection",void 0),(t=I([y("design:paramtypes",[g,i.i])],t)).\u0275fac=function(e){return new(e||t)(i.Sb(g),i.Sb(i.i))},t.\u0275dir=i.Nb({type:t,selectors:[["pagination-template"],["","pagination-template",""]],inputs:{maxSize:"maxSize",id:"id"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},exportAs:["paginationApi"],features:[i.Fb]}),t}(),H=function(){function t(){}return t.\u0275mod=i.Qb({type:t}),t.\u0275inj=i.Pb({factory:function(e){return new(e||t)},providers:[g],imports:[[n.b]]}),t}(),P=o("iInd"),D=o("mrSG"),S=o("PSD3"),j=o.n(S);class F{constructor(t,e,o,n,c,i,a,r,s,l,b){this.id=t,this.precontractual_id=e,this.id_documento=o,this.documento=n,this.etapa_contractual=c,this.fecha_vigencia=i,this.observacion=a,this.estado=r,this.created_by=s,this.createdAt=l,this.updatedAt=b}}class M{constructor(t,e,o,n,c,i,a){this.id=t,this.precontractual_id=e,this.observaciones=o,this.estado=n,this.created_by=c,this.createdAt=i,this.updateddAt=a}}class w{constructor(t,e,o,n,c,i,a,r,s,l,b,d){this.id=t,this.precontractual_id=e,this.descripcion=o,this.documento=n,this.motivo=c,this.tipo_certificado=i,this.estado=a,this.solicitud_precontractual=r,this.documentos=s,this.created_by=l,this.createdAt=b,this.updatedAt=d}}class A{constructor(t,e,o,n,c,i,a,r,s,l,b,d,u,p,f,m,g,h,v,_){this.id=t,this.primer_nombre=e,this.segundo_nombre=o,this.primer_apellido=n,this.segundo_apellido=c,this.correo_electronico=i,this.cargo=a,this.area_solicitante=r,this.descripcion_solicitud=s,this.tipo_contrato=l,this.documento_adjunto=b,this.estado=d,this.fecha_respuesta=u,this.observaciones_juridica=p,this.fecha_comite_contratacion=f,this.documentos=m,this.presupuesto=g,this.created_by=h,this.createdAt=v,this.updatedAt=_}}var R=o("K+9L"),O=o("IheW");let L=(()=>{class t{constructor(t){this.http=t,this.url=R.f.url}actualizarDocumentoAdjunto(t){return this.http.put(this.url+"contratacion/documentacion/adicional/"+t.id,t)}actualizarEstadoDocumentoAdjunto(t){return this.http.put(`${this.url}contratacion/documentacion/adicional/actualizarEstadoDocumentoAdjunto/${t.id}`,t)}crearDocumentoAdjunto(t){return this.http.post(this.url+"contratacion/documentacion",t)}}return t.\u0275fac=function(e){return new(e||t)(i.bc(O.b))},t.\u0275prov=i.Ob({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),E=(()=>{class t{constructor(t){this.http=t,this.url=R.f.url,this.headers={}}actualizarEstadoSolicitudPrecontractual(t,e){return this.http.get(`${this.url}contratacion/precontractual/adicionales/actualizarEstadoSolicitudPrecontractual/${t}/${e}`)}actualizarSolicitudPrecontractual(t){return this.http.put(this.url+"contratacion/precontractual/"+t.id,t,this.headers)}crearSolicitudPrecontractual(t){return this.http.post(this.url+"contratacion/precontractual",t,this.headers)}eliminarSolicitudPrecontractual(t){return this.http.delete(this.url+"contratacion/precontractual/"+t,this.headers)}obtenerSolicitud(t){return this.http.get(this.url+"contratacion/precontractual/"+t,this.headers)}obtenerSolicitudesActivas(){return this.http.get(this.url+"contratacion/precontractual/adicionales/obtenerSolicitudesActivas",this.headers)}obtenerSolicitudesJuridica(){return this.http.get(this.url+"contratacion/precontractual/adicionales/obtenerSolicitudesJuridica",this.headers)}obtenerSolicitudesPrecontractuales(){return this.http.get(this.url+"contratacion/precontractual",this.headers)}obtenerSolicitudesPrecontractualesPorUsuario(){return this.http.get(this.url+"contratacion/precontractual/adicionales/obtenerSolicitudesPrecontractualesPorUsuario",this.headers)}}return t.\u0275fac=function(e){return new(e||t)(i.bc(O.b))},t.\u0275prov=i.Ob({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),T=(()=>{class t{constructor(t,e,o){this._documentacion_service=t,this._file_upload_service=e,this._precontractual_service=o}cargarDocumentoRequerido(t,e,o,n,c,i=!1){return new Promise(a=>{let r=!0,s=new F(null,+e,null,null,n,null,null,null,null,null,null);if(c&&c.length>0){const e=c.find(t=>t.id_documento==o);e&&t&&(r=!1,3==e.estado&&(j.a.fire({position:"center",icon:"warning",title:"El documento ya ha sido aprobado y no puede ser modificado",showConfirmButton:!0}),a(!1)),this._file_upload_service.cargarArchivo(t,"contratacion").then(t=>{"success"==t.status&&(s.id=e.id,s.documento=t.nombre_archivo,s.id_documento=o,this._documentacion_service.actualizarDocumentoAdjunto(s).subscribe(t=>{i&&j.a.fire({position:"center",icon:"success",title:t.message,showConfirmButton:!0}),a(!0)},t=>{a(!1)}))}).catch(t=>{console.log(t),a(!1)}))}r&&this._file_upload_service.cargarArchivo(t,"contratacion").then(t=>{"success"==t.status&&(s.documento=t.nombre_archivo,s.id_documento=o,this._documentacion_service.crearDocumentoAdjunto(s).subscribe(t=>{i&&j.a.fire({position:"center",icon:"success",title:t.message,showConfirmButton:!0}),a(!0)},t=>{a(!1)}))}).catch(t=>{console.log(t),a(!1)})})}descargarDocumento(t){this._file_upload_service.descargarDocumento(t,"contratacion").subscribe(e=>{window.open(`${R.f.url}upload/contratacion/${t}`)})}obtenerSolicitud(t){return new Promise((e,o)=>{this._precontractual_service.obtenerSolicitud(t).subscribe(t=>{e(t.precontractual)},t=>{o(t)})})}validarDocumento(t,e,o=!1){if(t.documentos&&t.documentos.length>0){let n=null;if(t.documentos.forEach(t=>{t.id_documento==e&&(n=t.documento)}),n)return!!o||n}return!o&&""}validarEstadoDocumento(t,e,o=!1){let n=!0,c=null;return t&&t.length>0&&t.forEach(t=>{t.id_documento==e&&(c=t.estado,3==t.estado&&(n=!1))}),o?c:n}validarVencimientoFechasDocumentos(t,e){if(!t)return!1;const o=new Date,n=864e5*e;return new Date(t).getTime()-o.getTime()<n}}return t.\u0275fac=function(e){return new(e||t)(i.bc(L),i.bc(R.b),i.bc(E))},t.\u0275prov=i.Ob({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),q=(()=>{class t{constructor(t){this.http=t,this.url=R.f.url}actualizarSolicitudPresupuestal(t){return this.http.put(`${this.url}contratacion/presupuesto/${t.id}`,t)}crearCDPCRPPresupuesto(t){return this.http.post(`${this.url}contratacion/presupuesto`,t)}obtenerSolicitudes(){return this.http.get(`${this.url}contratacion/presupuesto/adicionales/obtenerSolicitudes`)}obtenerSolicitudesActivas(){return this.http.get(`${this.url}contratacion/presupuesto/adicionales/obtenerSolicitudesActivas`)}obtenerSolicitudPresupuesto(t){return this.http.get(`${this.url}contratacion/presupuesto/${t}`)}}return t.\u0275fac=function(e){return new(e||t)(i.bc(O.b))},t.\u0275prov=i.Ob({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),z=(()=>{class t{constructor(t){this.http=t,this.url=R.f.url,this.url_login="https://paiwebapi.paiweb.gov.co/api/login",this.url_service="https://paiwebws.paiweb.gov.co:8082",this.headers={}}iniciarSesionWebService(){return this.http.post(this.url_login,{tipoIdentificacion:"CC",Identificacion:"1193533679",Password:"Laura291218."})}guardarDatosWebService(t,e){const o=(new O.d).set("Authorization",`Bearer ${e}`);return t.NroDocumento=t.NroDocumento.toString(),this.http.post("/api/interop/RegSolicitudCambioEstrategia",t,{headers:o})}guardarLogWebService(t){return this.http.post(`${this.url}usuarios/vacunacion/webservice`,t)}}return t.\u0275fac=function(e){return new(e||t)(i.bc(O.b))},t.\u0275prov=i.Ob({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var $=o("o7am");let U=(()=>{class t{transform(t,e){let o="-";return t?(R.f[e].forEach(e=>{e.id==t&&(e.name||e.value)&&(e.name&&(o=e.name),e.value&&(o=e.value))}),o):o}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Rb({name:"global",type:t,pure:!0}),t})();function N(t,e){if(1&t&&(i.Xb(0,"div",11),i.Xb(1,"div",12),i.xc(2),i.Wb(),i.Wb()),2&t){const t=i.hc(2);i.Hb(2),i.zc(" ",t.mensaje_inicial," ")}}function V(t,e){if(1&t){const t=i.Yb();i.Xb(0,"button",52),i.fc("click",(function(){i.sc(t);const e=i.hc(3);return e._precontractual_functions_services.descargarDocumento(e.solicitud.documento_adjunto)})),i.xc(1),i.Wb()}if(2&t){const t=i.hc(3);i.Hb(1),i.yc(t.solicitud.documento_adjunto)}}function B(t,e){if(1&t){const t=i.Yb();i.Xb(0,"tr"),i.Xb(1,"td"),i.xc(2,"CDP"),i.Xb(3,"span",38),i.xc(4,"*"),i.Wb(),i.Wb(),i.Xb(5,"td"),i.xc(6),i.ic(7,"date"),i.Wb(),i.Xb(8,"td"),i.xc(9,"-"),i.Wb(),i.Xb(10,"td"),i.xc(11),i.ic(12,"global"),i.Wb(),i.Xb(13,"td"),i.Xb(14,"button",59),i.fc("click",(function(){i.sc(t);const e=i.hc().$implicit;return i.hc(4)._precontractual_functions_services.descargarDocumento(e.documento)})),i.Tb(15,"i",60),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=i.hc().$implicit;i.Hb(6),i.yc(i.jc(7,2,t.createdAt,"dd/MM/yyyy")),i.Hb(5),i.yc(i.jc(12,5,t.estado,"estados_presupuesto"))}}function Y(t,e){if(1&t&&(i.Vb(0),i.vc(1,B,16,8,"tr",10),i.Ub()),2&t){const t=e.$implicit;i.Hb(1),i.kc("ngIf",1==t.tipo_certificado&&2==t.estado)}}function J(t,e){1&t&&(i.Xb(0,"span",38),i.xc(1,"*"),i.Wb())}function Z(t,e){if(1&t&&(i.Vb(0),i.xc(1),i.ic(2,"date"),i.Ub()),2&t){const t=i.hc(2).$implicit;i.Hb(1),i.zc(" ",i.jc(2,1,t.fecha_vigencia,"dd/MM/yyyy")," ")}}function G(t,e){1&t&&i.xc(0,"-")}function K(t,e){if(1&t){const t=i.Yb();i.Xb(0,"span",66),i.Xb(1,"button",67),i.fc("click",(function(){i.sc(t);const e=i.hc(2).$implicit;return i.hc(6).documento_seleccionado=e})),i.Tb(2,"i",68),i.Wb(),i.Wb()}2&t&&(i.Hb(1),i.Ib("data-target","#editarEstadoDocumento"))}const Q=function(t){return{bad:t}};function tt(t,e){if(1&t){const t=i.Yb();i.Vb(0),i.Xb(1,"td"),i.xc(2),i.ic(3,"date"),i.Wb(),i.Xb(4,"td",62),i.vc(5,Z,3,4,"ng-container",63),i.vc(6,G,1,0,"ng-template",null,64,i.wc),i.Wb(),i.Xb(8,"td"),i.xc(9),i.ic(10,"global"),i.Wb(),i.Xb(11,"td"),i.Xb(12,"span"),i.Xb(13,"button",59),i.fc("click",(function(){i.sc(t);const e=i.hc().$implicit;return i.hc(6)._precontractual_functions_services.descargarDocumento(e.documento)})),i.Tb(14,"i",60),i.Wb(),i.Wb(),i.vc(15,K,3,1,"span",65),i.Wb(),i.Ub()}if(2&t){const t=i.rc(7),e=i.hc().$implicit,o=i.hc(6);i.Hb(2),i.yc(i.jc(3,6,e.createdAt,"dd/MM/yyyy")),i.Hb(2),i.kc("ngClass",i.nc(12,Q,o._precontractual_functions_services.validarVencimientoFechasDocumentos(e.fecha_vigencia,30))),i.Hb(1),i.kc("ngIf",e.fecha_vigencia)("ngIfElse",t),i.Hb(4),i.yc(i.jc(10,9,e.estado,"estados_documentacion")),i.Hb(6),i.kc("ngIf",!o.documento_preloader||!o.validarDocumentosAprovados()||!o.bandera_disabled)}}function et(t,e){if(1&t&&(i.Vb(0),i.vc(1,tt,16,14,"ng-container",10),i.Ub()),2&t){const t=e.$implicit,o=i.hc(2).$implicit;i.Hb(1),i.kc("ngIf",t.id_documento==o.id)}}function ot(t,e){1&t&&(i.Vb(0),i.Tb(1,"i",70),i.Ub())}function nt(t,e){1&t&&i.xc(0," - ")}function ct(t,e){if(1&t&&(i.Vb(0),i.Xb(1,"td",69),i.vc(2,ot,2,0,"ng-container",63),i.vc(3,nt,1,0,"ng-template",null,64,i.wc),i.Wb(),i.Ub()),2&t){const t=i.rc(4),e=i.hc(2).$implicit,o=i.hc(4);i.Hb(2),i.kc("ngIf",e.required&&(e.required==o.solicitud.tipo_contrato||!0===e.required))("ngIfElse",t)}}function it(t,e){if(1&t&&(i.Xb(0,"tr"),i.Xb(1,"td"),i.xc(2),i.vc(3,J,2,0,"span",61),i.Wb(),i.vc(4,et,2,1,"ng-container",58),i.vc(5,ct,5,2,"ng-container",10),i.Wb()),2&t){const t=i.hc().$implicit,e=i.hc(4);i.Hb(2),i.yc(t.value),i.Hb(1),i.kc("ngIf",t.required&&(t.required==e.solicitud.tipo_contrato||!0===t.required)),i.Hb(1),i.kc("ngForOf",e.solicitud.documentos),i.Hb(1),i.kc("ngIf",!1===e._precontractual_functions_services.validarDocumento(e.solicitud,t.id,!0))}}function at(t,e){if(1&t&&(i.Vb(0),i.vc(1,it,6,4,"tr",10),i.Ub()),2&t){const t=e.$implicit,o=i.hc(4);i.Hb(1),i.kc("ngIf",(t.tipo_contrato==o.solicitud.tipo_contrato||!t.tipo_contrato)&&t.id<=28)}}function rt(t,e){if(1&t&&(i.Vb(0),i.Xb(1,"h3",14),i.xc(2,"Documentos"),i.Wb(),i.Xb(3,"div",53),i.Xb(4,"div",54),i.Xb(5,"table",55),i.Xb(6,"thead",56),i.Xb(7,"tr"),i.Xb(8,"th"),i.xc(9,"Documento Adjunto"),i.Wb(),i.Xb(10,"th"),i.xc(11,"Fecha de Cargue"),i.Wb(),i.Xb(12,"th"),i.xc(13,"Vigencia"),i.Wb(),i.Xb(14,"th"),i.xc(15,"Estado"),i.Wb(),i.Xb(16,"th"),i.xc(17,"Acciones"),i.Wb(),i.Wb(),i.Wb(),i.Xb(18,"tbody",57),i.vc(19,Y,2,1,"ng-container",58),i.vc(20,at,2,1,"ng-container",58),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Ub()),2&t){const t=i.hc(3);i.Hb(19),i.kc("ngForOf",t.solicitud.presupuesto),i.Hb(1),i.kc("ngForOf",t.global.tipos_documentos)}}function st(t,e){1&t&&(i.Xb(0,"span",38),i.xc(1,"*"),i.Wb())}function lt(t,e){if(1&t&&(i.Vb(0),i.xc(1),i.ic(2,"date"),i.Ub()),2&t){const t=i.hc(2).$implicit;i.Hb(1),i.zc(" ",i.jc(2,1,t.fecha_vigencia,"dd/MM/yyyy")," ")}}function bt(t,e){1&t&&i.xc(0,"-")}function dt(t,e){if(1&t&&(i.Vb(0),i.Xb(1,"td",62),i.vc(2,lt,3,4,"ng-container",63),i.vc(3,bt,1,0,"ng-template",null,64,i.wc),i.Wb(),i.Ub()),2&t){const t=i.rc(4),e=i.hc().$implicit,o=i.hc(6);i.Hb(1),i.kc("ngClass",i.nc(3,Q,o._precontractual_functions_services.validarVencimientoFechasDocumentos(e.fecha_vigencia,30))),i.Hb(1),i.kc("ngIf",e.fecha_vigencia)("ngIfElse",t)}}function ut(t,e){if(1&t&&(i.Vb(0),i.vc(1,dt,5,5,"ng-container",10),i.Ub()),2&t){const t=e.$implicit,o=i.hc(2).$implicit;i.Hb(1),i.kc("ngIf",t.id_documento==o.id)}}function pt(t,e){1&t&&(i.Vb(0),i.Xb(1,"td"),i.xc(2,"-"),i.Wb(),i.Ub())}function ft(t,e){if(1&t){const t=i.Yb();i.Vb(0),i.Xb(1,"button",79),i.fc("click",(function(){i.sc(t);const e=i.hc(2).$implicit,o=i.hc(4);return o._precontractual_functions_services.descargarDocumento(o._precontractual_functions_services.validarDocumento(o.solicitud,e.id))})),i.Tb(2,"i",80),i.Wb(),i.Ub()}}function mt(t,e){1&t&&i.Tb(0,"i",70)}function gt(t,e){1&t&&i.xc(0,"-")}function ht(t,e){if(1&t&&(i.vc(0,mt,1,0,"i",81),i.vc(1,gt,1,0,"ng-template",null,82,i.wc)),2&t){const t=i.rc(2),e=i.hc(2).$implicit;i.kc("ngIf",e.required)("ngIfElse",t)}}function vt(t,e){if(1&t&&(i.Xb(0,"tr"),i.Xb(1,"td"),i.xc(2),i.vc(3,st,2,0,"span",61),i.Wb(),i.vc(4,ut,2,1,"ng-container",58),i.vc(5,pt,3,0,"ng-container",10),i.Xb(6,"td"),i.vc(7,ft,3,0,"ng-container",63),i.vc(8,ht,3,2,"ng-template",null,78,i.wc),i.Wb(),i.Wb()),2&t){const t=i.rc(9),e=i.hc().$implicit,o=i.hc(4);i.Hb(2),i.yc(e.value),i.Hb(1),i.kc("ngIf",e.required),i.Hb(1),i.kc("ngForOf",o.solicitud.documentos),i.Hb(1),i.kc("ngIf",o.validarExistenciaDocumento(o.solicitud.documentos,e.id)),i.Hb(2),i.kc("ngIf",o._precontractual_functions_services.validarDocumento(o.solicitud,e.id,!0))("ngIfElse",t)}}function _t(t,e){if(1&t&&(i.Vb(0),i.vc(1,vt,10,6,"tr",10),i.Ub()),2&t){const t=e.$implicit,o=i.hc(4);i.Hb(1),i.kc("ngIf",t.id>=29&&t.id<=34||45==t.id&&1==o.solicitud.tipo_contrato)}}function Wt(t,e){if(1&t&&(i.Xb(0,"textarea",85),i.xc(1),i.Wb()),2&t){const t=i.hc(5);i.Hb(1),i.yc(t.CRP.descripcion)}}function Xt(t,e){if(1&t&&(i.Xb(0,"textarea",85),i.xc(1),i.Wb()),2&t){const t=i.hc(5);i.Hb(1),i.yc(t.CRP.motivo)}}function xt(t,e){if(1&t){const t=i.Yb();i.Xb(0,"button",52),i.fc("click",(function(){i.sc(t);const e=i.hc(5);return e._precontractual_functions_services.descargarDocumento(e.CRP.documento)})),i.xc(1),i.Wb()}if(2&t){const t=i.hc(5);i.Hb(1),i.yc(t.CRP.documento)}}const kt=function(t,e){return{"btn-danger":t,"btn-success":e}};function It(t,e){if(1&t&&(i.Vb(0),i.Xb(1,"span",83),i.xc(2),i.ic(3,"global"),i.Wb(),i.vc(4,Wt,2,1,"textarea",84),i.vc(5,Xt,2,1,"textarea",84),i.vc(6,xt,2,1,"button",33),i.Ub()),2&t){const t=i.hc(4);i.Hb(1),i.kc("ngClass",i.oc(8,kt,1==t.CRP.estado,2==t.CRP.estado)),i.Hb(1),i.yc(i.jc(3,5,t.CRP.estado,"estados_presupuesto")),i.Hb(2),i.kc("ngIf",1==t.CRP.estado),i.Hb(1),i.kc("ngIf",2==t.CRP.estado),i.Hb(1),i.kc("ngIf",t.CRP.documento)}}function yt(t,e){1&t&&(i.Xb(0,"button",86),i.Tb(1,"i",87),i.xc(2," Solicitar CRP"),i.Wb()),2&t&&i.Ib("data-target","#crearCDPCRPPresupuestoModal")}function Ct(t,e){if(1&t&&(i.Vb(0),i.Xb(1,"div",71),i.Xb(2,"small"),i.xc(3,"Los documentos marcados con el s\xedmbolo "),i.Tb(4,"i",70),i.xc(5," son obligatorios para finalizar la solicitud"),i.Wb(),i.Wb(),i.Xb(6,"div",53),i.Xb(7,"div",54),i.Xb(8,"table",55),i.Xb(9,"thead",56),i.Xb(10,"tr"),i.Xb(11,"th"),i.xc(12,"Documento Adjunto"),i.Wb(),i.Xb(13,"th"),i.xc(14,"Vigencia"),i.Wb(),i.Xb(15,"th"),i.xc(16,"Acciones"),i.Wb(),i.Wb(),i.Wb(),i.Xb(17,"tbody",57),i.vc(18,_t,2,1,"ng-container",58),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(19,"div",72),i.Xb(20,"div",73),i.vc(21,It,7,11,"ng-container",10),i.vc(22,yt,3,1,"button",74),i.Wb(),i.Wb(),i.Xb(23,"div",75),i.Xb(24,"button",76),i.Tb(25,"i",77),i.Wb(),i.Wb(),i.Ub()),2&t){const t=i.hc(3);i.Hb(18),i.kc("ngForOf",t.global.tipos_documentos),i.Hb(3),i.kc("ngIf",t.CRP),i.Hb(1),i.kc("ngIf",!t.CRP),i.Hb(2),i.Ib("data-target","#agregarDocumentoModal")}}function Ht(t,e){1&t&&(i.Xb(0,"option",88),i.xc(1,"APROBADO"),i.Wb())}function Pt(t,e){1&t&&(i.Xb(0,"option",89),i.xc(1,"DEVULETO"),i.Wb())}function Dt(t,e){1&t&&(i.Xb(0,"option",90),i.xc(1,"PENDIENTE"),i.Wb())}function St(t,e){1&t&&(i.Xb(0,"option",91),i.xc(1,"FINALIZADO"),i.Wb())}const jt=function(t){return{"is-invalid":t}};function Ft(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",16),i.Xb(1,"label",92),i.xc(2,"Fecha de presentaci\xf3n comit\xe9 de contrataci\xf3n"),i.Xb(3,"span",38),i.xc(4,"*"),i.Wb(),i.Wb(),i.Xb(5,"input",93,94),i.fc("ngModelChange",(function(e){return i.sc(t),i.hc(3).solicitud.fecha_comite_contratacion=e})),i.Wb(),i.Wb()}if(2&t){const t=i.rc(6),e=i.hc(3);i.Hb(5),i.kc("ngClass",i.nc(4,jt,t.invalid))("ngModel",e.solicitud.fecha_comite_contratacion)("min",e._global_service.obtenerFechaActual())("disabled",e.bandera_disabled)}}function Mt(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",15),i.Xb(1,"div",32),i.Xb(2,"label",95),i.xc(3,"Observaciones"),i.Xb(4,"span",38),i.xc(5,"*"),i.Wb(),i.Wb(),i.Xb(6,"textarea",96,97),i.fc("ngModelChange",(function(e){return i.sc(t),i.hc(3).solicitud.observaciones_juridica=e})),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=i.rc(7),e=i.hc(3);i.Hb(6),i.kc("ngClass",i.nc(2,jt,t.invalid))("ngModel",e.solicitud.observaciones_juridica)}}function wt(t,e){if(1&t&&(i.Xb(0,"button",98),i.Tb(1,"i",80),i.xc(2," Enviar"),i.Wb()),2&t){i.hc();const t=i.rc(39);i.kc("disabled",t.invalid)}}const At=function(t){return{"col-md-6 d-inline-block":t}};function Rt(t,e){if(1&t){const t=i.Yb();i.Vb(0),i.Xb(1,"div",13),i.Xb(2,"h3",14),i.xc(3,"Datos del Solicitante"),i.Wb(),i.Xb(4,"div",15),i.Xb(5,"div",16),i.Xb(6,"label",17),i.xc(7,"Nombres y Apellidos"),i.Wb(),i.Tb(8,"input",18),i.Wb(),i.Xb(9,"div",16),i.Xb(10,"label",19),i.xc(11,"Cargo"),i.Wb(),i.Tb(12,"input",20),i.Wb(),i.Wb(),i.Xb(13,"div",15),i.Xb(14,"div",21),i.Xb(15,"label",22),i.xc(16,"\xc1rea"),i.Wb(),i.Tb(17,"input",23),i.ic(18,"global"),i.Wb(),i.Xb(19,"div",24),i.Xb(20,"label",25),i.xc(21,"Correo electr\xf3nico"),i.Wb(),i.Tb(22,"input",26),i.Wb(),i.Xb(23,"div",27),i.Xb(24,"label",28),i.xc(25,"Tipo de contrato"),i.Wb(),i.Tb(26,"input",29),i.ic(27,"global"),i.Wb(),i.Wb(),i.Xb(28,"h3",14),i.xc(29,"Descripci\xf3n"),i.Wb(),i.Xb(30,"div",15),i.Xb(31,"div",30),i.Xb(32,"textarea",31),i.xc(33),i.Wb(),i.Wb(),i.Xb(34,"div",32),i.vc(35,V,2,1,"button",33),i.Wb(),i.Wb(),i.Wb(),i.vc(36,rt,21,2,"ng-container",10),i.vc(37,Ct,26,4,"ng-container",10),i.Xb(38,"form",34,35),i.fc("ngSubmit",(function(){i.sc(t);const e=i.rc(39);return i.hc(2).onSubmit(e)})),i.Xb(40,"h3",14),i.xc(41,"Respuesta"),i.Wb(),i.Xb(42,"div",13),i.Xb(43,"div",15),i.Xb(44,"div",36),i.Xb(45,"label",37),i.xc(46,"Estado Solicitud"),i.Xb(47,"span",38),i.xc(48,"*"),i.Wb(),i.Wb(),i.Xb(49,"select",39,40),i.fc("ngModelChange",(function(e){return i.sc(t),i.hc(2).solicitud.estado=e})),i.vc(51,Ht,2,0,"option",41),i.Xb(52,"option",42),i.xc(53,"ANULADO"),i.Wb(),i.vc(54,Pt,2,0,"option",43),i.vc(55,Dt,2,0,"option",44),i.vc(56,St,2,0,"option",45),i.Wb(),i.Wb(),i.vc(57,Ft,7,6,"div",46),i.Wb(),i.vc(58,Mt,8,4,"div",47),i.Wb(),i.Xb(59,"div",48),i.Xb(60,"div",49),i.vc(61,wt,3,1,"button",50),i.Xb(62,"button",51),i.fc("click",(function(){return i.sc(t),i.hc(2).cancelarSolicitud()})),i.xc(63,"Cancelar"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Ub()}if(2&t){const t=i.rc(50),e=i.hc(2);i.Hb(8),i.lc("value",e.nombre_completo),i.Hb(4),i.lc("value",e.solicitud.cargo),i.Hb(5),i.lc("value",i.jc(18,20,e.solicitud.area_solicitante,"areas_contratacion")),i.Hb(5),i.lc("value",e.solicitud.correo_electronico),i.Hb(4),i.lc("value",i.jc(27,23,e.solicitud.tipo_contrato,"tipos_contratos")),i.Hb(7),i.yc(e.solicitud.descripcion_solicitud),i.Hb(2),i.kc("ngIf",!e.documento_adjunto&&e.solicitud.documento_adjunto),i.Hb(1),i.kc("ngIf",e.solicitud.documentos&&e.solicitud.documentos.length>0),i.Hb(1),i.kc("ngIf",e.validarDocumentosAprovados()),i.Hb(7),i.kc("ngClass",i.nc(26,At,3==e.solicitud.estado||e.solicitud.fecha_comite_contratacion)),i.Hb(5),i.kc("ngClass",i.nc(28,jt,t.invalid))("ngModel",e.solicitud.estado)("disabled",e.bandera_disabled),i.Hb(2),i.kc("ngIf",e.solicitud.fecha_comite_contratacion&&!e.validarDocumentosContractualesRequeridos()),i.Hb(3),i.kc("ngIf",!e.solicitud.fecha_comite_contratacion),i.Hb(1),i.kc("ngIf",e.solicitud.documentos.length<=0),i.Hb(1),i.kc("ngIf",e.validarDocumentosContractualesRequeridos()),i.Hb(1),i.kc("ngIf",3==e.solicitud.estado||e.solicitud.fecha_comite_contratacion),i.Hb(1),i.kc("ngIf",2==e.solicitud.estado||4==e.solicitud.estado),i.Hb(3),i.kc("ngIf",!e.bandera_disabled)}}function Ot(t,e){if(1&t&&(i.Xb(0,"div",5),i.Xb(1,"div",6),i.Xb(2,"a",7),i.xc(3,"Regresar"),i.Wb(),i.Wb(),i.Xb(4,"div",8),i.vc(5,N,3,1,"div",9),i.vc(6,Rt,64,30,"ng-container",10),i.Wb(),i.Wb()),2&t){const t=i.hc();i.Hb(5),i.kc("ngIf",t.mensaje_inicial),i.Hb(1),i.kc("ngIf",t.solicitud)}}function Lt(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",99),i.Xb(1,"div",100),i.Xb(2,"div",101),i.Xb(3,"form",102,103),i.fc("ngSubmit",(function(){i.sc(t);const e=i.rc(4);return i.hc().crearCDPCRPPresupuesto(e)})),i.Xb(5,"div",104),i.Xb(6,"h4",105),i.xc(7,"Fromulario Solicitud CRP"),i.Wb(),i.Xb(8,"button",106),i.xc(9,"\xd7"),i.Wb(),i.Wb(),i.Xb(10,"div",107),i.Xb(11,"div",15),i.Xb(12,"div",30),i.Xb(13,"label",108),i.xc(14,"Descripci\xf3n de la solicitud"),i.Xb(15,"span",38),i.xc(16,"*"),i.Wb(),i.Wb(),i.Xb(17,"textarea",109,110),i.fc("ngModelChange",(function(e){return i.sc(t),i.hc().presupuesto.descripcion=e})),i.Wb(),i.Wb(),i.Wb(),i.Xb(19,"div",15),i.Xb(20,"div",30),i.Xb(21,"label",108),i.xc(22," Documento adjunto "),i.Xb(23,"a",111),i.Tb(24,"i",60),i.Wb(),i.Wb(),i.Xb(25,"input",112),i.fc("change",(function(e){return i.sc(t),i.hc().cargarDocumentoRequerido(e.target.files[0],35)})),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(26,"div",113),i.Xb(27,"div",49),i.Xb(28,"button",114),i.fc("click",(function(){i.sc(t);const e=i.rc(4);return i.hc().crearCDPCRPPresupuesto(e)})),i.Tb(29,"i",80),i.xc(30," Solicitar"),i.Wb(),i.Xb(31,"button",115),i.xc(32,"Cancelar"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=i.rc(4),e=i.rc(18),o=i.hc();i.Hb(17),i.kc("ngClass",i.nc(3,jt,e.invalid))("ngModel",o.presupuesto.descripcion),i.Hb(11),i.kc("disabled",t.invalid)}}function Et(t,e){if(1&t&&(i.Xb(0,"option",126),i.xc(1),i.Wb()),2&t){const t=i.hc().$implicit;i.lc("value",t.id),i.Hb(1),i.yc(t.value)}}function Tt(t,e){if(1&t&&(i.Vb(0),i.vc(1,Et,2,2,"option",125),i.Ub()),2&t){const t=e.$implicit,o=i.hc(2);i.Hb(1),i.kc("ngIf",t.id>=29&&t.id<=34||45==t.id&&1==o.solicitud.tipo_contrato)}}function qt(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",116),i.Xb(1,"div",100),i.Xb(2,"div",101),i.Xb(3,"form",102,117),i.fc("ngSubmit",(function(){i.sc(t);const e=i.hc();return e.cargarDocumentoRequerido(e.documento_a_cargar,e.documentacion.id_documento)})),i.Xb(5,"div",104),i.Xb(6,"h4",105),i.xc(7,"Agregar Documento a la Solicitud"),i.Wb(),i.Xb(8,"button",106),i.xc(9,"\xd7"),i.Wb(),i.Wb(),i.Xb(10,"div",107),i.Xb(11,"div",15),i.Xb(12,"div",30),i.Xb(13,"label",108),i.xc(14,"Seleccione el documento"),i.Xb(15,"span",38),i.xc(16,"*"),i.Wb(),i.Wb(),i.Xb(17,"select",118,119),i.fc("ngModelChange",(function(e){return i.sc(t),i.hc().documentacion.id_documento=e})),i.vc(19,Tt,2,1,"ng-container",58),i.Wb(),i.Wb(),i.Wb(),i.Xb(20,"div",15),i.Xb(21,"div",30),i.Xb(22,"label",120),i.xc(23,"Fecha de vigencia"),i.Xb(24,"span",38),i.xc(25,"*"),i.Wb(),i.Wb(),i.Xb(26,"input",121,122),i.fc("ngModelChange",(function(e){return i.sc(t),i.hc().documentacion.fecha_vigencia=e})),i.Wb(),i.Wb(),i.Wb(),i.Xb(28,"div",15),i.Xb(29,"div",30),i.Xb(30,"label",108),i.xc(31,"Documento adjunto"),i.Xb(32,"span",38),i.xc(33,"*"),i.Wb(),i.Wb(),i.Xb(34,"input",123),i.fc("change",(function(e){return i.sc(t),i.hc().documento_a_cargar=e.target.files[0]})),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(35,"div",113),i.Xb(36,"div",49),i.Xb(37,"button",114),i.fc("click",(function(){i.sc(t);const e=i.hc();return e.cargarDocumentoRequerido(e.documento_a_cargar,e.documentacion.id_documento)})),i.Tb(38,"i",80),i.xc(39," Adjuntar Documento"),i.Wb(),i.Xb(40,"button",124),i.fc("click",(function(){return i.sc(t),i.hc().configurarInformacionInicial()})),i.xc(41,"Cancelar"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=i.rc(4),e=i.rc(18),o=i.rc(27),n=i.hc();i.Hb(17),i.kc("ngClass",i.nc(7,jt,e.invalid))("ngModel",n.documentacion.id_documento),i.Hb(2),i.kc("ngForOf",n.global.tipos_documentos),i.Hb(7),i.kc("ngClass",i.nc(9,jt,o.invalid))("ngModel",n.documentacion.fecha_vigencia)("min",n._global_service.obtenerFechaActual()),i.Hb(11),i.kc("disabled",t.invalid||!n.documento_a_cargar)}}function zt(t,e){if(1&t&&(i.Xb(0,"option",126),i.xc(1),i.Wb()),2&t){const t=e.$implicit;i.lc("value",t.id),i.Hb(1),i.yc(t.value)}}function $t(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",15),i.Xb(1,"div",30),i.Xb(2,"label",120),i.xc(3,"Fecha de vigencia"),i.Xb(4,"span",38),i.xc(5,"*"),i.Wb(),i.Wb(),i.Xb(6,"input",121,122),i.fc("ngModelChange",(function(e){return i.sc(t),i.hc(2).documento_seleccionado.fecha_vigencia=e})),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=i.rc(7),e=i.hc(2);i.Hb(6),i.kc("ngClass",i.nc(3,jt,t.invalid))("ngModel",e.documento_seleccionado.fecha_vigencia)("min",e._global_service.obtenerFechaActual())}}function Ut(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",15),i.Xb(1,"div",30),i.Xb(2,"label",132),i.xc(3,"Observaci\xf3n"),i.Xb(4,"span",38),i.xc(5,"*"),i.Wb(),i.Wb(),i.Xb(6,"textarea",133,134),i.fc("ngModelChange",(function(e){return i.sc(t),i.hc(2).documento_seleccionado.observacion=e})),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=i.rc(7),e=i.hc(2);i.Hb(6),i.kc("ngClass",i.nc(2,jt,t.invalid))("ngModel",e.documento_seleccionado.observacion)}}function Nt(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",127),i.Xb(1,"div",100),i.Xb(2,"div",101),i.Xb(3,"form",102,128),i.fc("ngSubmit",(function(){i.sc(t);const e=i.hc();return e.actualizarEstadoDocumentoAdjunto(e.documento_seleccionado)})),i.Xb(5,"div",104),i.Xb(6,"h4",105),i.xc(7,"Editar el Estado del Documento"),i.Wb(),i.Xb(8,"button",106),i.xc(9,"\xd7"),i.Wb(),i.Wb(),i.Xb(10,"div",107),i.Xb(11,"div",15),i.Xb(12,"div",30),i.Xb(13,"label",129),i.xc(14,"Seleccione el estado del documento"),i.Xb(15,"span",38),i.xc(16,"*"),i.Wb(),i.Wb(),i.Xb(17,"select",130),i.fc("ngModelChange",(function(e){return i.sc(t),i.hc().documento_seleccionado.estado=e})),i.vc(18,zt,2,2,"option",131),i.Wb(),i.Wb(),i.Wb(),i.vc(19,$t,8,5,"div",47),i.vc(20,Ut,8,4,"div",47),i.Wb(),i.Xb(21,"div",113),i.Xb(22,"div",49),i.Xb(23,"button",114),i.fc("click",(function(){i.sc(t);const e=i.hc();return e.actualizarEstadoDocumentoAdjunto(e.documento_seleccionado)})),i.Tb(24,"i",80),i.xc(25," Editar Estado"),i.Wb(),i.Xb(26,"button",124),i.fc("click",(function(){return i.sc(t),i.hc().configurarInformacionInicial()})),i.xc(27,"Cancelar"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=i.rc(4),e=i.hc();i.Hb(17),i.kc("ngModel",e.documento_seleccionado.estado),i.Hb(1),i.kc("ngForOf",e.global.estados_documentacion),i.Hb(1),i.kc("ngIf",3==e.documento_seleccionado.estado),i.Hb(1),i.kc("ngIf",2==e.documento_seleccionado.estado),i.Hb(3),i.kc("disabled",t.invalid)}}let Vt=(()=>{class t{constructor(t,e,o,n,c,i,a,r){this._documentacion_service=t,this._file_upload_service=e,this._global_service=o,this._precontractual_functions_services=n,this._precontractual_service=c,this._presupuesto_service=i,this._route=a,this._router=r,this.bandera_inicial=!1,this.global=R.f}ngOnInit(){this.obtenerInformacionInicial()}actualizarEstadoDocumentoAdjunto(t){this.documento_preloader=!0,this._documentacion_service.actualizarEstadoDocumentoAdjunto(t).subscribe(t=>{j.a.fire({position:"center",icon:"success",title:t.message,showConfirmButton:!0}),this.documento_preloader=!1,this.validarDocumentosAprovados()})}cancelarSolicitud(){this._router.navigate(["./contratacion/precontractual/panel-juridica"])}cargarDocumentoRequerido(t,e){if(this.documentacion.etapa_contractual=2,this.documentacion.estado=1,this.solicitud.documentos&&this.solicitud.documentos.length>0){let o=!1,n=null;if(this.solicitud.documentos.forEach(t=>{t.id_documento==e&&(o=!0,n=t.id)}),o&&t)return void this._file_upload_service.cargarArchivo(t,"contratacion").then(t=>{"success"==t.status&&(this.documentacion.id=n,this.documentacion.documento=t.nombre_archivo,this.documentacion.id_documento=e,this._documentacion_service.actualizarDocumentoAdjunto(this.documentacion).subscribe(t=>{j.a.fire({position:"center",icon:"success",title:t.message,showConfirmButton:!0}),this._precontractual_functions_services.obtenerSolicitud(this.solicitud.id).then(t=>{this.solicitud=t})}))}).catch(t=>{console.log(t)})}this._file_upload_service.cargarArchivo(t,"contratacion").then(t=>{"success"==t.status&&(this.documentacion.documento=t.nombre_archivo,this.documentacion.id_documento=e,this._documentacion_service.crearDocumentoAdjunto(this.documentacion).subscribe(t=>{j.a.fire({position:"center",icon:"success",title:t.message,showConfirmButton:!0}),this._precontractual_functions_services.obtenerSolicitud(this.solicitud.id).then(t=>{this.solicitud=t})}))}).catch(t=>{console.log(t)})}clasificarDocumentos(t){let e=null;return this.global.tipos_documentos.forEach(o=>{o.id==t&&(o.tipo_contrato?o.tipo_contrato==this.solicitud.tipo_contrato&&(e=o.value):e=o.value)}),e}configurarInformacionInicial(){this.solicitud.presupuesto&&this.solicitud.presupuesto.length>0&&this.solicitud.presupuesto.forEach(t=>{2==t.tipo_certificado&&(this.CRP=t)}),this.presupuesto=this.CRP?this.CRP:new w(null,this.solicitud.id,null,null,null,2,null,null,null,null,null,null),this.documentacion=new F(null,this.solicitud.id,null,null,2,null,null,null,null,null,null),this.documento_seleccionado=new F(null,this.solicitud.id,null,null,2,null,null,null,null,null,null)}crearCDPCRPPresupuesto(t){this._presupuesto_service.crearCDPCRPPresupuesto(this.presupuesto).subscribe(e=>{j.a.fire({position:"center",icon:"success",title:e.message,showConfirmButton:!0}),t.reset(),this._precontractual_functions_services.obtenerSolicitud(this.solicitud.id).then(t=>{this.solicitud=t,this.configurarInformacionInicial()})})}obtenerInformacionInicial(){this._route.params.subscribe(t=>{let e=t.id;this.solicitud_id=e,Promise.all([this._precontractual_functions_services.obtenerSolicitud(e)]).then(t=>{this.solicitud=t[0],this.bandera_disabled=7==this.solicitud.estado,this.configurarInformacionInicial(),this.validarDocumentacionCompleta(),this.nombre_completo=this.solicitud.primer_nombre+" "+(this.solicitud.segundo_nombre?this.solicitud.segundo_nombre+" ":"")+this.solicitud.primer_apellido+" "+(this.solicitud.segundo_apellido?this.solicitud.segundo_apellido+" ":""),this.bandera_inicial=!0}).catch(t=>{this.mensaje_inicial=t,this.bandera_inicial=!0})})}onSubmit(t){return Object(D.a)(this,void 0,void 0,(function*(){this._precontractual_service.actualizarSolicitudPrecontractual(this.solicitud).subscribe(e=>{j.a.fire({position:"center",icon:"success",title:e.message,showConfirmButton:!0}),t.reset(),this.cancelarSolicitud()})}))}validarDocumentacionCompleta(){if(this.solicitud.documentos&&this.solicitud.documentos.length>0){const t=[];return this.global.tipos_documentos.forEach(e=>{e.required&&(!0===e.required||e.required==this.solicitud.tipo_contrato)&&e.id<=28&&(e.tipo_contrato?e.tipo_contrato==this.solicitud.tipo_contrato&&t.push(e):t.push(e))}),t}}validarDocumentosAprovados(){if(this.solicitud.documentos&&this.solicitud.documentos.length>0){let t=!0;const e=this.validarDocumentacionCompleta();if(this.solicitud.documentos.forEach(e=>{3!=e.estado&&1==e.etapa_contractual&&2!=e.id_documento&&(t=!1)}),t){let o=!1;return this.solicitud.presupuesto.forEach(t=>{1==t.tipo_certificado&&2==t.estado&&(o=!0)}),!!o&&(e.forEach(e=>{let o=!1;this.solicitud.documentos.forEach(t=>{e.id==t.id_documento&&(o=!0)}),t=o?t:o}),t)}return!1}return!1}validarDocumentosContractualesRequeridos(){let t=!0;return this.global.tipos_documentos.forEach(e=>{e.id>=29&&e.id<=37&&e.required&&0==this.solicitud.documentos.filter(t=>{if(t.id_documento==e.id)return!0}).length&&(t=!1)}),t}validarExistenciaDocumento(t,e){let o=!0;return t.forEach(t=>{t.id_documento==e&&(o=!1)}),o}}return t.\u0275fac=function(e){return new(e||t)(i.Sb(L),i.Sb(R.b),i.Sb(R.c),i.Sb(T),i.Sb(E),i.Sb(q),i.Sb(P.a),i.Sb(P.d))},t.\u0275cmp=i.Mb({type:t,selectors:[["app-aprobacion-juridica"]],decls:5,vars:5,consts:[[3,"bandera_carga"],["class","col-lg-12 pr-0 pl-0",4,"ngIf"],["class","modal animated fadeIn faster","id","crearCDPCRPPresupuestoModal",4,"ngIf"],["class","modal animated fadeIn faster","id","agregarDocumentoModal",4,"ngIf"],["class","modal animated fadeIn faster","id","editarEstadoDocumento",4,"ngIf"],[1,"col-lg-12","pr-0","pl-0"],[1,"backLink","col","col-sm-12"],["routerLink","/contratacion/precontractual/panel-juridica",1,"col-sm-12"],[1,"formContainer"],["class","col col-12 mt-2",4,"ngIf"],[4,"ngIf"],[1,"col","col-12","mt-2"],["role","alert",1,"alert","alert-warning"],[1,"form-body"],[1,"subtitle"],[1,"form-group"],[1,"col","col-sm-12","col-md-6","d-inline-block"],["for","nombres_apellidos",1,"control-label","labelForm"],["type","text","id","nombres_apellidos","name","nombres_apellidos","disabled","",1,"form-control","inputForm",3,"value"],["for","cargo",1,"control-label","labelForm"],["type","text","id","cargo","name","cargo","disabled","",1,"form-control","inputForm",3,"value"],[1,"col","col-sm-12","col-md-4","d-inline-block"],["for","area_solicitante",1,"control-label","labelForm"],["type","text","id","area_solicitante","name","area_solicitante","disabled","",1,"form-control","inputForm",3,"value"],[1,"col","col-sm-12","col-md-5","d-inline-block"],["for","correo_electronico",1,"control-label","labelForm"],["type","text","id","correo_electronico","name","correo_electronico","disabled","",1,"form-control","inputForm",3,"value"],[1,"col","col-sm-12","col-md-3","d-inline-block"],["for","tipo_contrato",1,"control-label","labelForm"],["type","text","id","tipo_contrato","name","tipo_contrato","disabled","",1,"form-control","inputForm",3,"value"],[1,"col","col-sm-12"],["name","descripcion_solicitud","id","descripcion_solicitud","rows","3","disabled","",1,"form-control","inputForm"],[1,"col","col-12"],["type","button","class","btn btn-waves-effect waves-light btn-rounded btn-sm btn-success mt-2 d-block",3,"click",4,"ngIf"],[3,"ngSubmit"],["juridicaForm","ngForm"],[1,"col","col-sm-12","d-inline-block",3,"ngClass"],["for","estado_solicitud",1,"control-label","labelForm"],[1,"required"],["id","estado_solicitud","name","estado_solicitud","required","",1,"form-control","inputForm","custom-select",3,"ngClass","ngModel","disabled","ngModelChange"],["estado_solicitud","ngModel"],["value","6",4,"ngIf"],["value","2"],["value","4",4,"ngIf"],["value","3",4,"ngIf"],["value","7",4,"ngIf"],["class","col col-sm-12 col-md-6 d-inline-block",4,"ngIf"],["class","form-group",4,"ngIf"],[1,"form-actions"],[1,"col","col-sm-12","text-right"],["type","submit","class","btn btn-success",3,"disabled",4,"ngIf"],["type","button",1,"btn","btn-inverse","ml-2",3,"click"],["type","button",1,"btn","btn-waves-effect","waves-light","btn-rounded","btn-sm","btn-success","mt-2","d-block",3,"click"],[1,"tableContainer"],[1,"table-responsive","tableContainerAll"],[1,"table","table-bordered"],[1,"thead_styles"],[1,"tbody_styles"],[4,"ngFor","ngForOf"],["type","button","title","Descargar Documento",1,"btn","btn-info","btn-circle","btn-sm",3,"click"],[1,"fa","fa-download"],["class","required",4,"ngIf"],[3,"ngClass"],[4,"ngIf","ngIfElse"],["elseTemplate",""],["class","ml-1",4,"ngIf"],[1,"ml-1"],["type","button","title","Editar Estado","data-toggle","modal",1,"btn","btn-warning","btn-circle","btn-sm",3,"click"],[1,"fa","fa-pencil"],["colspan","4"],[1,"fa","fa-times",2,"color","red","font-size","1rem"],[1,"infoNote"],[1,"form-group",2,"margin-bottom","15px"],[1,"col","col-sm-12","pl-0","pr-0"],["type","button","class","btn btn-waves-effect waves-light btn-rounded btn-sm btn-warning mt-2 d-block","title","Agregar CDP","data-toggle","modal",4,"ngIf"],[1,"col","col-12","text-right"],["type","button","data-toggle","modal","title","Agregar Documento",1,"btn","btn-info","btn-circle","btn-lg"],[1,"fa","fa-upload"],["elseDocumento",""],["type","button","title","Descargar Documento",1,"btn","btn-success","btn-circle","btn-sm",3,"click"],[1,"fa","fa-check"],["class","fa fa-times","style","color: red; font-size: 1rem",4,"ngIf","ngIfElse"],["elseValidarDocumento",""],[1,"btn","btn-sm","mb-2","d-inline-block",2,"margin-left","0 !important",3,"ngClass"],["name","descripcion","id","descripcion","rows","3","class","form-control inputForm","disabled","",4,"ngIf"],["name","descripcion","id","descripcion","rows","3","disabled","",1,"form-control","inputForm"],["type","button","title","Agregar CDP","data-toggle","modal",1,"btn","btn-waves-effect","waves-light","btn-rounded","btn-sm","btn-warning","mt-2","d-block"],[1,"fa","fa-plus"],["value","6"],["value","4"],["value","3"],["value","7"],["for","fecha_comite_contratacion",1,"control-label","labelForm"],["type","date","id","fecha_comite_contratacion","name","fecha_comite_contratacion","required","",1,"form-control","inputForm",3,"ngClass","ngModel","min","disabled","ngModelChange"],["fecha_comite_contratacion","ngModel"],["for","observaciones",1,"control-label","labelForm"],["name","observaciones","id","observaciones","rows","3","minlength","15","maxlength","100","placeholder","Diligencie la observaci\xf3n que tenga en relaci\xf3n con la solicitud","required","",1,"form-control","inputForm",3,"ngClass","ngModel","ngModelChange"],["observaciones","ngModel"],["type","submit",1,"btn","btn-success",3,"disabled"],["id","crearCDPCRPPresupuestoModal",1,"modal","animated","fadeIn","faster"],[1,"modal-dialog"],[1,"modal-content"],[1,"form-container",3,"ngSubmit"],["datosCRPForm","ngForm"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close"],[1,"modal-body"],["for","descripcion",1,"control-label","labelForm"],["name","descripcion","id","descripcion","rows","3","minlength","15","maxlength","100","placeholder","Diligencie la descripci\xf3n de la solicitud del CRP (m\xe1ximo 100 caracteres)","required","",1,"form-control","inputForm",3,"ngClass","ngModel","ngModelChange"],["descripcion","ngModel"],["href","https://red.capitalsalud.gov.co/wp-content/uploads/2022/07/F55-GF.docx","target","_blank","title","Descargar Documento CDP",1,"btn","btn-info","btn-circle","btn-sm",2,"margin-left","0.5rem"],["type","file","id","documento_38","accept","application/pdf","required","",1,"form-control","inputForm","mt-2",3,"change"],[1,"modal-footer"],["type","submit","data-dismiss","modal",1,"btn","btn-success",3,"disabled","click"],["type","button","data-dismiss","modal",1,"btn","btn-inverse","ml-2"],["id","agregarDocumentoModal",1,"modal","animated","fadeIn","faster"],["agregarDocumentoForm","ngForm"],["id","estado_documento","name","estado_documento","required","",1,"form-control","inputForm","custom-select",3,"ngClass","ngModel","ngModelChange"],["estado_documento","ngModel"],["for","fecha_vigencia",1,"control-label","labelForm"],["type","date","id","fecha_vigencia","name","fecha_vigencia","required","",1,"form-control","inputForm",3,"ngClass","ngModel","min","ngModelChange"],["fecha_vigencia","ngModel"],["type","file","id","documento_2","accept","application/pdf","required","",1,"form-control","inputForm","mt-2",3,"change"],["type","button","data-dismiss","modal",1,"btn","btn-inverse","ml-2",3,"click"],[3,"value",4,"ngIf"],[3,"value"],["id","editarEstadoDocumento",1,"modal","animated","fadeIn","faster"],["editarEstadoForm","ngForm"],["for","estado_documento",1,"control-label","labelForm"],["id","estado_documento","name","estado_documento",1,"form-control","inputForm","custom-select",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["for","observacion",1,"control-label","labelForm"],["name","observacion","id","observacion","rows","3","minlength","15","maxlength","100","placeholder","Diligencie la observaci\xf3n que tenga del rechazo del documento","required","",1,"form-control","inputForm",3,"ngClass","ngModel","ngModelChange"],["observacion","ngModel"]],template:function(t,e){1&t&&(i.Tb(0,"app-loader",0),i.vc(1,Ot,7,2,"div",1),i.vc(2,Lt,33,5,"div",2),i.vc(3,qt,42,11,"div",3),i.vc(4,Nt,28,5,"div",4)),2&t&&(i.kc("bandera_carga",!e.bandera_inicial),i.Hb(1),i.kc("ngIf",e.bandera_inicial),i.Hb(1),i.kc("ngIf",e.bandera_inicial&&e.presupuesto),i.Hb(1),i.kc("ngIf",e.documentacion),i.Hb(1),i.kc("ngIf",e.documento_seleccionado))},directives:[$.a,n.l,P.f,c.p,c.g,c.h,n.j,c.n,c.m,c.f,c.i,c.j,c.o,n.k,c.b,c.e,c.d],pipes:[U,n.d],encapsulation:2}),t})();function Bt(t,e){if(1&t&&(i.Xb(0,"div",8),i.Xb(1,"div",9),i.xc(2),i.Wb(),i.Wb()),2&t){const t=i.hc(2);i.Hb(2),i.zc(" ",t.mensaje_inicial," ")}}function Yt(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",35),i.Xb(1,"button",47),i.fc("click",(function(){i.sc(t);const e=i.hc(3);return e.precontractual_functions_services.descargarDocumento(e.precontractual_functions_services.validarDocumento(e.presupuesto.solicitud_precontractual,e.id_documento))})),i.xc(2,"Documento Adjunto"),i.Wb(),i.Wb()}}const Jt=function(t){return{"is-invalid":t}};function Zt(t,e){if(1&t){const t=i.Yb();i.Vb(0),i.Xb(1,"div",10),i.Xb(2,"h3",11),i.xc(3,"Datos del Solicitante"),i.Wb(),i.Xb(4,"div",12),i.Xb(5,"div",13),i.Xb(6,"label",14),i.xc(7,"Nombres y Apellidos"),i.Wb(),i.Tb(8,"input",15),i.Wb(),i.Xb(9,"div",13),i.Xb(10,"label",16),i.xc(11,"Cargo"),i.Wb(),i.Tb(12,"input",17),i.Wb(),i.Wb(),i.Xb(13,"div",12),i.Xb(14,"div",18),i.Xb(15,"label",19),i.xc(16,"\xc1rea"),i.Wb(),i.Tb(17,"input",20),i.ic(18,"global"),i.Wb(),i.Xb(19,"div",21),i.Xb(20,"label",22),i.xc(21,"Correo electr\xf3nico"),i.Wb(),i.Tb(22,"input",23),i.Wb(),i.Xb(23,"div",24),i.Xb(24,"label",25),i.xc(25,"Tipo de contrato"),i.Wb(),i.Tb(26,"input",26),i.ic(27,"global"),i.Wb(),i.Wb(),i.Xb(28,"div",12),i.Xb(29,"div",27),i.Xb(30,"label",28),i.xc(31,"Descripci\xf3n"),i.Wb(),i.Xb(32,"textarea",29),i.xc(33),i.Wb(),i.Wb(),i.Wb(),i.Xb(34,"h3",11),i.xc(35,"Descripci\xf3n Solicitud"),i.Wb(),i.Xb(36,"div",12),i.Xb(37,"div",30),i.Xb(38,"textarea",31),i.xc(39),i.Wb(),i.Wb(),i.vc(40,Yt,3,0,"div",32),i.Wb(),i.Wb(),i.Xb(41,"form",33,34),i.fc("ngSubmit",(function(){i.sc(t);const e=i.rc(42);return i.hc(2).onSubmit(e)})),i.Xb(43,"h3",11),i.xc(44,"Respuesta"),i.Wb(),i.Xb(45,"div",10),i.Xb(46,"div",12),i.Xb(47,"div",35),i.Xb(48,"label",36),i.xc(49,"Observaciones"),i.Xb(50,"span",37),i.xc(51,"*"),i.Wb(),i.Wb(),i.Xb(52,"textarea",38,39),i.fc("ngModelChange",(function(e){return i.sc(t),i.hc(2).presupuesto.motivo=e})),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(54,"div",12),i.Xb(55,"div",35),i.Xb(56,"label",40),i.xc(57,"Documento Adjunto"),i.Xb(58,"span",37),i.xc(59,"*"),i.Wb(),i.Wb(),i.Xb(60,"input",41),i.fc("change",(function(e){return i.sc(t),i.hc(2).documento_adjunto=e.target.files[0]})),i.Wb(),i.Wb(),i.Wb(),i.Xb(61,"div",42),i.Xb(62,"div",43),i.Xb(63,"button",44),i.Tb(64,"i",45),i.xc(65," Enviar"),i.Wb(),i.Xb(66,"button",46),i.fc("click",(function(){return i.sc(t),i.hc(2).cancelarSolicitud()})),i.xc(67,"Cancelar"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Ub()}if(2&t){const t=i.rc(42),e=i.rc(53),o=i.hc(2);i.Hb(8),i.lc("value",o.nombre_completo),i.Hb(4),i.lc("value",o.presupuesto.solicitud_precontractual.cargo),i.Hb(5),i.lc("value",i.jc(18,11,o.presupuesto.solicitud_precontractual.area_solicitante,"areas_contratacion")),i.Hb(5),i.lc("value",o.presupuesto.solicitud_precontractual.correo_electronico),i.Hb(4),i.lc("value",i.jc(27,14,o.presupuesto.solicitud_precontractual.tipo_contrato,"tipos_contratos")),i.Hb(7),i.yc(o.presupuesto.solicitud_precontractual.descripcion_solicitud),i.Hb(6),i.yc(o.presupuesto.descripcion),i.Hb(1),i.kc("ngIf",o.precontractual_functions_services.validarDocumento(o.presupuesto.solicitud_precontractual,o.id_documento,!0)),i.Hb(12),i.kc("ngClass",i.nc(17,Jt,e.invalid))("ngModel",o.presupuesto.motivo),i.Hb(11),i.kc("disabled",t.invalid||!o.documento_adjunto)}}function Gt(t,e){if(1&t&&(i.Xb(0,"div",2),i.Xb(1,"div",3),i.Xb(2,"a",4),i.xc(3,"Regresar"),i.Wb(),i.Wb(),i.Xb(4,"div",5),i.vc(5,Bt,3,1,"div",6),i.vc(6,Zt,68,19,"ng-container",7),i.Wb(),i.Wb()),2&t){const t=i.hc();i.Hb(5),i.kc("ngIf",t.mensaje_inicial),i.Hb(1),i.kc("ngIf",t.presupuesto)}}let Kt=(()=>{class t{constructor(t,e,o,n,c){this._file_upload_service=t,this.precontractual_functions_services=e,this._presupuesto_service=o,this._route=n,this._router=c,this.bandera_inicial=!1,this.global=R.f}ngOnInit(){this.obtenerInformacionInicial()}cancelarSolicitud(){this._router.navigate(["./contratacion/precontractual/panel-financiera"])}descargarDocumento(t){this._file_upload_service.descargarDocumento(t,"contratacion").subscribe(e=>{window.open(`${R.f.url}upload/contratacion/${t}`)})}obtenerInformacionInicial(){this._route.params.subscribe(t=>{this.presupuesto_id=t.id,Promise.all([this.obtenerSolicitudPresupuesto(this.presupuesto_id)]).then(t=>{this.presupuesto=t[0],this.nombre_completo=this.presupuesto.solicitud_precontractual.primer_nombre+" "+(this.presupuesto.solicitud_precontractual.segundo_nombre?this.presupuesto.solicitud_precontractual.segundo_nombre+" ":"")+this.presupuesto.solicitud_precontractual.primer_apellido+" "+(this.presupuesto.solicitud_precontractual.segundo_apellido?this.presupuesto.solicitud_precontractual.segundo_apellido+" ":""),this.bandera_inicial=!0,this.presupuesto.solicitud_precontractual.documentos&&this.presupuesto.solicitud_precontractual.documentos.length>0&&(this.presupuesto.solicitud_precontractual.documentos.forEach(t=>{(1==this.presupuesto.tipo_certificado&&2==t.id_documento||2==this.presupuesto.tipo_certificado&&35==t.id_documento)&&(this.documento_solicitud=t.documento)}),this.id_documento=1==this.presupuesto.tipo_certificado?2:35)}).catch(t=>{this.mensaje_inicial=t,this.bandera_inicial=!0})})}obtenerSolicitudPresupuesto(t){return new Promise((e,o)=>{this._presupuesto_service.obtenerSolicitudPresupuesto(t).subscribe(t=>{e(t.presupuesto)},t=>{o(t)})})}onSubmit(t){this.presupuesto.estado=2,this._file_upload_service.cargarArchivo(this.documento_adjunto,"contratacion").then(e=>{"success"==e.status&&(this.presupuesto.documento=e.nombre_archivo,this._presupuesto_service.actualizarSolicitudPresupuestal(this.presupuesto).subscribe(e=>{j.a.fire({position:"center",icon:"success",title:e.message,showConfirmButton:!0}),t.reset(),this.cancelarSolicitud()}))}).catch(t=>{console.log(t)})}}return t.\u0275fac=function(e){return new(e||t)(i.Sb(R.b),i.Sb(T),i.Sb(q),i.Sb(P.a),i.Sb(P.d))},t.\u0275cmp=i.Mb({type:t,selectors:[["app-aprobacion-financiera"]],decls:2,vars:2,consts:[[3,"bandera_carga"],["class","col-lg-12 pr-0 pl-0",4,"ngIf"],[1,"col-lg-12","pr-0","pl-0"],[1,"backLink","col","col-sm-12"],["routerLink","/contratacion/precontractual/panel-financiera",1,"col-sm-12"],[1,"formContainer"],["class","col col-12 mt-2",4,"ngIf"],[4,"ngIf"],[1,"col","col-12","mt-2"],["role","alert",1,"alert","alert-warning"],[1,"form-body"],[1,"subtitle"],[1,"form-group"],[1,"col","col-sm-12","col-md-6","d-inline-block"],["for","nombres_apellidos",1,"control-label","labelForm"],["type","text","id","nombres_apellidos","name","nombres_apellidos","disabled","",1,"form-control","inputForm",3,"value"],["for","cargo",1,"control-label","labelForm"],["type","text","id","cargo","name","cargo","disabled","",1,"form-control","inputForm",3,"value"],[1,"col","col-sm-12","col-md-4","d-inline-block"],["for","area_solicitante",1,"control-label","labelForm"],["type","text","id","area_solicitante","name","area_solicitante","disabled","",1,"form-control","inputForm",3,"value"],[1,"col","col-sm-12","col-md-5","d-inline-block"],["for","correo_electronico",1,"control-label","labelForm"],["type","text","id","correo_electronico","name","correo_electronico","disabled","",1,"form-control","inputForm",3,"value"],[1,"col","col-sm-12","col-md-3","d-inline-block"],["for","tipo_contrato",1,"control-label","labelForm"],["type","text","id","tipo_contrato","name","tipo_contrato","disabled","",1,"form-control","inputForm",3,"value"],[1,"col","col-12","d-inline-block"],["for","descripcion_contrato",1,"control-label","labelForm"],["name","descripcion_contrato","id","descripcion_contrato","rows","3","disabled","",1,"form-control","inputForm"],[1,"col","col-sm-12"],["name","descripcion_solicitud","id","descripcion_solicitud","rows","3","disabled","",1,"form-control","inputForm"],["class","col col-12",4,"ngIf"],[3,"ngSubmit"],["presupuestoForm","ngForm"],[1,"col","col-12"],["for","observaciones",1,"control-label","labelForm"],[1,"required"],["name","observaciones","id","observaciones","rows","3","minlength","15","maxlength","100","placeholder","Diligencie la observaci\xf3n que tenga en relaci\xf3n con la solicitud presupuestal","required","",1,"form-control","inputForm",3,"ngClass","ngModel","ngModelChange"],["observaciones","ngModel"],["for","documento_adjunto",1,"control-label","labelForm"],["type","file","id","documento_adjunto","accept","application/pdf",1,"form-control","inputForm",3,"change"],[1,"form-actions"],[1,"col","col-sm-12","text-right"],["type","submit",1,"btn","btn-success",3,"disabled"],[1,"fa","fa-check"],["type","button",1,"btn","btn-inverse","ml-2",3,"click"],["type","button",1,"btn","btn-waves-effect","waves-light","btn-rounded","btn-sm","btn-success","mt-2","d-block",3,"click"]],template:function(t,e){1&t&&(i.Tb(0,"app-loader",0),i.vc(1,Gt,7,2,"div",1)),2&t&&(i.kc("bandera_carga",!e.bandera_inicial),i.Hb(1),i.kc("ngIf",e.bandera_inicial))},directives:[$.a,n.l,P.f,c.p,c.g,c.h,c.b,c.e,c.d,c.m,n.j,c.f,c.i],pipes:[U],encapsulation:2}),t})();function Qt(t,e){if(1&t&&(i.Xb(0,"textarea",42),i.xc(1),i.Wb()),2&t){const t=i.hc(3);i.Hb(1),i.yc(t.CDP.descripcion)}}function te(t,e){if(1&t&&(i.Xb(0,"textarea",42),i.xc(1),i.Wb()),2&t){const t=i.hc(3);i.Hb(1),i.yc(t.CDP.motivo)}}function ee(t,e){if(1&t){const t=i.Yb();i.Xb(0,"button",43),i.fc("click",(function(){i.sc(t);const e=i.hc(3);return e.descargarDocumento(e.CDP.documento)})),i.xc(1),i.Wb()}if(2&t){const t=i.hc(3);i.Hb(1),i.yc(t.CDP.documento)}}const oe=function(t,e){return{"btn-danger":t,"btn-success":e}};function ne(t,e){if(1&t&&(i.Vb(0),i.Xb(1,"span",39),i.xc(2),i.ic(3,"global"),i.Wb(),i.vc(4,Qt,2,1,"textarea",40),i.vc(5,te,2,1,"textarea",40),i.vc(6,ee,2,1,"button",41),i.Ub()),2&t){const t=i.hc(2);i.Hb(1),i.kc("ngClass",i.oc(8,oe,1==t.CDP.estado,2==t.CDP.estado)),i.Hb(1),i.yc(i.jc(3,5,t.CDP.estado,"estados_presupuesto")),i.Hb(2),i.kc("ngIf",1==t.CDP.estado),i.Hb(1),i.kc("ngIf",2==t.CDP.estado),i.Hb(1),i.kc("ngIf",t.CDP.documento)}}function ce(t,e){1&t&&(i.Xb(0,"button",44),i.Tb(1,"i",45),i.xc(2," Solicitar CDP"),i.Wb()),2&t&&i.Ib("data-target","#crearCDPCRPPresupuestoModal")}function ie(t,e){1&t&&(i.Xb(0,"span",26),i.xc(1,"*"),i.Wb())}function ae(t,e){1&t&&(i.Vb(0),i.Tb(1,"i",51),i.Ub())}function re(t,e){1&t&&i.Tb(0,"i",35)}const se=function(t){return{"btn-danger":t}};function le(t,e){if(1&t){const t=i.Yb();i.Vb(0),i.Xb(1,"button",49),i.fc("click",(function(){i.sc(t);const e=i.hc(2).$implicit,o=i.hc(2);return o.descargarDocumento(o.validarDocumento(o.solicitud.documentos,e.id))})),i.vc(2,ae,2,0,"ng-container",47),i.vc(3,re,1,0,"ng-template",null,50,i.wc),i.Wb(),i.Ub()}if(2&t){const t=i.rc(4),e=i.hc(2).$implicit,o=i.hc(2);i.Hb(1),i.kc("ngClass",i.nc(3,se,2==o.validarEstadoDocumento(o.solicitud.documentos,e.id,!0))),i.Hb(1),i.kc("ngIf",2==o.validarEstadoDocumento(o.solicitud.documentos,e.id,!0))("ngIfElse",t)}}function be(t,e){1&t&&i.Tb(0,"i",6)}function de(t,e){1&t&&i.xc(0,"-")}function ue(t,e){if(1&t&&(i.vc(0,be,1,0,"i",52),i.vc(1,de,1,0,"ng-template",null,53,i.wc)),2&t){const t=i.rc(2),e=i.hc(2).$implicit,o=i.hc(2);i.kc("ngIf",!0===e.required||e.required==o.solicitud.tipo_contrato)("ngIfElse",t)}}function pe(t,e){if(1&t){const t=i.Yb();i.Xb(0,"span"),i.Xb(1,"button",54),i.fc("click",(function(){i.sc(t);const e=i.hc(2).$implicit,o=i.hc(2);return o.observacion=o.configurarObservacion(o.solicitud.documentos,e.id)})),i.Tb(2,"i",55),i.Wb(),i.Wb()}2&t&&(i.Hb(1),i.Ib("data-target","#verObservacion"))}function fe(t,e){if(1&t&&(i.Xb(0,"tr"),i.Xb(1,"td"),i.xc(2),i.vc(3,ie,2,0,"span",46),i.Wb(),i.Xb(4,"td"),i.vc(5,le,5,5,"ng-container",47),i.vc(6,ue,3,2,"ng-template",null,48,i.wc),i.Wb(),i.Xb(8,"td"),i.Xb(9,"span"),i.xc(10),i.ic(11,"global"),i.Wb(),i.vc(12,pe,3,1,"span",0),i.Wb(),i.Wb()),2&t){const t=i.rc(7),e=i.hc().$implicit,o=i.hc(2);i.Hb(2),i.yc(e.value),i.Hb(1),i.kc("ngIf",e.required&&(e.required==o.solicitud.tipo_contrato||!0===e.required)),i.Hb(2),i.kc("ngIf",o.validarDocumento(o.solicitud.documentos,e.id,!0))("ngIfElse",t),i.Hb(5),i.yc(i.jc(11,6,o.validarEstadoDocumento(o.solicitud.documentos,e.id,!0),"estados_documentacion")),i.Hb(2),i.kc("ngIf",2==o.validarEstadoDocumento(o.solicitud.documentos,e.id,!0))}}function me(t,e){if(1&t&&(i.Vb(0),i.vc(1,fe,13,9,"tr",0),i.Ub()),2&t){const t=e.$implicit,o=i.hc(2);i.Hb(1),i.kc("ngIf",(t.tipo_contrato==o.solicitud.tipo_contrato||!t.tipo_contrato)&&t.id<=28)}}function ge(t,e){1&t&&(i.Xb(0,"div",56),i.Xb(1,"button",57),i.Tb(2,"i",58),i.Wb(),i.Wb()),2&t&&(i.Hb(1),i.Ib("data-target","#agregarDocumentoModal"))}function he(t,e){if(1&t&&(i.Xb(0,"option",66),i.xc(1),i.Wb()),2&t){const t=e.$implicit;i.lc("value",t.id),i.Hb(1),i.yc(t.value)}}function ve(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",59),i.Xb(1,"div",15),i.Xb(2,"div",16),i.Xb(3,"form",17,60),i.fc("ngSubmit",(function(){i.sc(t);const e=i.hc(2);return e.cargarDocumentoRequerido(e.documento_a_cargar,e.documentacion.id_documento)})),i.Xb(5,"div",19),i.Xb(6,"h4",20),i.xc(7,"Agregar Documento a la Solicitud"),i.Wb(),i.Xb(8,"button",21),i.xc(9,"\xd7"),i.Wb(),i.Wb(),i.Xb(10,"div",22),i.Xb(11,"div",23),i.Xb(12,"div",24),i.Xb(13,"label",25),i.xc(14,"Seleccione el documento"),i.Xb(15,"span",26),i.xc(16,"*"),i.Wb(),i.Wb(),i.Xb(17,"select",61),i.fc("ngModelChange",(function(e){return i.sc(t),i.hc(2).documentacion.id_documento=e})),i.vc(18,he,2,2,"option",62),i.Wb(),i.Wb(),i.Wb(),i.Xb(19,"div",23),i.Xb(20,"div",24),i.Xb(21,"label",63),i.xc(22,"Documento adjunto"),i.Xb(23,"span",26),i.xc(24,"*"),i.Wb(),i.Wb(),i.Xb(25,"input",64),i.fc("change",(function(e){return i.sc(t),i.hc(2).documento_a_cargar=e.target.files[0]})),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(26,"div",32),i.Xb(27,"div",33),i.Xb(28,"button",34),i.fc("click",(function(){i.sc(t);const e=i.hc(2);return e.cargarDocumentoRequerido(e.documento_a_cargar,e.documentacion.id_documento)})),i.Tb(29,"i",35),i.xc(30," Adjuntar Documento"),i.Wb(),i.Xb(31,"button",65),i.fc("click",(function(){return i.sc(t),i.hc(2).configurarInformacionInicial()})),i.xc(32,"Cancelar"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=i.rc(4),e=i.hc(2);i.Hb(17),i.kc("ngModel",e.documentacion.id_documento),i.Hb(1),i.kc("ngForOf",e.tipos_documentos),i.Hb(10),i.kc("disabled",t.invalid||!e.documento_a_cargar)}}function _e(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",67),i.Xb(1,"div",15),i.Xb(2,"div",16),i.Xb(3,"div",19),i.Xb(4,"h4",20),i.xc(5,"Observaci\xf3n del Rechazo del Documento"),i.Wb(),i.Xb(6,"button",21),i.xc(7,"\xd7"),i.Wb(),i.Wb(),i.Xb(8,"div",22),i.Xb(9,"div",23),i.Xb(10,"div",24),i.Xb(11,"label",68),i.xc(12,"Observaci\xf3n"),i.Xb(13,"span",26),i.xc(14,"*"),i.Wb(),i.Wb(),i.Xb(15,"textarea",69),i.xc(16),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(17,"div",32),i.Xb(18,"div",33),i.Xb(19,"button",65),i.fc("click",(function(){return i.sc(t),i.hc(2).observacion=null})),i.xc(20,"Cancelar"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=i.hc(2);i.Hb(16),i.yc(t.observacion)}}const We=function(t){return{"is-invalid":t}};function Xe(t,e){if(1&t){const t=i.Yb();i.Vb(0),i.Xb(1,"h3",1),i.xc(2,"Adjuntar Documentaci\xf3n"),i.Wb(),i.Xb(3,"div",2),i.Xb(4,"div",3),i.vc(5,ne,7,11,"ng-container",0),i.vc(6,ce,3,1,"button",4),i.Wb(),i.Wb(),i.Xb(7,"div",5),i.Xb(8,"small"),i.xc(9,"Los documentos marcados con el s\xedmbolo "),i.Tb(10,"i",6),i.xc(11," son obligatorios para finalizar la solicitud"),i.Wb(),i.Wb(),i.Xb(12,"div",7),i.Xb(13,"div",8),i.Xb(14,"table",9),i.Xb(15,"thead",10),i.Xb(16,"tr"),i.Xb(17,"th"),i.xc(18,"Documento Adjunto"),i.Wb(),i.Xb(19,"th"),i.xc(20,"Acciones"),i.Wb(),i.Xb(21,"th"),i.xc(22,"Estado"),i.Wb(),i.Wb(),i.Wb(),i.Xb(23,"tbody",11),i.vc(24,me,2,1,"ng-container",12),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.vc(25,ge,3,1,"div",13),i.Xb(26,"div",14),i.Xb(27,"div",15),i.Xb(28,"div",16),i.Xb(29,"form",17,18),i.fc("ngSubmit",(function(){i.sc(t);const e=i.rc(30);return i.hc().crearCDPCRPPresupuesto(e)})),i.Xb(31,"div",19),i.Xb(32,"h4",20),i.xc(33,"Solicitud de CDP"),i.Wb(),i.Xb(34,"button",21),i.xc(35,"\xd7"),i.Wb(),i.Wb(),i.Xb(36,"div",22),i.Xb(37,"div",23),i.Xb(38,"div",24),i.Xb(39,"label",25),i.xc(40,"Descripci\xf3n de la solicitud"),i.Xb(41,"span",26),i.xc(42,"*"),i.Wb(),i.Wb(),i.Xb(43,"textarea",27,28),i.fc("ngModelChange",(function(e){return i.sc(t),i.hc().presupuesto.descripcion=e})),i.Wb(),i.Wb(),i.Wb(),i.Xb(45,"div",23),i.Xb(46,"div",24),i.Xb(47,"label",25),i.xc(48," Documento adjunto"),i.Xb(49,"span",26),i.xc(50,"*"),i.Wb(),i.Xb(51,"a",29),i.Tb(52,"i",30),i.Wb(),i.Wb(),i.Xb(53,"input",31),i.fc("change",(function(e){return i.sc(t),i.hc().cargarDocumentoRequerido(e.target.files[0],2)})),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(54,"div",32),i.Xb(55,"div",33),i.Xb(56,"button",34),i.fc("click",(function(){i.sc(t);const e=i.rc(30);return i.hc().crearCDPCRPPresupuesto(e)})),i.Tb(57,"i",35),i.xc(58," Solicitar"),i.Wb(),i.Xb(59,"button",36),i.xc(60,"Cancelar"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.vc(61,ve,33,3,"div",37),i.vc(62,_e,21,1,"div",38),i.Ub()}if(2&t){const t=i.rc(30),e=i.rc(44),o=i.hc();i.Hb(5),i.kc("ngIf",o.CDP),i.Hb(1),i.kc("ngIf",!o.CDP),i.Hb(18),i.kc("ngForOf",o.global.tipos_documentos),i.Hb(1),i.kc("ngIf",7!=o.solicitud.estado),i.Hb(18),i.kc("ngClass",i.nc(9,We,e.invalid))("ngModel",o.presupuesto.descripcion),i.Hb(13),i.kc("disabled",t.invalid||!o.documento_cargado),i.Hb(5),i.kc("ngIf",o.tipos_documentos),i.Hb(1),i.kc("ngIf",o.observacion)}}let xe=(()=>{class t{constructor(t,e,o,n,c,i,a){this._documentacion_service=t,this._file_upload_service=e,this._global_service=o,this.precontractual_functions_service=n,this._precontractual_service=c,this._presupuesto_service=i,this._router=a,this.global=R.f}ngOnInit(){this.configurarInformacionInicial()}cancelarSolicitud(){this._router.navigate(["./contratacion/precontractual/panel-solicitudes"])}cargarDocumentoRequerido(t,e){if(this.documento_cargado=!1,this.solicitud.documentos&&this.solicitud.documentos.length>0){let o=!1,n=null,c=null;if(this.solicitud.documentos.forEach(t=>{t.id_documento==e&&(o=!0,n=t.id,c=t.estado)}),3==c&&j.a.fire({position:"center",icon:"warning",title:"El documento ya ha sido aprobado y no puede ser modificado",showConfirmButton:!0}),o&&t)return void this._file_upload_service.cargarArchivo(t,"contratacion").then(t=>{"success"==t.status&&(this.documentacion.id=n,this.documentacion.documento=t.nombre_archivo,this.documentacion.id_documento=e,this._documentacion_service.actualizarDocumentoAdjunto(this.documentacion).subscribe(t=>{j.a.fire({position:"center",icon:"success",title:t.message,showConfirmButton:!0}),this.documento_a_cargar=null,this.obtenerSolicitud(this.solicitud.id),this.documento_cargado=!0}))}).catch(t=>{console.log(t)})}this._file_upload_service.cargarArchivo(t,"contratacion").then(t=>{"success"==t.status&&(this.documentacion.documento=t.nombre_archivo,this.documentacion.id_documento=e,this._documentacion_service.crearDocumentoAdjunto(this.documentacion).subscribe(t=>{j.a.fire({position:"center",icon:"success",title:t.message,showConfirmButton:!0}),this.obtenerSolicitud(this.solicitud.id),this.documento_cargado=!0}),document.getElementById("documento_adjunto").value="")}).catch(t=>{console.log(t)})}configurarInformacionInicial(){this.documentacion=new F(null,this.solicitud.id,null,null,1,null,null,null,null),this.solicitud.presupuesto&&this.solicitud.presupuesto.length>0&&this.solicitud.presupuesto.forEach(t=>{1==t.tipo_certificado&&(this.CDP=t)}),this.presupuesto=this.presupuesto?this.presupuesto:new w(null,this.solicitud.id,null,null,null,1,null,null,null),this.documentos_cargados=6==this.solicitud.estado,this.documento_a_cargar=null,this.formaterTiposDocumento()}configurarObservacion(t,e){let o=null;return t.forEach(t=>{t.id_documento==e&&(o=t.observacion)}),o}crearCDPCRPPresupuesto(t){this._presupuesto_service.crearCDPCRPPresupuesto(this.presupuesto).subscribe(e=>{j.a.fire({position:"center",icon:"success",title:e.message,showConfirmButton:!0}),t.reset(),this.obtenerSolicitud(this.solicitud.id)})}descargarDocumento(t){this._file_upload_service.descargarDocumento(t,"contratacion").subscribe(e=>{window.open(`${R.f.url}upload/contratacion/${t}`)})}formaterTiposDocumento(){let t=[];this.global.tipos_documentos.forEach(e=>{(e.tipo_contrato==this.solicitud.tipo_contrato||!e.tipo_contrato)&&e.id<=28&&t.push(e)}),this.solicitud.documentos.forEach(e=>{for(let o=0;o<t.length;o++)if(e.id_documento==t[o].id&&3==e.estado){t.splice(o,1);break}}),this.tipos_documentos=t}obtenerSolicitud(t){this._precontractual_service.obtenerSolicitud(t).subscribe(t=>{this.solicitud=t.precontractual,this.formaterTiposDocumento(),this.configurarInformacionInicial()},t=>{j.a.fire({position:"center",icon:"error",title:t,showConfirmButton:!0})})}onSubmit(){}validarDocumento(t,e,o=!1){if(t&&t.length>0){let n=null;if(t.forEach(t=>{t.id_documento==e&&(n=t.documento)}),n)return!!o||n}return!o&&""}validarEstadoDocumento(t,e,o=!1){let n=!0,c=null;return t&&t.length>0&&t.forEach(t=>{t.id_documento==e&&(c=t.estado,3==t.estado&&(n=!1))}),o?c:n}}return t.\u0275fac=function(e){return new(e||t)(i.Sb(L),i.Sb(R.b),i.Sb(R.c),i.Sb(T),i.Sb(E),i.Sb(q),i.Sb(P.d))},t.\u0275cmp=i.Mb({type:t,selectors:[["app-agregar-documentos"]],inputs:{solicitud:"solicitud"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"subtitle"],[1,"form-group",2,"margin-bottom","15px"],[1,"col","col-sm-12","pl-0","pr-0"],["type","button","class","btn btn-waves-effect waves-light btn-rounded btn-sm btn-warning mt-2 d-block","title","Agregar CDP","data-toggle","modal",4,"ngIf"],[1,"infoNote"],[1,"fa","fa-times",2,"color","red","font-size","1rem"],[1,"tableContainer"],[1,"table-responsive","tableContainerAll"],[1,"table","table-bordered"],[1,"thead_styles"],[1,"tbody_styles"],[4,"ngFor","ngForOf"],["class","col col-12 text-right",4,"ngIf"],["id","crearCDPCRPPresupuestoModal",1,"modal","animated","fadeIn","faster"],[1,"modal-dialog"],[1,"modal-content"],[1,"form-container",3,"ngSubmit"],["datosCDPForm","ngForm"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close"],[1,"modal-body"],[1,"form-group"],[1,"col","col-sm-12"],["for","descripcion",1,"control-label","labelForm"],[1,"required"],["name","descripcion","id","descripcion","rows","3","minlength","15","maxlength","100","placeholder","Diligencie la descripci\xf3n de la solicitud del CDP (m\xe1ximo 100 caracteres)","required","",1,"form-control","inputForm",3,"ngClass","ngModel","ngModelChange"],["descripcion","ngModel"],["href","https://red.capitalsalud.gov.co/wp-content/uploads/2022/10/F54-GF.docx","target","_blank","title","Descargar Documento CDP",1,"btn","btn-info","btn-circle","btn-sm",2,"margin-left","0.5rem"],[1,"fa","fa-download"],["type","file","id","documento_2","accept","application/pdf","required","",1,"form-control","inputForm","mt-2",3,"change"],[1,"modal-footer"],[1,"col","col-sm-12","text-right"],["type","submit","data-dismiss","modal",1,"btn","btn-success",3,"disabled","click"],[1,"fa","fa-check"],["type","button","data-dismiss","modal",1,"btn","btn-inverse","ml-2"],["class","modal animated fadeIn faster","id","agregarDocumentoModal",4,"ngIf"],["class","modal animated fadeIn faster","id","verObservacion",4,"ngIf"],[1,"btn","btn-sm","mb-2","d-inline-block",2,"margin-left","0 !important",3,"ngClass"],["name","descripcion","id","descripcion","rows","3","class","form-control inputForm","disabled","",4,"ngIf"],["type","button","class","btn btn-waves-effect waves-light btn-rounded btn-sm btn-info mt-2 d-block",3,"click",4,"ngIf"],["name","descripcion","id","descripcion","rows","3","disabled","",1,"form-control","inputForm"],["type","button",1,"btn","btn-waves-effect","waves-light","btn-rounded","btn-sm","btn-info","mt-2","d-block",3,"click"],["type","button","title","Agregar CDP","data-toggle","modal",1,"btn","btn-waves-effect","waves-light","btn-rounded","btn-sm","btn-warning","mt-2","d-block"],[1,"fa","fa-plus"],["class","required",4,"ngIf"],[4,"ngIf","ngIfElse"],["elseDocumento",""],["type","button","title","Descargar Documento",1,"btn","btn-success","btn-circle","btn-sm",3,"ngClass","click"],["elseTemplate",""],[1,"fa","fa-times"],["class","fa fa-times","style","color: red; font-size: 1rem",4,"ngIf","ngIfElse"],["elseValidarDocumento",""],["type","button","title","Ver la Observaci\xf3n del Rechazo","data-toggle","modal",1,"btn","btn-warning","btn-sm","ml-1",3,"click"],[1,"fa","fa-pencil"],[1,"col","col-12","text-right"],["type","button","data-toggle","modal","title","Agregar Documento",1,"btn","btn-info","btn-circle","btn-lg"],[1,"fa","fa-upload"],["id","agregarDocumentoModal",1,"modal","animated","fadeIn","faster"],["agregarDocumentoForm","ngForm"],["id","estado_documento","name","estado_documento",1,"form-control","inputForm","custom-select",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["for","documento_adjunto",1,"control-label","labelForm"],["type","file","id","documento_adjunto","accept","application/pdf","required","",1,"form-control","inputForm","mt-2",3,"change"],["type","button","data-dismiss","modal",1,"btn","btn-inverse","ml-2",3,"click"],[3,"value"],["id","verObservacion",1,"modal","animated","fadeIn","faster"],["for","observacion",1,"control-label","labelForm"],["name","observacion","id","observacion","rows","3","disabled","",1,"form-control","inputForm"]],template:function(t,e){1&t&&i.vc(0,Xe,63,11,"ng-container",0),2&t&&i.kc("ngIf",e.solicitud)},directives:[n.l,n.k,c.p,c.g,c.h,c.b,c.e,c.d,c.m,n.j,c.f,c.i,c.n,c.j,c.o],pipes:[U],encapsulation:2}),t})();function ke(t,e){if(1&t&&(i.Xb(0,"div",9),i.Xb(1,"div",10),i.xc(2),i.Wb(),i.Wb()),2&t){const t=i.hc(2);i.Hb(2),i.zc(" ",t.mensaje_inicial," ")}}function Ie(t,e){if(1&t&&(i.Xb(0,"option",52),i.xc(1),i.Wb()),2&t){const t=e.$implicit;i.lc("value",t.id),i.Hb(1),i.yc(t.value)}}function ye(t,e){if(1&t&&(i.Xb(0,"div",53),i.Xb(1,"label",54),i.xc(2,"Seleccione el t\xedpo de contrato"),i.Xb(3,"span",18),i.xc(4,"*"),i.Wb(),i.Wb(),i.Tb(5,"input",55),i.ic(6,"global"),i.Wb()),2&t){const t=i.hc(3);i.Hb(5),i.lc("value",i.jc(6,1,t.solicitud.tipo_contrato,"tipos_contratos"))}}function Ce(t,e){if(1&t){const t=i.Yb();i.Xb(0,"label",58),i.Xb(1,"input",59,60),i.fc("ngModelChange",(function(e){return i.sc(t),i.hc(4).solicitud.tipo_contrato=e})),i.Wb(),i.Tb(3,"span",61),i.Xb(4,"span",62),i.xc(5),i.Wb(),i.Wb()}if(2&t){const t=e.$implicit,o=i.hc(4);i.Hb(1),i.lc("id",t.value),i.lc("value",t.id),i.kc("checked",o.solicitud.tipo_contrato==t.id)("ngModel",o.solicitud.tipo_contrato)("disabled",o.bandera_disabled),i.Hb(4),i.yc(t.value)}}function He(t,e){if(1&t&&(i.Xb(0,"div",15),i.Xb(1,"div",47),i.Xb(2,"label",54),i.xc(3,"Seleccione el t\xedpo de contrato"),i.Xb(4,"span",18),i.xc(5,"*"),i.Wb(),i.Wb(),i.Xb(6,"div",56),i.vc(7,Ce,6,6,"label",57),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.hc(3);i.Hb(7),i.kc("ngForOf",t.global.tipos_contratos)}}function Pe(t,e){1&t&&(i.Xb(0,"div",44),i.Xb(1,"a",64),i.xc(2,"F62 \u2013 LJ Formato Informe Previo Administrativo para Comit\xe9 de Contrataci\xf3n"),i.Wb(),i.Wb())}function De(t,e){1&t&&(i.Xb(0,"div",44),i.Xb(1,"a",65),i.xc(2,"F64 \u2013 LJ Formato Informe Previo Asistencial para Comit\xe9 de Contrataci\xf3n"),i.Wb(),i.Wb())}function Se(t,e){if(1&t&&(i.Xb(0,"div",15),i.vc(1,Pe,3,0,"div",63),i.vc(2,De,3,0,"div",63),i.Wb()),2&t){const t=i.hc(3);i.Hb(1),i.kc("ngIf",1==t.solicitud.tipo_contrato),i.Hb(1),i.kc("ngIf",2==t.solicitud.tipo_contrato)}}function je(t,e){if(1&t){const t=i.Yb();i.Xb(0,"input",66),i.fc("change",(function(e){return i.sc(t),i.hc(3).cambiarDocumento(e.target.files[0])})),i.Wb()}}function Fe(t,e){if(1&t){const t=i.Yb();i.Xb(0,"button",67),i.fc("click",(function(){return i.sc(t),i.hc(3).descargarDocumento()})),i.xc(1),i.Wb()}if(2&t){const t=i.hc(3);i.Hb(1),i.yc(t.solicitud.documento_adjunto)}}function Me(t,e){1&t&&(i.Xb(0,"label",48),i.xc(1,"Observaciones"),i.Wb())}function we(t,e){if(1&t&&(i.Xb(0,"div",15),i.Xb(1,"div",47),i.vc(2,Me,2,0,"label",68),i.Xb(3,"textarea",69),i.xc(4),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.hc(3);i.Hb(2),i.kc("ngIf",4==t.solicitud.estado),i.Hb(2),i.yc(t.solicitud.observaciones_juridica)}}function Ae(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",70),i.Xb(1,"div",71),i.Xb(2,"button",72),i.Tb(3,"i",73),i.xc(4," Enviar"),i.Wb(),i.Xb(5,"button",74),i.fc("click",(function(){return i.sc(t),i.hc(3).cancelarSolicitud()})),i.xc(6,"Cancelar"),i.Wb(),i.Wb(),i.Wb()}if(2&t){i.hc();const t=i.rc(1),e=i.hc(2);i.Hb(2),i.kc("disabled",t.invalid||null==e.solicitud.tipo_contrato||null==e.solicitud.tipo_contrato||!e.documento_adjunto&&!e.solicitud.documento_adjunto)}}const Re=function(t){return{"is-invalid":t}},Oe=function(t,e){return{"col-sm-6":t,"col-sm-12":e}};function Le(t,e){if(1&t){const t=i.Yb();i.Xb(0,"form",11,12),i.fc("ngSubmit",(function(){i.sc(t);const e=i.rc(1);return i.hc(2).onSubmit(e)})),i.Xb(2,"div",13),i.Xb(3,"h3",14),i.xc(4,"Datos del Solicitante"),i.Wb(),i.Xb(5,"div",15),i.Xb(6,"div",16),i.Xb(7,"label",17),i.xc(8,"Primer Nombre"),i.Xb(9,"span",18),i.xc(10,"*"),i.Wb(),i.Wb(),i.Xb(11,"input",19,20),i.fc("ngModelChange",(function(e){return i.sc(t),i.hc(2).solicitud.primer_nombre=e}))("ngModelChange",(function(e){i.sc(t);const o=i.hc(2);return o.solicitud.primer_nombre=o._global_service.upperCase(e)})),i.Wb(),i.Wb(),i.Xb(13,"div",16),i.Xb(14,"label",21),i.xc(15,"Segundo Nombre"),i.Wb(),i.Xb(16,"input",22,23),i.fc("ngModelChange",(function(e){return i.sc(t),i.hc(2).solicitud.segundo_nombre=e}))("ngModelChange",(function(e){i.sc(t);const o=i.hc(2);return o.solicitud.segundo_nombre=o._global_service.upperCase(e)})),i.Wb(),i.Wb(),i.Xb(18,"div",16),i.Xb(19,"label",24),i.xc(20,"Primer Apellido"),i.Xb(21,"span",18),i.xc(22,"*"),i.Wb(),i.Wb(),i.Xb(23,"input",25,26),i.fc("ngModelChange",(function(e){return i.sc(t),i.hc(2).solicitud.primer_apellido=e}))("ngModelChange",(function(e){i.sc(t);const o=i.hc(2);return o.solicitud.primer_apellido=o._global_service.upperCase(e)})),i.Wb(),i.Wb(),i.Xb(25,"div",16),i.Xb(26,"label",27),i.xc(27,"Segundo Apellido"),i.Wb(),i.Xb(28,"input",28,29),i.fc("ngModelChange",(function(e){return i.sc(t),i.hc(2).solicitud.segundo_apellido=e}))("ngModelChange",(function(e){i.sc(t);const o=i.hc(2);return o.solicitud.segundo_apellido=o._global_service.upperCase(e)})),i.Wb(),i.Wb(),i.Wb(),i.Xb(30,"div",15),i.Xb(31,"div",30),i.Xb(32,"label",31),i.xc(33,"Cargo"),i.Xb(34,"span",18),i.xc(35,"*"),i.Wb(),i.Wb(),i.Xb(36,"input",32,33),i.fc("ngModelChange",(function(e){return i.sc(t),i.hc(2).solicitud.cargo=e}))("ngModelChange",(function(e){i.sc(t);const o=i.hc(2);return o.solicitud.cargo=o._global_service.upperCase(e)})),i.Wb(),i.Wb(),i.Xb(38,"div",30),i.Xb(39,"label",34),i.xc(40,"\xc1rea"),i.Xb(41,"span",18),i.xc(42,"*"),i.Wb(),i.Wb(),i.Xb(43,"select",35,36),i.fc("ngModelChange",(function(e){return i.sc(t),i.hc(2).solicitud.area_solicitante=e})),i.vc(45,Ie,2,2,"option",37),i.Wb(),i.Wb(),i.Wb(),i.Xb(46,"div",15),i.Xb(47,"div",38),i.Xb(48,"label",39),i.xc(49,"Correo electr\xf3nico"),i.Xb(50,"span",18),i.xc(51,"*"),i.Wb(),i.Wb(),i.Xb(52,"input",40,41),i.fc("ngModelChange",(function(e){return i.sc(t),i.hc(2).solicitud.correo_electronico=e})),i.Wb(),i.Wb(),i.vc(54,ye,7,4,"div",42),i.Wb(),i.vc(55,He,8,1,"div",43),i.Xb(56,"h3",14),i.xc(57,"Descripci\xf3n"),i.Xb(58,"span",18),i.xc(59,"*"),i.Wb(),i.Wb(),i.Xb(60,"div",15),i.Xb(61,"div",44),i.Xb(62,"textarea",45,46),i.fc("ngModelChange",(function(e){return i.sc(t),i.hc(2).solicitud.descripcion_solicitud=e})),i.Wb(),i.Wb(),i.Wb(),i.vc(64,Se,3,2,"div",43),i.Xb(65,"div",15),i.Xb(66,"div",47),i.Xb(67,"label",48),i.xc(68,"Documento Adjunto"),i.Xb(69,"span",18),i.xc(70,"*"),i.Wb(),i.Wb(),i.vc(71,je,1,0,"input",49),i.vc(72,Fe,2,1,"button",50),i.Wb(),i.Wb(),i.vc(73,we,5,2,"div",43),i.Wb(),i.vc(74,Ae,7,1,"div",51),i.Wb()}if(2&t){const t=i.rc(12),e=i.rc(17),o=i.rc(24),n=i.rc(29),c=i.rc(37),a=i.rc(44),r=i.rc(53),s=i.rc(63),l=i.hc(2);i.Hb(11),i.kc("ngClass",i.nc(33,Re,t.invalid))("ngModel",l.solicitud.primer_nombre)("disabled",l.bandera_disabled),i.Hb(5),i.kc("ngClass",i.nc(35,Re,e.invalid))("ngModel",l.solicitud.segundo_nombre)("disabled",l.bandera_disabled),i.Hb(7),i.kc("ngClass",i.nc(37,Re,o.invalid))("ngModel",l.solicitud.primer_apellido)("disabled",l.bandera_disabled),i.Hb(5),i.kc("ngClass",i.nc(39,Re,n.invalid))("ngModel",l.solicitud.segundo_apellido)("disabled",l.bandera_disabled),i.Hb(8),i.kc("ngClass",i.nc(41,Re,c.invalid))("ngModel",l.solicitud.cargo)("disabled",l.bandera_disabled),i.Hb(7),i.kc("ngClass",i.nc(43,Re,a.invalid))("ngModel",l.solicitud.area_solicitante)("disabled",l.bandera_disabled),i.Hb(2),i.kc("ngForOf",l.global.areas_contratacion),i.Hb(2),i.kc("ngClass",i.oc(45,Oe,l.bandera_disabled,!l.bandera_disabled)),i.Hb(5),i.kc("ngClass",i.nc(48,Re,r.invalid))("ngModel",l.solicitud.correo_electronico)("disabled",l.bandera_disabled),i.Hb(2),i.kc("ngIf",l.bandera_disabled),i.Hb(1),i.kc("ngIf",!l.bandera_disabled),i.Hb(7),i.kc("ngClass",i.nc(50,Re,s.invalid))("ngModel",l.solicitud.descripcion_solicitud)("disabled",l.bandera_disabled),i.Hb(2),i.kc("ngIf",l.solicitud.tipo_contrato&&!l.bandera_disabled),i.Hb(7),i.kc("ngIf",!l.bandera_disabled||4==l.solicitud.estado),i.Hb(1),i.kc("ngIf",!l.documento_adjunto&&l.solicitud.documento_adjunto),i.Hb(1),i.kc("ngIf",l.solicitud.observaciones_juridica),i.Hb(1),i.kc("ngIf",!l.bandera_disabled||4==l.solicitud.estado)}}function Ee(t,e){if(1&t&&(i.Vb(0),i.Tb(1,"app-agregar-documentos",75),i.Ub()),2&t){const t=i.hc(2);i.Hb(1),i.kc("solicitud",t.solicitud)}}function Te(t,e){if(1&t&&(i.Xb(0,"div",2),i.Xb(1,"div",3),i.Xb(2,"a",4),i.xc(3,"Regresar"),i.Wb(),i.Wb(),i.Xb(4,"div",5),i.vc(5,ke,3,1,"div",6),i.vc(6,Le,75,52,"form",7),i.vc(7,Ee,2,1,"ng-container",8),i.Wb(),i.xc(8),i.Wb()),2&t){const t=i.hc();i.Hb(5),i.kc("ngIf",t.mensaje_inicial),i.Hb(1),i.kc("ngIf",t.solicitud),i.Hb(1),i.kc("ngIf",6==t.solicitud.estado||7==t.solicitud.estado),i.Hb(1),i.zc(" ",t.configurarCheckInput(),"\n")}}let qe=(()=>{class t{constructor(t,e,o,n,c){this._file_upload_service=t,this._global_service=e,this._precontractual_service=o,this._route=n,this._router=c,this.global=R.f,this.bandera_disabled=!0,this.bandera_inicial=!1,this.bandera_juridica=!1,this.mensaje_inicial=null}ngOnInit(){this.mensaje_inicial=null,this.obtenerInformacionInicial()}cambiarDocumento(t){this.documento_adjunto=t}cancelarSolicitud(){this._router.navigate(["./contratacion/precontractual/panel-solicitudes"])}descargarDocumento(){this._file_upload_service.descargarDocumento(this.solicitud.documento_adjunto,"contratacion").subscribe(t=>{window.open(`${R.f.url}upload/contratacion/${this.solicitud.documento_adjunto}`)})}guardarObservacionJuridica(t){}obtenerInformacionInicial(){this._route.params.subscribe(t=>{Promise.all([this.obtenerSolicitud(t.id)]).then(t=>{this.solicitud=t[0],1!=this.solicitud.estado||this.solicitud.observaciones_juridica||(this.bandera_disabled=!1),this.bandera_inicial=!0}).catch(t=>{this.mensaje_inicial=t,this.bandera_inicial=!0})})}obtenerSolicitud(t){return new Promise((e,o)=>{this._precontractual_service.obtenerSolicitud(t).subscribe(t=>{e(t.precontractual)},t=>{o(t)})})}onSubmit(t){this.documento_adjunto?this._file_upload_service.cargarArchivo(this.documento_adjunto,"contratacion").then(e=>{"success"==e.status&&(this.solicitud.documento_adjunto=e.nombre_archivo,this.solicitud.observaciones_juridica=null,this._precontractual_service.actualizarSolicitudPrecontractual(this.solicitud).subscribe(e=>{j.a.fire({position:"center",icon:"success",title:"Se ha actualizado la solicitud con el n\xfamero de consecutivo "+this.solicitud.id,showConfirmButton:!0}),t.reset(),this.cancelarSolicitud()}))}).catch(t=>{console.log(t)}):this._precontractual_service.actualizarSolicitudPrecontractual(this.solicitud).subscribe(e=>{j.a.fire({position:"center",icon:"success",title:"Se ha actualizado la solicitud con el n\xfamero de consecutivo "+this.solicitud.id,showConfirmButton:!0}),t.reset(),this.cancelarSolicitud()})}configurarCheckInput(){for(let t=0;t<this.global.tipos_contratos.length;t++)if(this.solicitud.tipo_contrato==this.global.tipos_contratos[t].id){let e=document.getElementById(this.global.tipos_contratos[t].value);e&&(e.checked=!0);break}}}return t.\u0275fac=function(e){return new(e||t)(i.Sb(R.b),i.Sb(R.c),i.Sb(E),i.Sb(P.a),i.Sb(P.d))},t.\u0275cmp=i.Mb({type:t,selectors:[["app-editar-solicitud"]],decls:2,vars:2,consts:[[3,"bandera_carga"],["class","col-lg-12 pr-0 pl-0",4,"ngIf"],[1,"col-lg-12","pr-0","pl-0"],[1,"backLink","col","col-sm-12"],["routerLink","/contratacion/precontractual/panel-solicitudes",1,"col-sm-12"],[1,"formContainer"],["class","col col-12 mt-2",4,"ngIf"],[3,"ngSubmit",4,"ngIf"],[4,"ngIf"],[1,"col","col-12","mt-2"],["role","alert",1,"alert","alert-warning"],[3,"ngSubmit"],["solicitudForm","ngForm"],[1,"form-body"],[1,"subtitle"],[1,"form-group"],[1,"col","col-sm-12","col-md-3","d-inline-block"],["for","primer_nombre",1,"control-label","labelForm"],[1,"required"],["type","text","id","primer_nombre","name","primer_nombre","maxlength","60","pattern","[a-zA-Z\xc0-\xff ]+","required","",1,"form-control","inputForm",3,"ngClass","ngModel","disabled","ngModelChange"],["primer_nombre","ngModel"],["for","segundo_nombre",1,"control-label","labelForm"],["type","text","id","segundo_nombre","name","segundo_nombre","maxlength","60","pattern","[a-zA-Z\xc0-\xff ]+",1,"form-control","inputForm",3,"ngClass","ngModel","disabled","ngModelChange"],["segundo_nombre","ngModel"],["for","primer_apellido",1,"control-label","labelForm"],["type","text","id","primer_apellido","name","primer_apellido","maxlength","60","pattern","[a-zA-Z\xc0-\xff ]+","required","",1,"form-control","inputForm",3,"ngClass","ngModel","disabled","ngModelChange"],["primer_apellido","ngModel"],["for","segundo_apellido",1,"control-label","labelForm"],["type","text","id","segundo_apellido","name","segundo_apellido","maxlength","60","pattern","[a-zA-Z\xc0-\xff ]+",1,"form-control","inputForm",3,"ngClass","ngModel","disabled","ngModelChange"],["segundo_apellido","ngModel"],[1,"col","col-sm-12","col-md-6","d-inline-block"],["for","cargo",1,"control-label","labelForm"],["type","text","id","cargo","name","cargo","maxlength","60","required","",1,"form-control","inputForm",3,"ngClass","ngModel","disabled","ngModelChange"],["cargo","ngModel"],["for","area_solicitante",1,"control-label","labelForm"],["id","area_solicitante","name","area_solicitante","required","",1,"form-control","inputForm","custom-select",3,"ngClass","ngModel","disabled","ngModelChange"],["area_solicitante","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"col","d-inline-block",3,"ngClass"],["for","correo_electronico",1,"control-label","labelForm"],["type","text","id","correo_electronico","name","correo_electronico","maxlength","255","placeholder","ejemplo@capitalsalud.gov.co","pattern","[a-zA-Z0-9._%+-]+@capitalsalud.gov.co","required","",1,"form-control","inputForm",3,"ngClass","ngModel","disabled","ngModelChange"],["correo_electronico","ngModel"],["class","col col-sm-6 d-inline-block",4,"ngIf"],["class","form-group",4,"ngIf"],[1,"col","col-sm-12"],["name","descripcion_solicitud","id","descripcion_solicitud","rows","3","minlength","15","maxlength","100","placeholder","Diligencia la solicitud (m\xe1ximo 100 caracteres)","required","",1,"form-control","inputForm",3,"ngClass","ngModel","disabled","ngModelChange"],["descripcion_solicitud","ngModel"],[1,"col","col-12"],["for","documento_adjunto",1,"control-label","labelForm"],["type","file","class","form-control inputForm","id","documento_adjunto","accept","application/pdf",3,"change",4,"ngIf"],["type","button","class","btn btn-waves-effect waves-light btn-rounded btn-sm btn-success mt-2 d-block",3,"click",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"value"],[1,"col","col-sm-6","d-inline-block"],[1,"control-label","labelForm"],["type","text","id","tipo_contrato","name","tipo_contrato","disabled","",1,"form-control","inputForm",3,"value"],[1,"form-check"],["class","custom-control custom-radio",4,"ngFor","ngForOf"],[1,"custom-control","custom-radio"],["name","tipo_contrato","type","radio",1,"custom-control-input",3,"id","checked","value","ngModel","disabled","ngModelChange"],["tipo_contrato","ngModel"],[1,"custom-control-indicator"],[1,"custom-control-description"],["class","col col-sm-12",4,"ngIf"],["href","https://red.capitalsalud.gov.co/wp-content/uploads/2021/08/F62-LJ.docx","target","_blank",1,"btn","waves-effect","waves-light","btn-rounded","btn-sm","btn-info"],["href","https://red.capitalsalud.gov.co/wp-content/uploads/2021/08/F64-LJ.docx","target","_blank",1,"btn","waves-effect","waves-light","btn-rounded","btn-sm","btn-info"],["type","file","id","documento_adjunto","accept","application/pdf",1,"form-control","inputForm",3,"change"],["type","button",1,"btn","btn-waves-effect","waves-light","btn-rounded","btn-sm","btn-success","mt-2","d-block",3,"click"],["for","documento_adjunto","class","control-label labelForm",4,"ngIf"],["name","observaciones","id","observaciones","rows","3","disabled","",1,"form-control","inputForm"],[1,"form-actions"],[1,"col","col-sm-12","text-right"],["type","submit",1,"btn","btn-success",3,"disabled"],[1,"fa","fa-check"],["type","button",1,"btn","btn-inverse","ml-2",3,"click"],[3,"solicitud"]],template:function(t,e){1&t&&(i.Tb(0,"app-loader",0),i.vc(1,Te,9,4,"div",1)),2&t&&(i.kc("bandera_carga",!e.bandera_inicial),i.Hb(1),i.kc("ngIf",e.bandera_inicial))},directives:[$.a,n.l,P.f,c.p,c.g,c.h,c.b,c.d,c.k,c.m,n.j,c.f,c.i,c.n,n.k,c.e,c.j,c.o,c.l,xe],pipes:[U],encapsulation:2}),t})();function ze(t,e){if(1&t&&(i.Xb(0,"div",9),i.Xb(1,"div",10),i.xc(2),i.Wb(),i.Wb()),2&t){const t=i.hc(2);i.Hb(2),i.zc(" ",t.mensaje_inicial," ")}}function $e(t,e){if(1&t&&(i.Xb(0,"option",52),i.xc(1),i.Wb()),2&t){const t=e.$implicit;i.lc("value",t.id),i.Hb(1),i.yc(t.value)}}function Ue(t,e){if(1&t&&(i.Xb(0,"div",53),i.Xb(1,"label",54),i.xc(2,"Seleccione el t\xedpo de contrato"),i.Xb(3,"span",18),i.xc(4,"*"),i.Wb(),i.Wb(),i.Tb(5,"input",55),i.ic(6,"global"),i.Wb()),2&t){const t=i.hc(3);i.Hb(5),i.lc("value",i.jc(6,1,t.solicitud.tipo_contrato,"tipos_contratos"))}}function Ne(t,e){if(1&t){const t=i.Yb();i.Xb(0,"label",58),i.Xb(1,"input",59,60),i.fc("ngModelChange",(function(e){return i.sc(t),i.hc(4).solicitud.tipo_contrato=e})),i.Wb(),i.Tb(3,"span",61),i.Xb(4,"span",62),i.xc(5),i.Wb(),i.Wb()}if(2&t){const t=e.$implicit,o=i.hc(4);i.Hb(1),i.lc("id",t.value),i.lc("value",t.id),i.kc("checked",o.solicitud.tipo_contrato==t.id)("ngModel",o.solicitud.tipo_contrato)("disabled",o.bandera_disabled),i.Hb(4),i.yc(t.value)}}function Ve(t,e){if(1&t&&(i.Xb(0,"div",15),i.Xb(1,"div",47),i.Xb(2,"label",54),i.xc(3,"Seleccione el t\xedpo de contrato"),i.Xb(4,"span",18),i.xc(5,"*"),i.Wb(),i.Wb(),i.Xb(6,"div",56),i.vc(7,Ne,6,6,"label",57),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.hc(3);i.Hb(7),i.kc("ngForOf",t.global.tipos_contratos)}}function Be(t,e){1&t&&(i.Xb(0,"div",44),i.Xb(1,"a",64),i.xc(2,"F62 \u2013 LJ Formato Informe Previo Administrativo para Comit\xe9 de Contrataci\xf3n"),i.Wb(),i.Wb())}function Ye(t,e){1&t&&(i.Xb(0,"div",44),i.Xb(1,"a",65),i.xc(2,"F64 \u2013 LJ Formato Informe Previo Asistencial para Comit\xe9 de Contrataci\xf3n"),i.Wb(),i.Wb())}function Je(t,e){if(1&t&&(i.Xb(0,"div",15),i.vc(1,Be,3,0,"div",63),i.vc(2,Ye,3,0,"div",63),i.Wb()),2&t){const t=i.hc(3);i.Hb(1),i.kc("ngIf",1==t.solicitud.tipo_contrato),i.Hb(1),i.kc("ngIf",2==t.solicitud.tipo_contrato)}}function Ze(t,e){if(1&t){const t=i.Yb();i.Xb(0,"input",66),i.fc("change",(function(e){return i.sc(t),i.hc(3).cambiarDocumento(e.target.files[0])})),i.Wb()}}function Ge(t,e){if(1&t){const t=i.Yb();i.Xb(0,"button",67),i.fc("click",(function(){return i.sc(t),i.hc(3).descargarDocumento()})),i.xc(1),i.Wb()}if(2&t){const t=i.hc(3);i.Hb(1),i.yc(t.solicitud.documento_adjunto)}}function Ke(t,e){1&t&&(i.Xb(0,"label",48),i.xc(1,"Observaciones"),i.Wb())}function Qe(t,e){if(1&t&&(i.Xb(0,"div",15),i.Xb(1,"div",47),i.vc(2,Ke,2,0,"label",68),i.Xb(3,"textarea",69),i.xc(4),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.hc(3);i.Hb(2),i.kc("ngIf",4==t.solicitud.estado),i.Hb(2),i.yc(t.solicitud.observaciones_juridica)}}function to(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",70),i.Xb(1,"div",71),i.Xb(2,"button",72),i.Tb(3,"i",73),i.xc(4," Enviar"),i.Wb(),i.Xb(5,"button",74),i.fc("click",(function(){return i.sc(t),i.hc(3).cancelarSolicitud()})),i.xc(6,"Cancelar"),i.Wb(),i.Wb(),i.Wb()}if(2&t){i.hc();const t=i.rc(1),e=i.hc(2);i.Hb(2),i.kc("disabled",t.invalid||null==e.solicitud.tipo_contrato||null==e.solicitud.tipo_contrato||!e.documento_adjunto&&!e.solicitud.documento_adjunto)}}const eo=function(t){return{"is-invalid":t}},oo=function(t,e){return{"col-sm-6":t,"col-sm-12":e}};function no(t,e){if(1&t){const t=i.Yb();i.Xb(0,"form",11,12),i.fc("ngSubmit",(function(){i.sc(t);const e=i.rc(1);return i.hc(2).onSubmit(e)})),i.Xb(2,"div",13),i.Xb(3,"h3",14),i.xc(4,"Datos del Solicitante"),i.Wb(),i.Xb(5,"div",15),i.Xb(6,"div",16),i.Xb(7,"label",17),i.xc(8,"Primer Nombre"),i.Xb(9,"span",18),i.xc(10,"*"),i.Wb(),i.Wb(),i.Xb(11,"input",19,20),i.fc("ngModelChange",(function(e){return i.sc(t),i.hc(2).solicitud.primer_nombre=e}))("ngModelChange",(function(e){i.sc(t);const o=i.hc(2);return o.solicitud.primer_nombre=o._global_service.upperCase(e)})),i.Wb(),i.Wb(),i.Xb(13,"div",16),i.Xb(14,"label",21),i.xc(15,"Segundo Nombre"),i.Wb(),i.Xb(16,"input",22,23),i.fc("ngModelChange",(function(e){return i.sc(t),i.hc(2).solicitud.segundo_nombre=e}))("ngModelChange",(function(e){i.sc(t);const o=i.hc(2);return o.solicitud.segundo_nombre=o._global_service.upperCase(e)})),i.Wb(),i.Wb(),i.Xb(18,"div",16),i.Xb(19,"label",24),i.xc(20,"Primer Apellido"),i.Xb(21,"span",18),i.xc(22,"*"),i.Wb(),i.Wb(),i.Xb(23,"input",25,26),i.fc("ngModelChange",(function(e){return i.sc(t),i.hc(2).solicitud.primer_apellido=e}))("ngModelChange",(function(e){i.sc(t);const o=i.hc(2);return o.solicitud.primer_apellido=o._global_service.upperCase(e)})),i.Wb(),i.Wb(),i.Xb(25,"div",16),i.Xb(26,"label",27),i.xc(27,"Segundo Apellido"),i.Wb(),i.Xb(28,"input",28,29),i.fc("ngModelChange",(function(e){return i.sc(t),i.hc(2).solicitud.segundo_apellido=e}))("ngModelChange",(function(e){i.sc(t);const o=i.hc(2);return o.solicitud.segundo_apellido=o._global_service.upperCase(e)})),i.Wb(),i.Wb(),i.Wb(),i.Xb(30,"div",15),i.Xb(31,"div",30),i.Xb(32,"label",31),i.xc(33,"Cargo"),i.Xb(34,"span",18),i.xc(35,"*"),i.Wb(),i.Wb(),i.Xb(36,"input",32,33),i.fc("ngModelChange",(function(e){return i.sc(t),i.hc(2).solicitud.cargo=e}))("ngModelChange",(function(e){i.sc(t);const o=i.hc(2);return o.solicitud.cargo=o._global_service.upperCase(e)})),i.Wb(),i.Wb(),i.Xb(38,"div",30),i.Xb(39,"label",34),i.xc(40,"\xc1rea"),i.Xb(41,"span",18),i.xc(42,"*"),i.Wb(),i.Wb(),i.Xb(43,"select",35,36),i.fc("ngModelChange",(function(e){return i.sc(t),i.hc(2).solicitud.area_solicitante=e})),i.vc(45,$e,2,2,"option",37),i.Wb(),i.Wb(),i.Wb(),i.Xb(46,"div",15),i.Xb(47,"div",38),i.Xb(48,"label",39),i.xc(49,"Correo electr\xf3nico"),i.Xb(50,"span",18),i.xc(51,"*"),i.Wb(),i.Wb(),i.Xb(52,"input",40,41),i.fc("ngModelChange",(function(e){return i.sc(t),i.hc(2).solicitud.correo_electronico=e})),i.Wb(),i.Wb(),i.vc(54,Ue,7,4,"div",42),i.Wb(),i.vc(55,Ve,8,1,"div",43),i.Xb(56,"h3",14),i.xc(57,"Descripci\xf3n"),i.Xb(58,"span",18),i.xc(59,"*"),i.Wb(),i.Wb(),i.Xb(60,"div",15),i.Xb(61,"div",44),i.Xb(62,"textarea",45,46),i.fc("ngModelChange",(function(e){return i.sc(t),i.hc(2).solicitud.descripcion_solicitud=e})),i.Wb(),i.Wb(),i.Wb(),i.vc(64,Je,3,2,"div",43),i.Xb(65,"div",15),i.Xb(66,"div",47),i.Xb(67,"label",48),i.xc(68,"Documento Adjunto"),i.Xb(69,"span",18),i.xc(70,"*"),i.Wb(),i.Wb(),i.vc(71,Ze,1,0,"input",49),i.vc(72,Ge,2,1,"button",50),i.Wb(),i.Wb(),i.vc(73,Qe,5,2,"div",43),i.Wb(),i.vc(74,to,7,1,"div",51),i.Wb()}if(2&t){const t=i.rc(12),e=i.rc(17),o=i.rc(24),n=i.rc(29),c=i.rc(37),a=i.rc(44),r=i.rc(53),s=i.rc(63),l=i.hc(2);i.Hb(11),i.kc("ngClass",i.nc(33,eo,t.invalid))("ngModel",l.solicitud.primer_nombre)("disabled",l.bandera_disabled),i.Hb(5),i.kc("ngClass",i.nc(35,eo,e.invalid))("ngModel",l.solicitud.segundo_nombre)("disabled",l.bandera_disabled),i.Hb(7),i.kc("ngClass",i.nc(37,eo,o.invalid))("ngModel",l.solicitud.primer_apellido)("disabled",l.bandera_disabled),i.Hb(5),i.kc("ngClass",i.nc(39,eo,n.invalid))("ngModel",l.solicitud.segundo_apellido)("disabled",l.bandera_disabled),i.Hb(8),i.kc("ngClass",i.nc(41,eo,c.invalid))("ngModel",l.solicitud.cargo)("disabled",l.bandera_disabled),i.Hb(7),i.kc("ngClass",i.nc(43,eo,a.invalid))("ngModel",l.solicitud.area_solicitante)("disabled",l.bandera_disabled),i.Hb(2),i.kc("ngForOf",l.global.areas_contratacion),i.Hb(2),i.kc("ngClass",i.oc(45,oo,l.bandera_disabled,!l.bandera_disabled)),i.Hb(5),i.kc("ngClass",i.nc(48,eo,r.invalid))("ngModel",l.solicitud.correo_electronico)("disabled",l.bandera_disabled),i.Hb(2),i.kc("ngIf",l.bandera_disabled),i.Hb(1),i.kc("ngIf",!l.bandera_disabled),i.Hb(7),i.kc("ngClass",i.nc(50,eo,s.invalid))("ngModel",l.solicitud.descripcion_solicitud)("disabled",l.bandera_disabled),i.Hb(2),i.kc("ngIf",l.solicitud.tipo_contrato&&!l.bandera_disabled),i.Hb(7),i.kc("ngIf",!l.bandera_disabled||4==l.solicitud.estado),i.Hb(1),i.kc("ngIf",!l.documento_adjunto&&l.solicitud.documento_adjunto),i.Hb(1),i.kc("ngIf",l.solicitud.observaciones_juridica),i.Hb(1),i.kc("ngIf",!l.bandera_disabled||4==l.solicitud.estado)}}function co(t,e){if(1&t&&(i.Vb(0),i.Tb(1,"app-agregar-documentos",75),i.Ub()),2&t){const t=i.hc(2);i.Hb(1),i.kc("solicitud",t.solicitud)}}function io(t,e){if(1&t&&(i.Xb(0,"div",2),i.Xb(1,"div",3),i.Xb(2,"a",4),i.xc(3,"Regresar"),i.Wb(),i.Wb(),i.Xb(4,"div",5),i.vc(5,ze,3,1,"div",6),i.vc(6,no,75,52,"form",7),i.vc(7,co,2,1,"ng-container",8),i.Wb(),i.xc(8),i.Wb()),2&t){const t=i.hc();i.Hb(5),i.kc("ngIf",t.mensaje_inicial),i.Hb(1),i.kc("ngIf",t.solicitud),i.Hb(1),i.kc("ngIf",6==t.solicitud.estado||7==t.solicitud.estado),i.Hb(1),i.zc(" ",t.configurarCheckInput(),"\n")}}let ao=(()=>{class t{constructor(t,e,o,n){this._file_upload_service=t,this._global_service=e,this._precontractual_service=o,this._router=n,this.bandera_disabled=!1,this.bandera_inicial=!0,this.bandera_juridica=!1,this.mensaje_inicial=null,this.solicitud=null,this.global=R.f}ngOnInit(){this.obtenerValoresInicial()}cambiarDocumento(t){this.documento_adjunto=t}cancelarSolicitud(){this.configurarInformacionInicial(),this._router.navigate(["./contratacion/precontractual/panel-solicitudes"])}configurarCheckInput(){}configurarInformacionInicial(){this.solicitud=new A(null,null,null,null,null,null,null,null,null,null,null,null,null,null),this.observaciones_juridica=new M(null,null,null,null,null,null)}descargarDocumento(){this._file_upload_service.descargarDocumento(this.solicitud.documento_adjunto,"contratacion").subscribe(t=>{window.open(`${R.f.url}upload/contratacion/${this.solicitud.documento_adjunto}`)})}guardarObservacionJuridica(t){}obtenerValoresInicial(){this.configurarInformacionInicial()}onSubmit(t){this._file_upload_service.cargarArchivo(this.documento_adjunto,"contratacion").then(e=>{"success"==e.status&&(this.solicitud.documento_adjunto=e.nombre_archivo,this._precontractual_service.crearSolicitudPrecontractual(this.solicitud).subscribe(e=>{j.a.fire({position:"center",icon:"success",title:"Se ha creado la solicitud precontractual correctamente en el sistema con el n\xfamero de consectuvo "+e.precontractual.id,showConfirmButton:!0}),t.reset(),this.cancelarSolicitud()}))}).catch(t=>{console.log(t)})}}return t.\u0275fac=function(e){return new(e||t)(i.Sb(R.b),i.Sb(R.c),i.Sb(E),i.Sb(P.d))},t.\u0275cmp=i.Mb({type:t,selectors:[["app-nueva-solicitud"]],decls:2,vars:2,consts:[[3,"bandera_carga"],["class","col-lg-12 pr-0 pl-0",4,"ngIf"],[1,"col-lg-12","pr-0","pl-0"],[1,"backLink","col","col-sm-12"],["routerLink","/contratacion/precontractual/panel-solicitudes",1,"col-sm-12"],[1,"formContainer"],["class","col col-12 mt-2",4,"ngIf"],[3,"ngSubmit",4,"ngIf"],[4,"ngIf"],[1,"col","col-12","mt-2"],["role","alert",1,"alert","alert-warning"],[3,"ngSubmit"],["solicitudForm","ngForm"],[1,"form-body"],[1,"subtitle"],[1,"form-group"],[1,"col","col-sm-12","col-md-3","d-inline-block"],["for","primer_nombre",1,"control-label","labelForm"],[1,"required"],["type","text","id","primer_nombre","name","primer_nombre","maxlength","60","pattern","[a-zA-Z\xc0-\xff ]+","required","",1,"form-control","inputForm",3,"ngClass","ngModel","disabled","ngModelChange"],["primer_nombre","ngModel"],["for","segundo_nombre",1,"control-label","labelForm"],["type","text","id","segundo_nombre","name","segundo_nombre","maxlength","60","pattern","[a-zA-Z\xc0-\xff ]+",1,"form-control","inputForm",3,"ngClass","ngModel","disabled","ngModelChange"],["segundo_nombre","ngModel"],["for","primer_apellido",1,"control-label","labelForm"],["type","text","id","primer_apellido","name","primer_apellido","maxlength","60","pattern","[a-zA-Z\xc0-\xff ]+","required","",1,"form-control","inputForm",3,"ngClass","ngModel","disabled","ngModelChange"],["primer_apellido","ngModel"],["for","segundo_apellido",1,"control-label","labelForm"],["type","text","id","segundo_apellido","name","segundo_apellido","maxlength","60","pattern","[a-zA-Z\xc0-\xff ]+",1,"form-control","inputForm",3,"ngClass","ngModel","disabled","ngModelChange"],["segundo_apellido","ngModel"],[1,"col","col-sm-12","col-md-6","d-inline-block"],["for","cargo",1,"control-label","labelForm"],["type","text","id","cargo","name","cargo","maxlength","60","required","",1,"form-control","inputForm",3,"ngClass","ngModel","disabled","ngModelChange"],["cargo","ngModel"],["for","area_solicitante",1,"control-label","labelForm"],["id","area_solicitante","name","area_solicitante","required","",1,"form-control","inputForm","custom-select",3,"ngClass","ngModel","disabled","ngModelChange"],["area_solicitante","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"col","d-inline-block",3,"ngClass"],["for","correo_electronico",1,"control-label","labelForm"],["type","text","id","correo_electronico","name","correo_electronico","maxlength","255","placeholder","ejemplo@capitalsalud.gov.co","pattern","[a-zA-Z0-9._%+-]+@capitalsalud.gov.co","required","",1,"form-control","inputForm",3,"ngClass","ngModel","disabled","ngModelChange"],["correo_electronico","ngModel"],["class","col col-sm-6 d-inline-block",4,"ngIf"],["class","form-group",4,"ngIf"],[1,"col","col-sm-12"],["name","descripcion_solicitud","id","descripcion_solicitud","rows","3","minlength","15","maxlength","100","placeholder","Diligencia la solicitud (m\xe1ximo 100 caracteres)","required","",1,"form-control","inputForm",3,"ngClass","ngModel","disabled","ngModelChange"],["descripcion_solicitud","ngModel"],[1,"col","col-12"],["for","documento_adjunto",1,"control-label","labelForm"],["type","file","class","form-control inputForm","id","documento_adjunto","accept","application/pdf",3,"change",4,"ngIf"],["type","button","class","btn btn-waves-effect waves-light btn-rounded btn-sm btn-success mt-2 d-block",3,"click",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"value"],[1,"col","col-sm-6","d-inline-block"],[1,"control-label","labelForm"],["type","text","id","tipo_contrato","name","tipo_contrato","disabled","",1,"form-control","inputForm",3,"value"],[1,"form-check"],["class","custom-control custom-radio",4,"ngFor","ngForOf"],[1,"custom-control","custom-radio"],["name","tipo_contrato","type","radio",1,"custom-control-input",3,"id","checked","value","ngModel","disabled","ngModelChange"],["tipo_contrato","ngModel"],[1,"custom-control-indicator"],[1,"custom-control-description"],["class","col col-sm-12",4,"ngIf"],["href","https://red.capitalsalud.gov.co/wp-content/uploads/2021/08/F62-LJ.docx","target","_blank",1,"btn","waves-effect","waves-light","btn-rounded","btn-sm","btn-info"],["href","https://red.capitalsalud.gov.co/wp-content/uploads/2021/08/F64-LJ.docx","target","_blank",1,"btn","waves-effect","waves-light","btn-rounded","btn-sm","btn-info"],["type","file","id","documento_adjunto","accept","application/pdf",1,"form-control","inputForm",3,"change"],["type","button",1,"btn","btn-waves-effect","waves-light","btn-rounded","btn-sm","btn-success","mt-2","d-block",3,"click"],["for","documento_adjunto","class","control-label labelForm",4,"ngIf"],["name","observaciones","id","observaciones","rows","3","disabled","",1,"form-control","inputForm"],[1,"form-actions"],[1,"col","col-sm-12","text-right"],["type","submit",1,"btn","btn-success",3,"disabled"],[1,"fa","fa-check"],["type","button",1,"btn","btn-inverse","ml-2",3,"click"],[3,"solicitud"]],template:function(t,e){1&t&&(i.Tb(0,"app-loader",0),i.vc(1,io,9,4,"div",1)),2&t&&(i.kc("bandera_carga",!e.bandera_inicial),i.Hb(1),i.kc("ngIf",e.bandera_inicial))},directives:[$.a,n.l,P.f,c.p,c.g,c.h,c.b,c.d,c.k,c.m,n.j,c.f,c.i,c.n,n.k,c.e,c.j,c.o,c.l,xe],pipes:[U],encapsulation:2}),t})();function ro(t,e){if(1&t&&(i.Xb(0,"div",7),i.Xb(1,"div",8),i.xc(2),i.Wb(),i.Wb()),2&t){const t=i.hc(2);i.Hb(2),i.zc(" ",t.mensaje_inicial," ")}}function so(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",16),i.Xb(1,"pagination-controls",17),i.fc("pageChange",(function(e){return i.sc(t),i.hc(3).cambiarPagina(e)})),i.Wb(),i.Wb()}}function lo(t,e){if(1&t&&(i.Xb(0,"td"),i.xc(1),i.ic(2,"date"),i.Wb()),2&t){const t=i.hc().$implicit;i.Hb(1),i.yc(i.jc(2,1,t.fecha_respuesta,"dd/MM/yyyy"))}}function bo(t,e){1&t&&(i.Xb(0,"td"),i.xc(1,"-"),i.Wb())}function uo(t,e){if(1&t&&(i.Xb(0,"td"),i.xc(1),i.ic(2,"date"),i.Wb()),2&t){const t=i.hc().$implicit;i.Hb(1),i.yc(i.jc(2,1,t.fecha_comite_contratacion,"dd/MM/yyyy"))}}function po(t,e){1&t&&(i.Xb(0,"td"),i.xc(1,"-"),i.Wb())}const fo=function(t){return["../documentacion-postcontractual/",t]};function mo(t,e){if(1&t&&(i.Xb(0,"button",24),i.Tb(1,"i",25),i.Wb()),2&t){const t=i.hc().$implicit;i.kc("routerLink",i.nc(1,fo,t.id))}}const go=function(t,e,o,n){return{death:t,regular:e,bad:o,good:n}},ho=function(t){return["../aprobacion-juridica/",t]};function vo(t,e){if(1&t&&(i.Xb(0,"tr",18),i.Xb(1,"td"),i.xc(2),i.Wb(),i.Xb(3,"td"),i.xc(4),i.ic(5,"global"),i.Wb(),i.Xb(6,"td"),i.xc(7),i.Wb(),i.Xb(8,"td"),i.xc(9),i.ic(10,"date"),i.Wb(),i.Xb(11,"td"),i.xc(12),i.ic(13,"global"),i.Wb(),i.vc(14,lo,3,4,"td",19),i.vc(15,bo,2,0,"td",19),i.vc(16,uo,3,4,"td",19),i.vc(17,po,2,0,"td",19),i.Xb(18,"td",20),i.Xb(19,"button",21),i.Tb(20,"i",22),i.Wb(),i.vc(21,mo,2,3,"button",23),i.Wb(),i.Wb()),2&t){const t=e.$implicit;i.kc("ngClass",i.pc(21,go,2==t.estado,3==t.estado,4==t.estado,6==t.estado)),i.Hb(2),i.yc(t.id),i.Hb(2),i.yc(i.jc(5,12,t.area_solicitante,"areas_contratacion")),i.Hb(3),i.yc(t.descripcion_solicitud),i.Hb(2),i.yc(i.jc(10,15,t.createdAt,"dd/MM/yyyy")),i.Hb(3),i.yc(i.jc(13,18,t.estado,"estados_solicitud_precontractual")),i.Hb(2),i.kc("ngIf",t.fecha_respuesta),i.Hb(1),i.kc("ngIf",!t.fecha_respuesta),i.Hb(1),i.kc("ngIf",t.fecha_comite_contratacion),i.Hb(1),i.kc("ngIf",!t.fecha_comite_contratacion),i.Hb(2),i.kc("routerLink",i.nc(26,ho,t.id)),i.Hb(2),i.kc("ngIf",7==t.estado)}}const _o=function(t,e){return{itemsPerPage:t,currentPage:e}};function Wo(t,e){if(1&t&&(i.Xb(0,"div",9),i.Xb(1,"div",10),i.vc(2,so,2,0,"div",11),i.Xb(3,"table",12),i.Xb(4,"thead",13),i.Xb(5,"tr"),i.Xb(6,"th"),i.xc(7,"ID"),i.Wb(),i.Xb(8,"th"),i.xc(9,"\xc1rea solicitante"),i.Wb(),i.Xb(10,"th"),i.xc(11,"Descripci\xf3n de la solicitud"),i.Wb(),i.Xb(12,"th"),i.xc(13,"Fecha solicitud"),i.Wb(),i.Xb(14,"th"),i.xc(15,"Estado"),i.Wb(),i.Xb(16,"th"),i.xc(17,"Fecha respuesta"),i.Wb(),i.Xb(18,"th"),i.xc(19,"Fecha presentaci\xf3n CC"),i.Wb(),i.Xb(20,"th"),i.xc(21,"Detalle"),i.Wb(),i.Wb(),i.Wb(),i.Xb(22,"tbody",14),i.vc(23,vo,22,28,"tr",15),i.ic(24,"paginate"),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.hc(2);i.Hb(2),i.kc("ngIf",t.solicitudes&&t.solicitudes.length>t.items_por_pagina),i.Hb(21),i.kc("ngForOf",i.jc(24,2,t.solicitudes,i.oc(5,_o,t.items_por_pagina,t.pagina_actual)))}}function Xo(t,e){if(1&t&&(i.Xb(0,"div",2),i.Xb(1,"div",3),i.Xb(2,"a",4),i.xc(3,"Regresar"),i.Wb(),i.Wb(),i.vc(4,ro,3,1,"div",5),i.vc(5,Wo,25,8,"div",6),i.Wb()),2&t){const t=i.hc();i.Hb(4),i.kc("ngIf",t.mensaje_inicial),i.Hb(1),i.kc("ngIf",t.solicitudes)}}let xo=(()=>{class t{constructor(t,e){this._precontractual_functions_service=t,this._precontractual_service=e,this.bandera_inicial=!1,this.global=R.f,this.items_por_pagina=20;let o=+localStorage.getItem("juridica_pagina");this.pagina_actual=o||1}ngOnInit(){this.obtenerInformacionInicial()}cambiarPagina(t){this.pagina_actual=t,localStorage.setItem("juridica_pagina",t)}obtenerInformacionInicial(){Promise.all([this.obtenerSolicitudesJuridica()]).then(t=>{this.solicitudes=t[0],this.bandera_inicial=!0}).catch(t=>{this.mensaje_inicial=t,this.bandera_inicial=!0})}obtenerSolicitudesJuridica(){return new Promise((t,e)=>{this._precontractual_service.obtenerSolicitudesJuridica().subscribe(e=>{t(e.precontractuales)},t=>{e(t)})})}}return t.\u0275fac=function(e){return new(e||t)(i.Sb(T),i.Sb(E))},t.\u0275cmp=i.Mb({type:t,selectors:[["app-panel-juridica"]],decls:2,vars:2,consts:[[3,"bandera_carga"],["class","col-12 pr-0 pl-0",4,"ngIf"],[1,"col-12","pr-0","pl-0"],[1,"backLink","col","col-sm-12"],["routerLink","../",1,"col-sm-12"],["class","col col-12 mt-2",4,"ngIf"],["class","card-body tableContainer",4,"ngIf"],[1,"col","col-12","mt-2"],["role","alert",1,"alert","alert-warning"],[1,"card-body","tableContainer"],[1,"table-responsive","tableContainerAll"],["class","paginationControls",4,"ngIf"],[1,"table","table-bordered"],[1,"thead_styles"],[1,"tbody_styles"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"paginationControls"],["previousLabel","Anterior","nextLabel","Siguiente","maxSize","4",3,"pageChange"],[3,"ngClass"],[4,"ngIf"],[1,"text-center"],["type","button","title","Ver M\xe1s",1,"btn","btn-info","btn-circle","btn-sm",3,"routerLink"],[1,"fa","fa-eye"],["type","button","class","btn btn-warning btn-circle btn-sm mt-1","title","Adjuntar Documentaci\xf3n Postcontractual",3,"routerLink",4,"ngIf"],["type","button","title","Adjuntar Documentaci\xf3n Postcontractual",1,"btn","btn-warning","btn-circle","btn-sm","mt-1",3,"routerLink"],[1,"fa","fa-plus"]],template:function(t,e){1&t&&(i.Tb(0,"app-loader",0),i.vc(1,Xo,6,2,"div",1)),2&t&&(i.kc("bandera_carga",!e.bandera_inicial),i.Hb(1),i.kc("ngIf",e.bandera_inicial))},directives:[$.a,n.l,P.f,n.k,k,n.j,P.e],pipes:[_,U,n.d],encapsulation:2}),t})();function ko(t,e){if(1&t&&(i.Xb(0,"div",7),i.Xb(1,"div",8),i.xc(2),i.Wb(),i.Wb()),2&t){const t=i.hc(2);i.Hb(2),i.zc(" ",t.mensaje_inicial," ")}}function Io(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",16),i.Xb(1,"pagination-controls",17),i.fc("pageChange",(function(e){return i.sc(t),i.hc(3).cambiarPagina(e)})),i.Wb(),i.Wb()}}function yo(t,e){if(1&t&&(i.Xb(0,"td"),i.xc(1),i.ic(2,"date"),i.Wb()),2&t){const t=i.hc().$implicit;i.Hb(1),i.yc(i.jc(2,1,t.solicitud_precontractual.fecha_respuesta,"dd/MM/yyyy"))}}function Co(t,e){1&t&&(i.Xb(0,"td"),i.xc(1,"-"),i.Wb())}const Ho=function(t){return["../aprobacion-financiera/",t]};function Po(t,e){if(1&t&&(i.Xb(0,"tr"),i.Xb(1,"td"),i.xc(2),i.Wb(),i.Xb(3,"td"),i.xc(4),i.ic(5,"global"),i.Wb(),i.Xb(6,"td"),i.xc(7),i.Wb(),i.Xb(8,"td"),i.xc(9),i.ic(10,"date"),i.Wb(),i.Xb(11,"td"),i.xc(12),i.ic(13,"global"),i.Wb(),i.vc(14,yo,3,4,"td",18),i.vc(15,Co,2,0,"td",18),i.Xb(16,"td"),i.xc(17),i.ic(18,"global"),i.Wb(),i.Xb(19,"td",19),i.Xb(20,"button",20),i.Tb(21,"i",21),i.Wb(),i.Wb(),i.Wb()),2&t){const t=e.$implicit;i.Hb(2),i.yc(t.id),i.Hb(2),i.yc(i.jc(5,9,t.solicitud_precontractual.area_solicitante,"areas_contratacion")),i.Hb(3),i.yc(t.descripcion),i.Hb(2),i.yc(i.jc(10,12,t.createdAt,"dd/MM/yyyy")),i.Hb(3),i.yc(i.jc(13,15,t.estado,"estados_presupuesto")),i.Hb(2),i.kc("ngIf",t.solicitud_precontractual.fecha_respuesta),i.Hb(1),i.kc("ngIf",!t.solicitud_precontractual.fecha_respuesta),i.Hb(2),i.yc(i.jc(18,18,t.tipo_certificado,"tipos_certificados")),i.Hb(3),i.kc("routerLink",i.nc(21,Ho,t.id))}}const Do=function(t,e){return{itemsPerPage:t,currentPage:e}};function So(t,e){if(1&t&&(i.Xb(0,"div",9),i.Xb(1,"div",10),i.vc(2,Io,2,0,"div",11),i.Xb(3,"table",12),i.Xb(4,"thead",13),i.Xb(5,"tr"),i.Xb(6,"th"),i.xc(7,"ID"),i.Wb(),i.Xb(8,"th"),i.xc(9,"\xc1rea solicitante"),i.Wb(),i.Xb(10,"th"),i.xc(11,"Descripci\xf3n de la solicitud"),i.Wb(),i.Xb(12,"th"),i.xc(13,"Fecha solicitud"),i.Wb(),i.Xb(14,"th"),i.xc(15,"Estado"),i.Wb(),i.Xb(16,"th"),i.xc(17,"Fecha respuesta"),i.Wb(),i.Xb(18,"th"),i.xc(19,"Tipo de Certificado"),i.Wb(),i.Xb(20,"th"),i.xc(21,"Detalle"),i.Wb(),i.Wb(),i.Wb(),i.Xb(22,"tbody",14),i.vc(23,Po,22,23,"tr",15),i.ic(24,"paginate"),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.hc(2);i.Hb(2),i.kc("ngIf",t.presupuestos&&t.presupuestos.length>t.items_por_pagina),i.Hb(21),i.kc("ngForOf",i.jc(24,2,t.presupuestos,i.oc(5,Do,t.items_por_pagina,t.pagina_actual)))}}function jo(t,e){if(1&t&&(i.Xb(0,"div",2),i.Xb(1,"div",3),i.Xb(2,"a",4),i.xc(3,"Regresar"),i.Wb(),i.Wb(),i.vc(4,ko,3,1,"div",5),i.vc(5,So,25,8,"div",6),i.Wb()),2&t){const t=i.hc();i.Hb(4),i.kc("ngIf",t.mensaje_inicial),i.Hb(1),i.kc("ngIf",t.presupuestos&&t.presupuestos.length>0)}}let Fo=(()=>{class t{constructor(t){this._presupuesto_service=t,this.bandera_inicial=!1,this.items_por_pagina=20}ngOnInit(){this.obtenerInformacionInicial()}cambiarPagina(t){this.pagina_actual=t,localStorage.setItem("juridica_pagina",t)}obtenerInformacionInicial(){Promise.all([this.obtenerSolicitudes()]).then(t=>{this.presupuestos=t[0],this.presupuestos.length<=0&&(this.mensaje_inicial="En el momento, no hay solicitudes de presupuesto activas en el sistema"),this.bandera_inicial=!0}).catch(t=>{this.mensaje_inicial=t,this.bandera_inicial=!0})}obtenerSolicitudes(){return new Promise((t,e)=>{this._presupuesto_service.obtenerSolicitudes().subscribe(e=>{t(e.presupuestos)},t=>{e(t)})})}}return t.\u0275fac=function(e){return new(e||t)(i.Sb(q))},t.\u0275cmp=i.Mb({type:t,selectors:[["app-panel-financiera"]],decls:2,vars:2,consts:[[3,"bandera_carga"],["class","col-12 pr-0 pl-0",4,"ngIf"],[1,"col-12","pr-0","pl-0"],[1,"backLink","col","col-sm-12"],["routerLink","../",1,"col-sm-12"],["class","col col-12 mt-2",4,"ngIf"],["class","card-body tableContainer",4,"ngIf"],[1,"col","col-12","mt-2"],["role","alert",1,"alert","alert-warning"],[1,"card-body","tableContainer"],[1,"table-responsive","tableContainerAll"],["class","paginationControls",4,"ngIf"],[1,"table","table-bordered"],[1,"thead_styles"],[1,"tbody_styles"],[4,"ngFor","ngForOf"],[1,"paginationControls"],["previousLabel","Anterior","nextLabel","Siguiente","maxSize","4",3,"pageChange"],[4,"ngIf"],[1,"text-center"],["type","button","title","Ver M\xe1s",1,"btn","btn-info","btn-circle","btn-sm",3,"routerLink"],[1,"fa","fa-eye"]],template:function(t,e){1&t&&(i.Tb(0,"app-loader",0),i.vc(1,jo,6,2,"div",1)),2&t&&(i.kc("bandera_carga",!e.bandera_inicial),i.Hb(1),i.kc("ngIf",e.bandera_inicial))},directives:[$.a,n.l,P.f,n.k,k,P.e],pipes:[_,U,n.d],encapsulation:2}),t})();function Mo(t,e){if(1&t&&(i.Xb(0,"div",10),i.Xb(1,"div",11),i.xc(2),i.Wb(),i.Wb()),2&t){const t=i.hc(2);i.Hb(2),i.zc(" ",t.mensaje_inicial," ")}}function wo(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",19),i.Xb(1,"pagination-controls",20),i.fc("pageChange",(function(e){return i.sc(t),i.hc(3).cambiarPagina(e)})),i.Wb(),i.Wb()}}function Ao(t,e){if(1&t&&(i.Xb(0,"td"),i.xc(1),i.ic(2,"date"),i.Wb()),2&t){const t=i.hc().$implicit;i.Hb(1),i.yc(i.jc(2,1,t.fecha_respuesta,"dd/MM/yyyy"))}}function Ro(t,e){1&t&&(i.Xb(0,"td"),i.xc(1,"-"),i.Wb())}function Oo(t,e){if(1&t&&(i.Xb(0,"td"),i.xc(1),i.ic(2,"date"),i.Wb()),2&t){const t=i.hc().$implicit;i.Hb(1),i.yc(i.jc(2,1,t.fecha_comite_contratacion,"dd/MM/yyyy"))}}function Lo(t,e){1&t&&(i.Xb(0,"td"),i.xc(1,"-"),i.Wb())}const Eo=function(t,e,o,n){return{death:t,regular:e,bad:o,good:n}},To=function(t){return["../editar-solicitud/",t]};function qo(t,e){if(1&t&&(i.Xb(0,"tr",21),i.Xb(1,"td"),i.xc(2),i.Wb(),i.Xb(3,"td"),i.xc(4),i.ic(5,"global"),i.Wb(),i.Xb(6,"td"),i.xc(7),i.Wb(),i.Xb(8,"td"),i.xc(9),i.ic(10,"date"),i.Wb(),i.Xb(11,"td"),i.xc(12),i.ic(13,"global"),i.Wb(),i.vc(14,Ao,3,4,"td",22),i.vc(15,Ro,2,0,"td",22),i.vc(16,Oo,3,4,"td",22),i.vc(17,Lo,2,0,"td",22),i.Xb(18,"td",23),i.Xb(19,"button",24),i.Tb(20,"i",25),i.Wb(),i.Wb(),i.Wb()),2&t){const t=e.$implicit;i.kc("ngClass",i.pc(20,Eo,2==t.estado,3==t.estado,4==t.estado,6==t.estado)),i.Hb(2),i.yc(t.id),i.Hb(2),i.yc(i.jc(5,11,t.area_solicitante,"areas_contratacion")),i.Hb(3),i.yc(t.descripcion_solicitud),i.Hb(2),i.yc(i.jc(10,14,t.createdAt,"dd/MM/yyyy")),i.Hb(3),i.yc(i.jc(13,17,t.estado,"estados_solicitud_precontractual")),i.Hb(2),i.kc("ngIf",t.fecha_respuesta),i.Hb(1),i.kc("ngIf",!t.fecha_respuesta),i.Hb(1),i.kc("ngIf",t.fecha_comite_contratacion),i.Hb(1),i.kc("ngIf",!t.fecha_comite_contratacion),i.Hb(2),i.kc("routerLink",i.nc(25,To,t.id))}}const zo=function(t,e){return{itemsPerPage:t,currentPage:e}};function $o(t,e){if(1&t&&(i.Xb(0,"div",12),i.Xb(1,"div",13),i.vc(2,wo,2,0,"div",14),i.Xb(3,"table",15),i.Xb(4,"thead",16),i.Xb(5,"tr"),i.Xb(6,"th"),i.xc(7,"ID"),i.Wb(),i.Xb(8,"th"),i.xc(9,"\xc1rea solicitante"),i.Wb(),i.Xb(10,"th"),i.xc(11,"Descripci\xf3n de la solicitud"),i.Wb(),i.Xb(12,"th"),i.xc(13,"Fecha solicitud"),i.Wb(),i.Xb(14,"th"),i.xc(15,"Estado"),i.Wb(),i.Xb(16,"th"),i.xc(17,"Fecha respuesta"),i.Wb(),i.Xb(18,"th"),i.xc(19,"Fecha Presentaci\xf3n CC"),i.Wb(),i.Xb(20,"th"),i.xc(21,"Detalle"),i.Wb(),i.Wb(),i.Wb(),i.Xb(22,"tbody",17),i.vc(23,qo,21,27,"tr",18),i.ic(24,"paginate"),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.hc(2);i.Hb(2),i.kc("ngIf",t.solicitudes&&t.solicitudes.length>t.items_por_pagina),i.Hb(21),i.kc("ngForOf",i.jc(24,2,t.solicitudes,i.oc(5,zo,t.items_por_pagina,t.pagina_actual)))}}function Uo(t,e){if(1&t&&(i.Xb(0,"div",2),i.Xb(1,"div",3),i.Xb(2,"a",4),i.xc(3,"Regresar"),i.Wb(),i.Wb(),i.vc(4,Mo,3,1,"div",5),i.vc(5,$o,25,8,"div",6),i.Xb(6,"div",7),i.Xb(7,"button",8),i.Tb(8,"i",9),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.hc();i.Hb(4),i.kc("ngIf",t.mensaje_inicial),i.Hb(1),i.kc("ngIf",t.solicitudes)}}let No=(()=>{class t{constructor(t){this._precontractual_service=t,this.bandera_inicial=!1,this.items_por_pagina=20;let e=+localStorage.getItem("precontractual_pagina");this.pagina_actual=e||1}ngOnInit(){this.obtenerInformacionInicial()}cambiarPagina(t){this.pagina_actual=t,localStorage.setItem("precontractual_pagina",t)}obtenerInformacionInicial(){Promise.all([this.obtenerSolicitudesPrecontractualesPorUsuario()]).then(t=>{this.solicitudes=t[0],this.bandera_inicial=!0}).catch(t=>{this.mensaje_inicial=t,this.bandera_inicial=!0})}obtenerSolicitudesProcontractuales(){return new Promise((t,e)=>{this._precontractual_service.obtenerSolicitudesActivas().subscribe(e=>{t(e.precontractuales)},t=>{e(t)})})}obtenerSolicitudesPrecontractualesPorUsuario(){return new Promise((t,e)=>{this._precontractual_service.obtenerSolicitudesPrecontractualesPorUsuario().subscribe(e=>{t(e.precontractuales)},t=>{e(t)})})}}return t.\u0275fac=function(e){return new(e||t)(i.Sb(E))},t.\u0275cmp=i.Mb({type:t,selectors:[["app-panel-solicitudes"]],decls:2,vars:2,consts:[[3,"bandera_carga"],["class","col-12 pr-0 pl-0",4,"ngIf"],[1,"col-12","pr-0","pl-0"],[1,"backLink","col","col-sm-12"],["routerLink","../",1,"col-sm-12"],["class","col col-12 mt-2",4,"ngIf"],["class","card-body tableContainer",4,"ngIf"],[1,"col","col-12","text-right"],["routerLink","../nueva-solicitud","type","button","title","Nueva Solicitud",1,"btn","btn-success","btn-circle","btn-lg"],[1,"fa","fa-plus"],[1,"col","col-12","mt-2"],["role","alert",1,"alert","alert-warning"],[1,"card-body","tableContainer"],[1,"table-responsive","tableContainerAll"],["class","paginationControls",4,"ngIf"],[1,"table","table-bordered"],[1,"thead_styles"],[1,"tbody_styles"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"paginationControls"],["previousLabel","Anterior","nextLabel","Siguiente","maxSize","4",3,"pageChange"],[3,"ngClass"],[4,"ngIf"],[1,"text-center"],["type","button","title","Ver M\xe1s",1,"btn","btn-info","btn-circle","btn-sm","d-inline-block",3,"routerLink"],[1,"fa","fa-eye"]],template:function(t,e){1&t&&(i.Tb(0,"app-loader",0),i.vc(1,Uo,9,2,"div",1)),2&t&&(i.kc("bandera_carga",!e.bandera_inicial),i.Hb(1),i.kc("ngIf",e.bandera_inicial))},directives:[$.a,n.l,P.f,P.e,n.k,k,n.j],pipes:[_,U,n.d],encapsulation:2}),t})();var Vo=o("Fe25");function Bo(t,e){if(1&t&&i.Tb(0,"app-card",1),2&t){const t=i.hc();i.kc("elementos_tarjeta",t.elementos_tarjeta)}}let Yo=(()=>{class t{constructor(t){this._user_service=t,this.elementos_tarjeta=[{titulo:"Solicitudes",descripcion:"Prueba de la descripci\xf3n",enlace:"panel-solicitudes"},{titulo:"Jur\xeddica",descripcion:"Prueba de la descripci\xf3n",enlace:"panel-juridica"},{titulo:"Financiera",descripcion:"Prueba de la descripci\xf3n",enlace:"panel-financiera"}]}ngOnInit(){this.validarPermisos()}validarPermisos(){const t=this._user_service.obtenerPermisosUsuario(),e=[];t.forEach(t=>{"CON_SOLICITUDES"==t.cn&&e.push(this.elementos_tarjeta[0]),"CON_JURIDICA"==t.cn&&e.push(this.elementos_tarjeta[1]),"CON_FINANCIERA"==t.cn&&e.push(this.elementos_tarjeta[2])}),this.elementos_tarjeta=e}}return t.\u0275fac=function(e){return new(e||t)(i.Sb(R.e))},t.\u0275cmp=i.Mb({type:t,selectors:[["app-precontractual"]],decls:1,vars:1,consts:[[3,"elementos_tarjeta",4,"ngIf"],[3,"elementos_tarjeta"]],template:function(t,e){1&t&&i.vc(0,Bo,1,1,"app-card",0),2&t&&i.kc("ngIf",e.elementos_tarjeta)},directives:[n.l,Vo.a],encapsulation:2}),t})();var Jo=o("JcrP");function Zo(t,e){1&t&&(i.Xb(0,"div",12),i.Xb(1,"div",13),i.Xb(2,"small",16),i.xc(3,"Resolviendo..."),i.Wb(),i.Wb(),i.Wb())}function Go(t,e){if(1&t){const t=i.Yb();i.Vb(0),i.Xb(1,"div",9),i.Xb(2,"p"),i.Xb(3,"b"),i.xc(4,"Para realizar el cargue masivo de contratistas debe subir un archivo de excel con los siguientes indices o cabeceras en la primera fila del documento:"),i.Wb(),i.Wb(),i.Xb(5,"ul"),i.Xb(6,"li"),i.xc(7,"TipoDocumento"),i.Wb(),i.Xb(8,"li"),i.xc(9,"NroDocumento"),i.Wb(),i.Xb(10,"li"),i.xc(11,"PrimerNombre"),i.Wb(),i.Xb(12,"li"),i.xc(13,"PrimerApellido"),i.Wb(),i.Xb(14,"li"),i.xc(15,"FechaNacimiento"),i.Wb(),i.Xb(16,"li"),i.xc(17,"Sexo"),i.Wb(),i.Xb(18,"li"),i.xc(19,"CodigoVacuna"),i.Wb(),i.Xb(20,"li"),i.xc(21,"NroDosis"),i.Wb(),i.Xb(22,"li"),i.xc(23,"TipoEsquema"),i.Wb(),i.Xb(24,"li"),i.xc(25,"CodigoEstrategia"),i.Wb(),i.Xb(26,"li"),i.xc(27,"FechaAplicacion"),i.Wb(),i.Xb(28,"li"),i.xc(29,"CorreoElectronico"),i.Wb(),i.Wb(),i.Wb(),i.Xb(30,"div",10),i.Xb(31,"input",11),i.fc("change",(function(e){return i.sc(t),i.hc().agregarArchivo(e)})),i.Wb(),i.Wb(),i.Xb(32,"div",12),i.Xb(33,"div",13),i.Xb(34,"input",14),i.fc("click",(function(){return i.sc(t),i.hc().registrarDatos()})),i.Wb(),i.Wb(),i.Wb(),i.vc(35,Zo,4,0,"div",15),i.Ub()}if(2&t){const t=i.hc();i.Hb(34),i.kc("disabled",!t.datos_vacunacion||0==t.datos_vacunacion.length),i.Hb(1),i.kc("ngIf",t.preloader_status)}}function Ko(t,e){if(1&t&&(i.Xb(0,"div",17),i.Xb(1,"div",18),i.xc(2),i.Wb(),i.Wb()),2&t){const t=i.hc();i.Hb(2),i.zc(" ",t.mensaje_respuesta," ")}}let Qo=(()=>{class t{constructor(t,e){this._export_service=t,this._vacunacion_service=e}ngOnInit(){this.iniciarSesionWebService().then(t=>{this.token_sesion=t,this.bandera_inicial=!0}).catch(t=>{this.mensaje_respuesta=t})}agregarArchivo(t){const e=t.target.files[0],o=new FileReader;o.readAsArrayBuffer(e),o.onload=t=>{let e;e=o.result;const n=new Uint8Array(e),c=new Array;for(let o=0;o!==n.length;o++)c[o]=String.fromCharCode(n[o]);const i=c.join(""),a=Jo.a(i,{type:"binary"}),r=Jo.b.sheet_to_json(a.Sheets[a.SheetNames[0]],{raw:!0}),s=this.obtenerLlaves(r[0]);let l=!1;if(s.forEach(t=>{l="TipoDocumento"===t.key||"NroDocumento"===t.key||"PrimerNombre"===t.key||"PrimerApellido"===t.key||"FechaNacimiento"===t.key||"Sexo"===t.key||"CodigoVacuna"===t.key||"NroDosis"===t.key||"TipoEsquema"===t.key||"CodigoEstrategia"===t.key||"FechaAplicacion"===t.key||"CorreoElectronico"===t.key}),l){let t=r;t.forEach(t=>{for(const e in t)t.hasOwnProperty(e)&&(""!=t[e]&&"null"!==t[e]&&"NULL"!==t[e]||(t[e]=null)),t.CodigoInstitucion="110013029645"}),this.datos_vacunacion=t}else this.mensaje_respuesta="Debe cargar el archivo con los \xedndices correctos"}}esperarRespuestasWebService(){let t=[];return new Promise(e=>{let o=0,n=0,c=setInterval(()=>{this.promesaRegistrarDatos(this.datos_vacunacion[o]).then(i=>{t.push(i),this.datos_vacunacion.length==t.length&&(clearInterval(c),e(t)),100==n&&this.iniciarSesionWebService().then(t=>{this.token_sesion=t,n=0}),o++,n++})},500)})}exportAsXLSX(t){let e=t;e.unshift({documento:"N\xdaMERO DE DOCUMENTO",idSolicitudCambio:"ID DE LA SOLICITUD",estado:"ESTADO DE LA SOLICITUD",mensaje:"MENSAJE"}),this._export_service.exportToExcelPlans(e,"Resultados WebService_")}iniciarSesionWebService(){return new Promise((t,e)=>{this._vacunacion_service.iniciarSesionWebService().subscribe(e=>{t(e.token)},t=>{e("No se ha podido iniciar sesi\xf3n en el web service para poder hacer el cargue de la informaci\xf3n")})})}obtenerLlaves(t){return Object.keys(t).map(e=>({key:e,value:t[e]}))}registrarDatos(){this.preloader_status=!0,this.esperarRespuestasWebService().then(t=>{this.exportAsXLSX(t),this.preloader_status=!1,console.log(t)})}promesaRegistrarDatos(t){return new Promise(e=>{this._vacunacion_service.guardarDatosWebService(t,this.token_sesion).subscribe(o=>{e({documento:t.NroDocumento,idSolicitudCambio:o.idSolicitudCambio,estado:o.mensaje[0],mensaje:o.mensaje[1]})},o=>{let n={documento:t.NroDocumento,idSolicitudCambio:"ERROR",estado:"ERROR",mensaje:"ERROR"};401==o.status?this.iniciarSesionWebService().then(t=>{this.token_sesion=t}):e(n)})})}}return t.\u0275fac=function(e){return new(e||t)(i.Sb(R.a),i.Sb(z))},t.\u0275cmp=i.Mb({type:t,selectors:[["app-vacunacion"]],decls:10,vars:2,consts:[[1,"row"],[1,"col-sm-12"],[1,"card","border-0"],[1,"card-body","cardContainer"],[1,"formContainer"],[1,"backLink","col","col-12","d-inline-block"],["routerLink","..",1,"col-sm-6"],[4,"ngIf"],["class","col col-12 mt-2",4,"ngIf"],[1,"infoParagraph","col","col-12"],[1,"col","col-sm-12","form-group","text-left"],["type","file","placeholder","upload file","accept",".csv,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",1,"inputForm","d-inline-block",3,"change"],[1,"form-group",2,"margin-top","1rem"],[1,"col","col-sm-12","buttonSubmit"],["type","submit","value","Registrar Informaci\xf3n",1,"btn","btn-success","btnPrefer","col-sm-12",3,"disabled","click"],["class","form-group","style","margin-top: 1rem",4,"ngIf"],[1,"warning-feedback"],[1,"col","col-12","mt-2"],["role","alert",1,"alert","alert-warning"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"div",2),i.Xb(3,"div",3),i.Xb(4,"div",4),i.Xb(5,"div",5),i.Xb(6,"a",6),i.xc(7,"Regresar"),i.Wb(),i.Wb(),i.vc(8,Go,36,2,"ng-container",7),i.vc(9,Ko,3,1,"div",8),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Hb(8),i.kc("ngIf",e.bandera_inicial),i.Hb(1),i.kc("ngIf",e.mensaje_respuesta))},directives:[P.f,n.l],encapsulation:2}),t})();function tn(t,e){1&t&&(i.Xb(0,"div",3),i.Xb(1,"div",4),i.Xb(2,"span",5),i.xc(3,"Loading..."),i.Wb(),i.Wb(),i.Wb())}function en(t,e){if(1&t&&(i.Xb(0,"div",14),i.Xb(1,"div",15),i.xc(2),i.Wb(),i.Wb()),2&t){const t=i.hc(2);i.Hb(2),i.zc(" ",t.mensaje_inicial," ")}}function on(t,e){1&t&&(i.Xb(0,"span",26),i.xc(1,"*"),i.Wb())}function nn(t,e){if(1&t){const t=i.Yb();i.Vb(0),i.Xb(1,"button",27),i.fc("click",(function(){i.sc(t);const e=i.hc(2).$implicit,o=i.hc(3);return o._precontractual_functions_services.descargarDocumento(o._precontractual_functions_services.validarDocumento(o.solicitud,e.id))})),i.Tb(2,"i",28),i.Wb(),i.Ub()}}function cn(t,e){1&t&&i.Tb(0,"i",31)}function an(t,e){1&t&&i.xc(0,"-")}function rn(t,e){if(1&t&&(i.vc(0,cn,1,0,"i",29),i.vc(1,an,1,0,"ng-template",null,30,i.wc)),2&t){const t=i.rc(2),e=i.hc(2).$implicit;i.kc("ngIf",e.required)("ngIfElse",t)}}function sn(t,e){if(1&t&&(i.Xb(0,"tr"),i.Xb(1,"td"),i.xc(2),i.vc(3,on,2,0,"span",23),i.Wb(),i.Xb(4,"td"),i.vc(5,nn,3,0,"ng-container",24),i.vc(6,rn,3,2,"ng-template",null,25,i.wc),i.Wb(),i.Wb()),2&t){const t=i.rc(7),e=i.hc().$implicit,o=i.hc(3);i.Hb(2),i.yc(e.value),i.Hb(1),i.kc("ngIf",e.required),i.Hb(2),i.kc("ngIf",o._precontractual_functions_services.validarDocumento(o.solicitud,e.id,!0))("ngIfElse",t)}}function ln(t,e){if(1&t&&(i.Vb(0),i.vc(1,sn,8,4,"tr",22),i.Ub()),2&t){const t=e.$implicit;i.Hb(1),i.kc("ngIf",t.id>=36&&t.id<=43)}}function bn(t,e){if(1&t&&(i.Xb(0,"div",16),i.Xb(1,"div",17),i.Xb(2,"table",18),i.Xb(3,"thead",19),i.Xb(4,"tr"),i.Xb(5,"th"),i.xc(6,"Documento Adjunto"),i.Wb(),i.Xb(7,"th"),i.xc(8,"Acciones"),i.Wb(),i.Wb(),i.Wb(),i.Xb(9,"tbody",20),i.vc(10,ln,2,1,"ng-container",21),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.hc(2);i.Hb(10),i.kc("ngForOf",t.global.tipos_documentos)}}function dn(t,e){if(1&t&&(i.Xb(0,"div",6),i.Xb(1,"div",7),i.Xb(2,"a",8),i.xc(3,"Regresar"),i.Wb(),i.Wb(),i.vc(4,en,3,1,"div",9),i.vc(5,bn,11,1,"div",10),i.Xb(6,"div",11),i.Xb(7,"button",12),i.Tb(8,"i",13),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.hc();i.Hb(4),i.kc("ngIf",t.mensaje_inicial),i.Hb(1),i.kc("ngIf",t.solicitud),i.Hb(2),i.Ib("data-target","#agregarDocumentoModal")}}function un(t,e){if(1&t&&(i.Xb(0,"option",51),i.xc(1),i.Wb()),2&t){const t=i.hc().$implicit;i.lc("value",t.id),i.Hb(1),i.yc(t.value)}}function pn(t,e){if(1&t&&(i.Vb(0),i.vc(1,un,2,2,"option",50),i.Ub()),2&t){const t=e.$implicit;i.Hb(1),i.kc("ngIf",t.id>=36&&t.id<=43)}}function fn(t,e){if(1&t){const t=i.Yb();i.Xb(0,"div",32),i.Xb(1,"div",33),i.Xb(2,"div",34),i.Xb(3,"form",35,36),i.fc("ngSubmit",(function(){i.sc(t);const e=i.hc();return e.cargarDocumentoRequerido(e.documento_a_cargar,e.documentacion.id_documento)})),i.Xb(5,"div",37),i.Xb(6,"h4",38),i.xc(7,"Agregar Documento a la Solicitud"),i.Wb(),i.Xb(8,"button",39),i.xc(9,"\xd7"),i.Wb(),i.Wb(),i.Xb(10,"div",40),i.Xb(11,"div",41),i.Xb(12,"div",42),i.Xb(13,"label",43),i.xc(14,"Seleccione el documento"),i.Xb(15,"span",26),i.xc(16,"*"),i.Wb(),i.Wb(),i.Xb(17,"select",44),i.fc("ngModelChange",(function(e){return i.sc(t),i.hc().documentacion.id_documento=e})),i.vc(18,pn,2,1,"ng-container",21),i.Wb(),i.Wb(),i.Wb(),i.Xb(19,"div",41),i.Xb(20,"div",42),i.Xb(21,"label",43),i.xc(22,"Documento adjunto"),i.Xb(23,"span",26),i.xc(24,"*"),i.Wb(),i.Wb(),i.Xb(25,"input",45),i.fc("change",(function(e){return i.sc(t),i.hc().documento_a_cargar=e.target.files[0]})),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(26,"div",46),i.Xb(27,"div",47),i.Xb(28,"button",48),i.fc("click",(function(){i.sc(t);const e=i.hc();return e.cargarDocumentoRequerido(e.documento_a_cargar,e.documentacion.id_documento)})),i.Tb(29,"i",28),i.xc(30," Adjuntar Documento"),i.Wb(),i.Xb(31,"button",49),i.fc("click",(function(){return i.sc(t),i.hc().configurarInformacionInicial()})),i.xc(32,"Cancelar"),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Wb()}if(2&t){const t=i.rc(4),e=i.hc();i.Hb(17),i.kc("ngModel",e.documentacion.id_documento),i.Hb(1),i.kc("ngForOf",e.global.tipos_documentos),i.Hb(10),i.kc("disabled",t.invalid||!e.documento_a_cargar)}}let mn=(()=>{class t{constructor(t,e,o,n,c){this._documentacion_service=t,this._file_upload_service=e,this._precontractual_functions_services=o,this._route=n,this._router=c,this.global=R.f}ngOnInit(){this.obtenerInformacionInicial()}cargarDocumentoRequerido(t,e){if(this.solicitud.documentos&&this.solicitud.documentos.length>0){let o=!1,n=null;if(this.solicitud.documentos.forEach(t=>{t.id_documento==e&&(o=!0,n=t.id)}),o&&t)return void this._file_upload_service.cargarArchivo(t,"contratacion").then(t=>{"success"==t.status&&(this.documentacion.id=n,this.documentacion.documento=t.nombre_archivo,this.documentacion.id_documento=e,this._documentacion_service.actualizarDocumentoAdjunto(this.documentacion).subscribe(t=>{j.a.fire({position:"center",icon:"success",title:t.message,showConfirmButton:!0}),this._precontractual_functions_services.obtenerSolicitud(this.solicitud.id).then(t=>{this.solicitud=t})}))}).catch(t=>{console.log(t)})}this._file_upload_service.cargarArchivo(t,"contratacion").then(t=>{"success"==t.status&&(this.documentacion.documento=t.nombre_archivo,this.documentacion.id_documento=e,this._documentacion_service.crearDocumentoAdjunto(this.documentacion).subscribe(t=>{j.a.fire({position:"center",icon:"success",title:t.message,showConfirmButton:!0}),this._precontractual_functions_services.obtenerSolicitud(this.solicitud.id).then(t=>{this.solicitud=t})}))}).catch(t=>{console.log(t)})}configurarInformacionInicial(){this.documentacion=new F(null,this.solicitud.id,null,null,3,1,null,null,null)}obtenerInformacionInicial(){this._route.params.subscribe(t=>{this.solicitud_id=t.id,Promise.all([this._precontractual_functions_services.obtenerSolicitud(this.solicitud_id)]).then(t=>{this.solicitud=t[0],this.configurarInformacionInicial(),7!=this.solicitud.estado&&(j.a.fire({position:"center",icon:"warning",title:"La solicitud no se ha finalizado y no puede agregar los documentos postcontractuales",showConfirmButton:!0}),this._router.navigate(["contratacion/precontractual/panel-juridica"])),this.bandera_inicial=!0}).catch(t=>{this.mensaje_inicial=t,this.bandera_inicial=!0})})}}return t.\u0275fac=function(e){return new(e||t)(i.Sb(L),i.Sb(R.b),i.Sb(T),i.Sb(P.a),i.Sb(P.d))},t.\u0275cmp=i.Mb({type:t,selectors:[["app-poscontractual"]],decls:3,vars:3,consts:[["class","text-center",4,"ngIf"],["class","col-12 pr-0 pl-0",4,"ngIf"],["class","modal animated fadeIn faster","id","agregarDocumentoModal",4,"ngIf"],[1,"text-center"],["role","status",1,"spinner-grow","text-info"],[1,"sr-only"],[1,"col-12","pr-0","pl-0"],[1,"backLink","col","col-sm-12"],["routerLink","../../panel-juridica",1,"col-sm-12"],["class","col col-12 mt-2",4,"ngIf"],["class","tableContainer",4,"ngIf"],[1,"col","col-12","text-right"],["type","button","data-toggle","modal","title","Agregar Documento",1,"btn","btn-info","btn-circle","btn-lg"],[1,"fa","fa-upload"],[1,"col","col-12","mt-2"],["role","alert",1,"alert","alert-warning"],[1,"tableContainer"],[1,"table-responsive","tableContainerAll"],[1,"table","table-bordered"],[1,"thead_styles"],[1,"tbody_styles"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","required",4,"ngIf"],[4,"ngIf","ngIfElse"],["elseDocumento",""],[1,"required"],["type","button","title","Descargar Documento",1,"btn","btn-success","btn-circle","btn-sm",3,"click"],[1,"fa","fa-check"],["class","fa fa-times","style","color: red; font-size: 1rem",4,"ngIf","ngIfElse"],["elseValidarDocumento",""],[1,"fa","fa-times",2,"color","red","font-size","1rem"],["id","agregarDocumentoModal",1,"modal","animated","fadeIn","faster"],[1,"modal-dialog"],[1,"modal-content"],[1,"form-container",3,"ngSubmit"],["agregarDocumentoForm","ngForm"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close"],[1,"modal-body"],[1,"form-group"],[1,"col","col-sm-12"],["for","descripcion",1,"control-label","labelForm"],["id","estado_documento","name","estado_documento",1,"form-control","inputForm","custom-select",3,"ngModel","ngModelChange"],["type","file","id","documento_2","accept","application/pdf","required","",1,"form-control","inputForm","mt-2",3,"change"],[1,"modal-footer"],[1,"col","col-sm-12","text-right"],["type","submit","data-dismiss","modal",1,"btn","btn-success",3,"disabled","click"],["type","button","data-dismiss","modal",1,"btn","btn-inverse","ml-2",3,"click"],[3,"value",4,"ngIf"],[3,"value"]],template:function(t,e){1&t&&(i.vc(0,tn,4,0,"div",0),i.vc(1,dn,9,3,"div",1),i.vc(2,fn,33,3,"div",2)),2&t&&(i.kc("ngIf",!e.bandera_inicial),i.Hb(1),i.kc("ngIf",e.bandera_inicial),i.Hb(1),i.kc("ngIf",e.documentacion))},directives:[n.l,P.f,n.k,c.p,c.g,c.h,c.n,c.f,c.i,c.j,c.o],encapsulation:2}),t})(),gn=(()=>{class t{constructor(t,e){this._user_service=t,this.router=e}canActivate(){const t=this._user_service.obtenerPermisosUsuario();if(t){for(let e=0;e<t.length;e++)if("CON_FINANCIERA"==t[e].cn)return!0;return this.router.navigate(["/contratacion"]),!1}return this.router.navigate(["/contratacion"]),!1}}return t.\u0275fac=function(e){return new(e||t)(i.bc(R.e),i.bc(P.d))},t.\u0275prov=i.Ob({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),hn=(()=>{class t{constructor(t,e){this._user_service=t,this.router=e}canActivate(){const t=this._user_service.obtenerPermisosUsuario();if(t){for(let e=0;e<t.length;e++)if("CON_JURIDICA"==t[e].cn)return!0;return this.router.navigate(["/contratacion"]),!1}return this.router.navigate(["/contratacion"]),!1}}return t.\u0275fac=function(e){return new(e||t)(i.bc(R.e),i.bc(P.d))},t.\u0275prov=i.Ob({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),vn=(()=>{class t{constructor(t,e){this._user_service=t,this.router=e}canActivate(){const t=this._user_service.obtenerPermisosUsuario();if(t){for(let e=0;e<t.length;e++)if("CON_SOLICITUDES"==t[e].cn)return!0;return this.router.navigate(["/contratacion"]),!1}return this.router.navigate(["/contratacion"]),!1}}return t.\u0275fac=function(e){return new(e||t)(i.bc(R.e),i.bc(P.d))},t.\u0275prov=i.Ob({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const _n=[{path:"",component:Yo,data:{titulo:"Contrataci\xf3n Precontractual"}},{path:"panel-solicitudes",component:No,data:{titulo:"Contrataci\xf3n Precontractual - Panel Solicitud"},canActivate:[vn]},{path:"nueva-solicitud",component:ao,data:{titulo:"Contrataci\xf3n Precontractual - Crear"},canActivate:[vn]},{path:"editar-solicitud/:id",component:qe,data:{titulo:"Contrataci\xf3n Precontractual - Editar"},canActivate:[vn]},{path:"panel-juridica",component:xo,data:{titulo:"Contrataci\xf3n Precontractual - Panel Jur\xeddica"},canActivate:[hn]},{path:"aprobacion-juridica/:id",component:Vt,data:{titulo:"Contrataci\xf3n Precontractual - Aprobaci\xf3n Jur\xeddica"},canActivate:[hn]},{path:"vacunacion",component:Qo,data:{titulo:"Vacunaci\xf3n Ministerio"},canActivate:[hn]},{path:"panel-financiera",component:Fo,data:{titulo:"Contrataci\xf3n Precontractual - Panel Presupuesto"},canActivate:[gn]},{path:"aprobacion-financiera/:id",component:Kt,data:{titulo:"Contrataci\xf3n Precontractual - Aprobaci\xf3n Presupuesto"},canActivate:[gn]},{path:"documentacion-postcontractual/:id",component:mn,data:{titulo:"Contrataci\xf3n Precontractual - Documentaci\xf3n Postcontractual"},canActivate:[gn]}];let Wn=(()=>{class t{}return t.\u0275mod=i.Qb({type:t}),t.\u0275inj=i.Pb({factory:function(e){return new(e||t)},imports:[[P.g.forChild(_n)],P.g]}),t})();var Xn=o("iTUp"),xn=o("PCNd");o.d(e,"PrecontractualModule",(function(){return kn}));let kn=(()=>{class t{}return t.\u0275mod=i.Qb({type:t}),t.\u0275inj=i.Pb({factory:function(e){return new(e||t)},imports:[[n.b,H,Wn,c.c,Xn.a,xn.a]]}),t})()}}]);