function _regeneratorRuntime(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",a=o.toStringTag||"@@toStringTag";function r(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{r({},"")}catch(I){r=function(t,e,n){return t[e]=n}}function s(t,e,n,o){var i=e&&e.prototype instanceof d?e:d,c=Object.create(i.prototype),a=new k(o||[]);return c._invoke=function(t,e,n){var o="suspendedStart";return function(i,c){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw c;return C()}for(n.method=i,n.arg=c;;){var a=n.delegate;if(a){var r=W(a,n);if(r){if(r===u)continue;return r}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var s=l(t,e,n);if("normal"===s.type){if(o=n.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o="completed",n.method="throw",n.arg=s.arg)}}}(t,n,a),c}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(I){return{type:"throw",arg:I}}}t.wrap=s;var u={};function d(){}function b(){}function f(){}var p={};r(p,i,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(x([])));g&&g!==e&&n.call(g,i)&&(p=g);var v=f.prototype=d.prototype=Object.create(p);function h(t){["next","throw","return"].forEach((function(e){r(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){var o;this._invoke=function(i,c){function a(){return new e((function(o,a){!function o(i,c,a,r){var s=l(t[i],t,c);if("throw"!==s.type){var u=s.arg,d=u.value;return d&&"object"==typeof d&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){o("next",t,a,r)}),(function(t){o("throw",t,a,r)})):e.resolve(d).then((function(t){u.value=t,a(u)}),(function(t){return o("throw",t,a,r)}))}r(s.arg)}(i,c,o,a)}))}return o=o?o.then(a,a):a()}}function W(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,W(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,u;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function X(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function y(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(X,this),this.reset(!0)}function x(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,c=function e(){for(;++o<t.length;)if(n.call(t,o))return e.value=t[o],e.done=!1,e;return e.value=void 0,e.done=!0,e};return c.next=c}}return{next:C}}function C(){return{value:void 0,done:!0}}return b.prototype=f,r(v,"constructor",f),r(f,"constructor",b),b.displayName=r(f,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,r(t,a,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},h(_.prototype),r(_.prototype,c,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,o,i,c){void 0===c&&(c=Promise);var a=new _(s(e,n,o,i),c);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},h(v),r(v,a,"Generator"),r(v,i,(function(){return this})),r(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var o=e.pop();if(o in t)return n.value=o,n.done=!1,n}return n.done=!0,n}},t.values=x,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(y),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function o(n,o){return a.type="throw",a.arg=t,e.next=n,o&&(e.method="next",e.arg=void 0),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var c=this.tryEntries[i],a=c.completion;if("root"===c.tryLoc)return o("end");if(c.tryLoc<=this.prev){var r=n.call(c,"catchLoc"),s=n.call(c,"finallyLoc");if(r&&s){if(this.prev<c.catchLoc)return o(c.catchLoc,!0);if(this.prev<c.finallyLoc)return o(c.finallyLoc)}else if(r){if(this.prev<c.catchLoc)return o(c.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return o(c.finallyLoc)}}}},abrupt:function(t,e){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var c=i;break}}c&&("break"===t||"continue"===t)&&c.tryLoc<=e&&e<=c.finallyLoc&&(c=null);var a=c?c.completion:{};return a.type=t,a.arg=e,c?(this.method="next",this.next=c.finallyLoc,u):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),y(n),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var o=n.completion;if("throw"===o.type){var i=o.arg;y(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:x(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},t}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"2sxy":function(t,e,n){"use strict";n.r(e);var o=n("ofXK"),i=n("s7LF"),c=n("fXoL");function a(t,e){if(1&t){var n=c.Yb();c.Xb(0,"a",11),c.fc("keyup.enter",(function(){return c.sc(n),c.hc(3),c.rc(1).previous()}))("click",(function(){return c.sc(n),c.hc(3),c.rc(1).previous()})),c.xc(1),c.Xb(2,"span",12),c.xc(3),c.Wb(),c.Wb()}if(2&t){var o=c.hc(3);c.Ib("aria-label",o.previousLabel+" "+o.screenReaderPageLabel),c.Hb(1),c.zc(" ",o.previousLabel," "),c.Hb(2),c.yc(o.screenReaderPageLabel)}}function r(t,e){if(1&t&&(c.Xb(0,"span"),c.xc(1),c.Xb(2,"span",12),c.xc(3),c.Wb(),c.Wb()),2&t){var n=c.hc(3);c.Hb(1),c.zc(" ",n.previousLabel," "),c.Hb(2),c.yc(n.screenReaderPageLabel)}}function s(t,e){if(1&t&&(c.Xb(0,"li",8),c.vc(1,a,4,3,"a",9),c.vc(2,r,4,2,"span",10),c.Wb()),2&t){c.hc(2);var n=c.rc(1);c.Kb("disabled",n.isFirstPage()),c.Hb(1),c.kc("ngIf",1<n.getCurrent()),c.Hb(1),c.kc("ngIf",n.isFirstPage())}}function l(t,e){if(1&t){var n=c.Yb();c.Xb(0,"a",11),c.fc("keyup.enter",(function(){c.sc(n);var t=c.hc().$implicit;return c.hc(2),c.rc(1).setCurrent(t.value)}))("click",(function(){c.sc(n);var t=c.hc().$implicit;return c.hc(2),c.rc(1).setCurrent(t.value)})),c.Xb(1,"span",12),c.xc(2),c.Wb(),c.Xb(3,"span"),c.xc(4),c.ic(5,"number"),c.Wb(),c.Wb()}if(2&t){var o=c.hc().$implicit,i=c.hc(2);c.Hb(2),c.zc("",i.screenReaderPageLabel," "),c.Hb(2),c.yc("..."===o.label?o.label:c.jc(5,2,o.label,""))}}function u(t,e){if(1&t&&(c.Vb(0),c.Xb(1,"span",12),c.xc(2),c.Wb(),c.Xb(3,"span"),c.xc(4),c.ic(5,"number"),c.Wb(),c.Ub()),2&t){var n=c.hc().$implicit,o=c.hc(2);c.Hb(2),c.zc("",o.screenReaderCurrentLabel," "),c.Hb(2),c.yc("..."===n.label?n.label:c.jc(5,2,n.label,""))}}function d(t,e){if(1&t&&(c.Xb(0,"li"),c.vc(1,l,6,5,"a",9),c.vc(2,u,6,5,"ng-container",10),c.Wb()),2&t){var n=e.$implicit;c.hc(2);var o=c.rc(1);c.Kb("current",o.getCurrent()===n.value)("ellipsis","..."===n.label),c.Hb(1),c.kc("ngIf",o.getCurrent()!==n.value),c.Hb(1),c.kc("ngIf",o.getCurrent()===n.value)}}function b(t,e){if(1&t){var n=c.Yb();c.Xb(0,"a",11),c.fc("keyup.enter",(function(){return c.sc(n),c.hc(3),c.rc(1).next()}))("click",(function(){return c.sc(n),c.hc(3),c.rc(1).next()})),c.xc(1),c.Xb(2,"span",12),c.xc(3),c.Wb(),c.Wb()}if(2&t){var o=c.hc(3);c.Ib("aria-label",o.nextLabel+" "+o.screenReaderPageLabel),c.Hb(1),c.zc(" ",o.nextLabel," "),c.Hb(2),c.yc(o.screenReaderPageLabel)}}function f(t,e){if(1&t&&(c.Xb(0,"span"),c.xc(1),c.Xb(2,"span",12),c.xc(3),c.Wb(),c.Wb()),2&t){var n=c.hc(3);c.Hb(1),c.zc(" ",n.nextLabel," "),c.Hb(2),c.yc(n.screenReaderPageLabel)}}function p(t,e){if(1&t&&(c.Xb(0,"li",13),c.vc(1,b,4,3,"a",9),c.vc(2,f,4,2,"span",10),c.Wb()),2&t){c.hc(2);var n=c.rc(1);c.Kb("disabled",n.isLastPage()),c.Hb(1),c.kc("ngIf",!n.isLastPage()),c.Hb(1),c.kc("ngIf",n.isLastPage())}}function m(t,e){if(1&t&&(c.Xb(0,"ul",3),c.vc(1,s,3,4,"li",4),c.Xb(2,"li",5),c.xc(3),c.Wb(),c.vc(4,d,3,6,"li",6),c.vc(5,p,3,4,"li",7),c.Wb()),2&t){var n=c.hc(),o=c.rc(1);c.Kb("responsive",n.responsive),c.Ib("aria-label",n.screenReaderPaginationLabel),c.Hb(1),c.kc("ngIf",n.directionLinks),c.Hb(2),c.Ac(" ",o.getCurrent()," / ",o.getLastPage()," "),c.Hb(1),c.kc("ngForOf",o.pages)("ngForTrackBy",n.trackByIndex),c.Hb(1),c.kc("ngIf",n.directionLinks)}}var g=function(){function t(){this.change=new c.q,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}return t.prototype.defaultId=function(){return this.DEFAULT_ID},t.prototype.register=function(t){return null==t.id&&(t.id=this.DEFAULT_ID),this.instances[t.id]?this.updateInstance(t):(this.instances[t.id]=t,!0)},t.prototype.updateInstance=function(t){var e=!1;for(var n in this.instances[t.id])t[n]!==this.instances[t.id][n]&&(this.instances[t.id][n]=t[n],e=!0);return e},t.prototype.getCurrentPage=function(t){if(this.instances[t])return this.instances[t].currentPage},t.prototype.setCurrentPage=function(t,e){if(this.instances[t]){var n=this.instances[t];e<=Math.ceil(n.totalItems/n.itemsPerPage)&&1<=e&&(this.instances[t].currentPage=e,this.change.emit(t))}},t.prototype.setTotalItems=function(t,e){this.instances[t]&&0<=e&&(this.instances[t].totalItems=e,this.change.emit(t))},t.prototype.setItemsPerPage=function(t,e){this.instances[t]&&(this.instances[t].itemsPerPage=e,this.change.emit(t))},t.prototype.getInstance=function(t){return void 0===t&&(t=this.DEFAULT_ID),this.instances[t]?this.clone(this.instances[t]):{}},t.prototype.clone=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=c.Ob({token:t,factory:function(e){return t.\u0275fac(e)}}),t}(),v=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},h=Number.MAX_SAFE_INTEGER,_=function(){function t(t){this.service=t,this.state={}}return t.prototype.transform=function(t,e){if(!(t instanceof Array)){var n=e.id||this.service.defaultId();return this.state[n]?this.state[n].slice:t}var o,i,c=e.totalItems&&e.totalItems!==t.length,a=this.createInstance(t,e),r=a.id,s=a.itemsPerPage,l=this.service.register(a);if(!c&&t instanceof Array){if(this.stateIsIdentical(r,t,o=(a.currentPage-1)*(s=+s||h),i=o+s))return this.state[r].slice;var u=t.slice(o,i);return this.saveState(r,t,u,o,i),this.service.change.emit(r),u}return l&&this.service.change.emit(r),this.saveState(r,t,t,o,i),t},t.prototype.createInstance=function(t,e){return this.checkConfig(e),{id:null!=e.id?e.id:this.service.defaultId(),itemsPerPage:+e.itemsPerPage||0,currentPage:+e.currentPage||1,totalItems:+e.totalItems||t.length}},t.prototype.checkConfig=function(t){var e=["itemsPerPage","currentPage"].filter((function(e){return!(e in t)}));if(0<e.length)throw new Error("PaginatePipe: Argument is missing the following required properties: "+e.join(", "))},t.prototype.saveState=function(t,e,n,o,i){this.state[t]={collection:e,size:e.length,slice:n,start:o,end:i}},t.prototype.stateIsIdentical=function(t,e,n,o){var i=this.state[t];return!!i&&!(i.size!==e.length||i.start!==n||i.end!==o)&&i.slice.every((function(t,o){return t===e[n+o]}))},(t=function(t,e,n,o){var i,c=arguments.length,a=c<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(c<3?i(a):c>3?i(e,n,a):i(e,n))||a);return c>3&&a&&Object.defineProperty(e,n,a),a}([v("design:paramtypes",[g])],t)).\u0275fac=function(e){return new(e||t)(c.Sb(g))},t.\u0275pipe=c.Rb({name:"paginate",type:t,pure:!1}),t}(),W=function(t,e,n,o){var i,c=arguments.length,a=c<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(c<3?i(a):c>3?i(e,n,a):i(e,n))||a);return c>3&&a&&Object.defineProperty(e,n,a),a},X=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};function y(t){return!!t&&"false"!==t}var k,x,C,I,H,P,w=function(){function t(){this.maxSize=7,this.previousLabel="Previous",this.nextLabel="Next",this.screenReaderPaginationLabel="Pagination",this.screenReaderPageLabel="page",this.screenReaderCurrentLabel="You're on page",this.pageChange=new c.q,this.pageBoundsCorrection=new c.q,this._directionLinks=!0,this._autoHide=!1,this._responsive=!1}return Object.defineProperty(t.prototype,"directionLinks",{get:function(){return this._directionLinks},set:function(t){this._directionLinks=y(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoHide",{get:function(){return this._autoHide},set:function(t){this._autoHide=y(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"responsive",{get:function(){return this._responsive},set:function(t){this._responsive=y(t)},enumerable:!0,configurable:!0}),t.prototype.trackByIndex=function(t){return t},W([Object(c.v)(),X("design:type",String)],t.prototype,"id",void 0),W([Object(c.v)(),X("design:type",Number)],t.prototype,"maxSize",void 0),W([Object(c.v)(),X("design:type",Boolean),X("design:paramtypes",[Boolean])],t.prototype,"directionLinks",null),W([Object(c.v)(),X("design:type",Boolean),X("design:paramtypes",[Boolean])],t.prototype,"autoHide",null),W([Object(c.v)(),X("design:type",Boolean),X("design:paramtypes",[Boolean])],t.prototype,"responsive",null),W([Object(c.v)(),X("design:type",String)],t.prototype,"previousLabel",void 0),W([Object(c.v)(),X("design:type",String)],t.prototype,"nextLabel",void 0),W([Object(c.v)(),X("design:type",String)],t.prototype,"screenReaderPaginationLabel",void 0),W([Object(c.v)(),X("design:type",String)],t.prototype,"screenReaderPageLabel",void 0),W([Object(c.v)(),X("design:type",String)],t.prototype,"screenReaderCurrentLabel",void 0),W([Object(c.G)(),X("design:type",c.q)],t.prototype,"pageChange",void 0),W([Object(c.G)(),X("design:type",c.q)],t.prototype,"pageBoundsCorrection",void 0),t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Mb({type:t,selectors:[["pagination-controls"]],inputs:{maxSize:"maxSize",previousLabel:"previousLabel",nextLabel:"nextLabel",screenReaderPaginationLabel:"screenReaderPaginationLabel",screenReaderPageLabel:"screenReaderPageLabel",screenReaderCurrentLabel:"screenReaderCurrentLabel",directionLinks:"directionLinks",autoHide:"autoHide",responsive:"responsive",id:"id"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},decls:3,vars:3,consts:[[3,"id","maxSize","pageChange","pageBoundsCorrection"],["p","paginationApi"],["class","ngx-pagination",3,"responsive",4,"ngIf"],[1,"ngx-pagination"],["class","pagination-previous",3,"disabled",4,"ngIf"],[1,"small-screen"],[3,"current","ellipsis",4,"ngFor","ngForOf","ngForTrackBy"],["class","pagination-next",3,"disabled",4,"ngIf"],[1,"pagination-previous"],["tabindex","0",3,"keyup.enter","click",4,"ngIf"],[4,"ngIf"],["tabindex","0",3,"keyup.enter","click"],[1,"show-for-sr"],[1,"pagination-next"]],template:function(t,e){if(1&t&&(c.Xb(0,"pagination-template",0,1),c.fc("pageChange",(function(t){return e.pageChange.emit(t)}))("pageBoundsCorrection",(function(t){return e.pageBoundsCorrection.emit(t)})),c.vc(2,m,6,9,"ul",2),c.Wb()),2&t){var n=c.rc(1);c.kc("id",e.id)("maxSize",e.maxSize),c.Hb(2),c.kc("ngIf",!(e.autoHide&&n.pages.length<=1))}},directives:function(){return[j,o.l,o.k]},pipes:function(){return[o.e]},styles:["\n.ngx-pagination {\n  margin-left: 0;\n  margin-bottom: 1rem; }\n  .ngx-pagination::before, .ngx-pagination::after {\n    content: ' ';\n    display: table; }\n  .ngx-pagination::after {\n    clear: both; }\n  .ngx-pagination li {\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    -ms-user-select: none;\n    margin-right: 0.0625rem;\n    border-radius: 0; }\n  .ngx-pagination li {\n    display: inline-block; }\n  .ngx-pagination a,\n  .ngx-pagination button {\n    color: #0a0a0a; \n    display: block;\n    padding: 0.1875rem 0.625rem;\n    border-radius: 0; }\n    .ngx-pagination a:hover,\n    .ngx-pagination button:hover {\n      background: #e6e6e6; }\n  .ngx-pagination .current {\n    padding: 0.1875rem 0.625rem;\n    background: #2199e8;\n    color: #fefefe;\n    cursor: default; }\n  .ngx-pagination .disabled {\n    padding: 0.1875rem 0.625rem;\n    color: #cacaca;\n    cursor: default; } \n    .ngx-pagination .disabled:hover {\n      background: transparent; }\n  .ngx-pagination a, .ngx-pagination button {\n    cursor: pointer; }\n\n.ngx-pagination .pagination-previous a::before,\n.ngx-pagination .pagination-previous.disabled::before { \n  content: '\xab';\n  display: inline-block;\n  margin-right: 0.5rem; }\n\n.ngx-pagination .pagination-next a::after,\n.ngx-pagination .pagination-next.disabled::after {\n  content: '\xbb';\n  display: inline-block;\n  margin-left: 0.5rem; }\n\n.ngx-pagination .show-for-sr {\n  position: absolute !important;\n  width: 1px;\n  height: 1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0); }\n.ngx-pagination .small-screen {\n  display: none; }\n@media screen and (max-width: 601px) {\n  .ngx-pagination.responsive .small-screen {\n    display: inline-block; } \n  .ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next) {\n    display: none; }\n}\n  "],encapsulation:2,changeDetection:0}),t}(),D=function(t,e,n,o){var i,c=arguments.length,a=c<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(c<3?i(a):c>3?i(e,n,a):i(e,n))||a);return c>3&&a&&Object.defineProperty(e,n,a),a},S=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},j=function(){function t(t,e){var n=this;this.service=t,this.changeDetectorRef=e,this.maxSize=7,this.pageChange=new c.q,this.pageBoundsCorrection=new c.q,this.pages=[],this.changeSub=this.service.change.subscribe((function(t){n.id===t&&(n.updatePageLinks(),n.changeDetectorRef.markForCheck(),n.changeDetectorRef.detectChanges())}))}return t.prototype.ngOnInit=function(){void 0===this.id&&(this.id=this.service.defaultId()),this.updatePageLinks()},t.prototype.ngOnChanges=function(t){this.updatePageLinks()},t.prototype.ngOnDestroy=function(){this.changeSub.unsubscribe()},t.prototype.previous=function(){this.checkValidId(),this.setCurrent(this.getCurrent()-1)},t.prototype.next=function(){this.checkValidId(),this.setCurrent(this.getCurrent()+1)},t.prototype.isFirstPage=function(){return 1===this.getCurrent()},t.prototype.isLastPage=function(){return this.getLastPage()===this.getCurrent()},t.prototype.setCurrent=function(t){this.pageChange.emit(t)},t.prototype.getCurrent=function(){return this.service.getCurrentPage(this.id)},t.prototype.getLastPage=function(){var t=this.service.getInstance(this.id);return t.totalItems<1?1:Math.ceil(t.totalItems/t.itemsPerPage)},t.prototype.getTotalItems=function(){return this.service.getInstance(this.id).totalItems},t.prototype.checkValidId=function(){null==this.service.getInstance(this.id).id&&console.warn('PaginationControlsDirective: the specified id "'+this.id+'" does not match any registered PaginationInstance')},t.prototype.updatePageLinks=function(){var t=this,e=this.service.getInstance(this.id),n=this.outOfBoundCorrection(e);n!==e.currentPage?setTimeout((function(){t.pageBoundsCorrection.emit(n),t.pages=t.createPageArray(e.currentPage,e.itemsPerPage,e.totalItems,t.maxSize)})):this.pages=this.createPageArray(e.currentPage,e.itemsPerPage,e.totalItems,this.maxSize)},t.prototype.outOfBoundCorrection=function(t){var e=Math.ceil(t.totalItems/t.itemsPerPage);return e<t.currentPage&&0<e?e:t.currentPage<1?1:t.currentPage},t.prototype.createPageArray=function(t,e,n,o){o=+o;for(var i=[],c=Math.max(Math.ceil(n/e),1),a=Math.ceil(o/2),r=t<=a,s=c-a<t,l=!r&&!s,u=o<c,d=1;d<=c&&d<=o;){var b=this.calculatePageNumber(d,t,o,c);i.push({label:u&&(2===d&&(l||s)||d===o-1&&(l||r))?"...":b,value:b}),d++}return i},t.prototype.calculatePageNumber=function(t,e,n,o){var i=Math.ceil(n/2);return t===n?o:1===t?t:n<o?o-i<e?o-n+t:i<e?e-i+t:t:t},D([Object(c.v)(),S("design:type",String)],t.prototype,"id",void 0),D([Object(c.v)(),S("design:type",Number)],t.prototype,"maxSize",void 0),D([Object(c.G)(),S("design:type",c.q)],t.prototype,"pageChange",void 0),D([Object(c.G)(),S("design:type",c.q)],t.prototype,"pageBoundsCorrection",void 0),(t=D([S("design:paramtypes",[g,c.i])],t)).\u0275fac=function(e){return new(e||t)(c.Sb(g),c.Sb(c.i))},t.\u0275dir=c.Nb({type:t,selectors:[["pagination-template"],["","pagination-template",""]],inputs:{maxSize:"maxSize",id:"id"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},exportAs:["paginationApi"],features:[c.Fb]}),t}(),F=function(){function t(){}return t.\u0275mod=c.Qb({type:t}),t.\u0275inj=c.Pb({factory:function(e){return new(e||t)},providers:[g],imports:[[o.b]]}),t}(),M=n("iInd"),A=n("mrSG"),L=n("PSD3"),O=n.n(L),E=_createClass((function t(e,n,o,i,c,a,r,s,l,u,d){_classCallCheck(this,t),this.id=e,this.precontractual_id=n,this.id_documento=o,this.documento=i,this.etapa_contractual=c,this.fecha_vigencia=a,this.observacion=r,this.estado=s,this.created_by=l,this.createdAt=u,this.updatedAt=d})),R=_createClass((function t(e,n,o,i,c,a,r){_classCallCheck(this,t),this.id=e,this.precontractual_id=n,this.observaciones=o,this.estado=i,this.created_by=c,this.createdAt=a,this.updateddAt=r})),T=_createClass((function t(e,n,o,i,c,a,r,s,l,u,d,b){_classCallCheck(this,t),this.id=e,this.precontractual_id=n,this.descripcion=o,this.documento=i,this.motivo=c,this.tipo_certificado=a,this.estado=r,this.solicitud_precontractual=s,this.documentos=l,this.created_by=u,this.createdAt=d,this.updatedAt=b})),q=_createClass((function t(e,n,o,i,c,a,r,s,l,u,d,b,f,p,m,g,v,h,_,W){_classCallCheck(this,t),this.id=e,this.primer_nombre=n,this.segundo_nombre=o,this.primer_apellido=i,this.segundo_apellido=c,this.correo_electronico=a,this.cargo=r,this.area_solicitante=s,this.descripcion_solicitud=l,this.tipo_contrato=u,this.documento_adjunto=d,this.estado=b,this.fecha_respuesta=f,this.observaciones_juridica=p,this.fecha_comite_contratacion=m,this.documentos=g,this.presupuesto=v,this.created_by=h,this.createdAt=_,this.updatedAt=W})),z=n("K+9L"),N=n("IheW"),U=((P=function(){function t(e){_classCallCheck(this,t),this.http=e,this.url=z.f.url}return _createClass(t,[{key:"actualizarDocumentoAdjunto",value:function(t){return this.http.put(this.url+"contratacion/documentacion/adicional/"+t.id,t)}},{key:"actualizarEstadoDocumentoAdjunto",value:function(t){return this.http.put("".concat(this.url,"contratacion/documentacion/adicional/actualizarEstadoDocumentoAdjunto/").concat(t.id),t)}},{key:"crearDocumentoAdjunto",value:function(t){return this.http.post(this.url+"contratacion/documentacion",t)}}]),t}()).\u0275fac=function(t){return new(t||P)(c.bc(N.b))},P.\u0275prov=c.Ob({token:P,factory:P.\u0275fac,providedIn:"root"}),P),$=((H=function(){function t(e){_classCallCheck(this,t),this.http=e,this.url=z.f.url,this.headers={}}return _createClass(t,[{key:"actualizarEstadoSolicitudPrecontractual",value:function(t,e){return this.http.get("".concat(this.url,"contratacion/precontractual/adicionales/actualizarEstadoSolicitudPrecontractual/").concat(t,"/").concat(e))}},{key:"actualizarSolicitudPrecontractual",value:function(t){return this.http.put(this.url+"contratacion/precontractual/"+t.id,t,this.headers)}},{key:"crearSolicitudPrecontractual",value:function(t){return this.http.post(this.url+"contratacion/precontractual",t,this.headers)}},{key:"eliminarSolicitudPrecontractual",value:function(t){return this.http.delete(this.url+"contratacion/precontractual/"+t,this.headers)}},{key:"obtenerSolicitud",value:function(t){return this.http.get(this.url+"contratacion/precontractual/"+t,this.headers)}},{key:"obtenerSolicitudesActivas",value:function(){return this.http.get(this.url+"contratacion/precontractual/adicionales/obtenerSolicitudesActivas",this.headers)}},{key:"obtenerSolicitudesJuridica",value:function(){return this.http.get(this.url+"contratacion/precontractual/adicionales/obtenerSolicitudesJuridica",this.headers)}},{key:"obtenerSolicitudesPrecontractuales",value:function(){return this.http.get(this.url+"contratacion/precontractual",this.headers)}},{key:"obtenerSolicitudesPrecontractualesPorUsuario",value:function(){return this.http.get(this.url+"contratacion/precontractual/adicionales/obtenerSolicitudesPrecontractualesPorUsuario",this.headers)}}]),t}()).\u0275fac=function(t){return new(t||H)(c.bc(N.b))},H.\u0275prov=c.Ob({token:H,factory:H.\u0275fac,providedIn:"root"}),H),B=((I=function(){function t(e,n,o){_classCallCheck(this,t),this._documentacion_service=e,this._file_upload_service=n,this._precontractual_service=o}return _createClass(t,[{key:"cargarDocumentoRequerido",value:function(t,e,n,o,i){var c=this,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return new Promise((function(r){var s=!0,l=new E(null,+e,null,null,o,null,null,null,null,null,null);if(i&&i.length>0){var u=i.find((function(t){return t.id_documento==n}));u&&t&&(s=!1,3==u.estado&&(O.a.fire({position:"center",icon:"warning",title:"El documento ya ha sido aprobado y no puede ser modificado",showConfirmButton:!0}),r(!1)),c._file_upload_service.cargarArchivo(t,"contratacion").then((function(t){"success"==t.status&&(l.id=u.id,l.documento=t.nombre_archivo,l.id_documento=n,c._documentacion_service.actualizarDocumentoAdjunto(l).subscribe((function(t){a&&O.a.fire({position:"center",icon:"success",title:t.message,showConfirmButton:!0}),r(!0)}),(function(t){r(!1)})))})).catch((function(t){console.log(t),r(!1)})))}s&&c._file_upload_service.cargarArchivo(t,"contratacion").then((function(t){"success"==t.status&&(l.documento=t.nombre_archivo,l.id_documento=n,c._documentacion_service.crearDocumentoAdjunto(l).subscribe((function(t){a&&O.a.fire({position:"center",icon:"success",title:t.message,showConfirmButton:!0}),r(!0)}),(function(t){r(!1)})))})).catch((function(t){console.log(t),r(!1)}))}))}},{key:"descargarDocumento",value:function(t){this._file_upload_service.descargarDocumento(t,"contratacion").subscribe((function(e){window.open("".concat(z.f.url,"upload/contratacion/").concat(t))}))}},{key:"obtenerSolicitud",value:function(t){var e=this;return new Promise((function(n,o){e._precontractual_service.obtenerSolicitud(t).subscribe((function(t){n(t.precontractual)}),(function(t){o(t)}))}))}},{key:"validarDocumento",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t.documentos&&t.documentos.length>0){var o=null;if(t.documentos.forEach((function(t){t.id_documento==e&&(o=t.documento)})),o)return!!n||o}return!n&&""}},{key:"validarEstadoDocumento",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=!0,i=null;return t&&t.length>0&&t.forEach((function(t){t.id_documento==e&&(i=t.estado,3==t.estado&&(o=!1))})),n?i:o}},{key:"validarVencimientoFechasDocumentos",value:function(t,e){var n=new Date,o=new Date(t),i=864e5*e;return n.getTime()-o.getTime()<i}}]),t}()).\u0275fac=function(t){return new(t||I)(c.bc(U),c.bc(z.b),c.bc($))},I.\u0275prov=c.Ob({token:I,factory:I.\u0275fac,providedIn:"root"}),I),V=((C=function(){function t(e){_classCallCheck(this,t),this.http=e,this.url=z.f.url}return _createClass(t,[{key:"actualizarSolicitudPresupuestal",value:function(t){return this.http.put("".concat(this.url,"contratacion/presupuesto/").concat(t.id),t)}},{key:"crearCDPCRPPresupuesto",value:function(t){return this.http.post("".concat(this.url,"contratacion/presupuesto"),t)}},{key:"obtenerSolicitudes",value:function(){return this.http.get("".concat(this.url,"contratacion/presupuesto/adicionales/obtenerSolicitudes"))}},{key:"obtenerSolicitudesActivas",value:function(){return this.http.get("".concat(this.url,"contratacion/presupuesto/adicionales/obtenerSolicitudesActivas"))}},{key:"obtenerSolicitudPresupuesto",value:function(t){return this.http.get("".concat(this.url,"contratacion/presupuesto/").concat(t))}}]),t}()).\u0275fac=function(t){return new(t||C)(c.bc(N.b))},C.\u0275prov=c.Ob({token:C,factory:C.\u0275fac,providedIn:"root"}),C),Y=((x=function(){function t(e){_classCallCheck(this,t),this.http=e,this.url=z.f.url,this.url_login="https://paiwebapi.paiweb.gov.co/api/login",this.url_service="https://paiwebws.paiweb.gov.co:8082",this.headers={}}return _createClass(t,[{key:"iniciarSesionWebService",value:function(){return this.http.post(this.url_login,{tipoIdentificacion:"CC",Identificacion:"1193533679",Password:"Laura291218."})}},{key:"guardarDatosWebService",value:function(t,e){var n=(new N.d).set("Authorization","Bearer ".concat(e));return t.NroDocumento=t.NroDocumento.toString(),this.http.post("/api/interop/RegSolicitudCambioEstrategia",t,{headers:n})}},{key:"guardarLogWebService",value:function(t){return this.http.post("".concat(this.url,"usuarios/vacunacion/webservice"),t)}}]),t}()).\u0275fac=function(t){return new(t||x)(c.bc(N.b))},x.\u0275prov=c.Ob({token:x,factory:x.\u0275fac,providedIn:"root"}),x),J=((k=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"transform",value:function(t,e){var n="-";return t?(z.f[e].forEach((function(e){e.id==t&&(e.name||e.value)&&(e.name&&(n=e.name),e.value&&(n=e.value))})),n):n}}]),t}()).\u0275fac=function(t){return new(t||k)},k.\u0275pipe=c.Rb({name:"global",type:k,pure:!0}),k);function G(t,e){1&t&&(c.Xb(0,"div",5),c.Xb(1,"div",6),c.Xb(2,"span",7),c.xc(3,"Loading..."),c.Wb(),c.Wb(),c.Wb())}function Z(t,e){if(1&t&&(c.Xb(0,"div",14),c.Xb(1,"div",15),c.xc(2),c.Wb(),c.Wb()),2&t){var n=c.hc(2);c.Hb(2),c.zc(" ",n.mensaje_inicial," ")}}function K(t,e){if(1&t){var n=c.Yb();c.Xb(0,"button",69),c.fc("click",(function(){c.sc(n);var t=c.hc(3);return t._precontractual_functions_services.descargarDocumento(t.solicitud.documento_adjunto)})),c.xc(1),c.Wb()}if(2&t){var o=c.hc(3);c.Hb(1),c.yc(o.solicitud.documento_adjunto)}}function Q(t,e){if(1&t){var n=c.Yb();c.Xb(0,"tr"),c.Xb(1,"td"),c.xc(2,"CDP"),c.Xb(3,"span",55),c.xc(4,"*"),c.Wb(),c.Wb(),c.Xb(5,"td"),c.xc(6),c.ic(7,"date"),c.Wb(),c.Xb(8,"td"),c.xc(9,"-"),c.Wb(),c.Xb(10,"td"),c.xc(11),c.ic(12,"global"),c.Wb(),c.Xb(13,"td"),c.Xb(14,"button",71),c.fc("click",(function(){c.sc(n);var t=c.hc().$implicit;return c.hc(4)._precontractual_functions_services.descargarDocumento(t.documento)})),c.Tb(15,"i",72),c.Wb(),c.Wb(),c.Wb()}if(2&t){var o=c.hc().$implicit;c.Hb(6),c.yc(c.jc(7,2,o.createdAt,"dd/MM/yyyy")),c.Hb(5),c.yc(c.jc(12,5,o.estado,"estados_presupuesto"))}}function tt(t,e){if(1&t&&(c.Vb(0),c.vc(1,Q,16,8,"tr",13),c.Ub()),2&t){var n=e.$implicit;c.Hb(1),c.kc("ngIf",1==n.tipo_certificado&&2==n.estado)}}function et(t,e){1&t&&(c.Xb(0,"span",55),c.xc(1,"*"),c.Wb())}function nt(t,e){if(1&t&&(c.Vb(0),c.xc(1),c.ic(2,"date"),c.Ub()),2&t){var n=c.hc(2).$implicit;c.Hb(1),c.zc(" ",c.jc(2,1,n.fecha_vigencia,"dd/MM/yyyy")," ")}}function ot(t,e){1&t&&c.xc(0,"-")}function it(t,e){if(1&t){var n=c.Yb();c.Xb(0,"span",78),c.Xb(1,"button",79),c.fc("click",(function(){c.sc(n);var t=c.hc(2).$implicit;return c.hc(6).documento_seleccionado=t})),c.Tb(2,"i",80),c.Wb(),c.Wb()}2&t&&(c.Hb(1),c.Ib("data-target","#editarEstadoDocumento"))}var ct=function(t){return{bad:t}};function at(t,e){if(1&t){var n=c.Yb();c.Vb(0),c.Xb(1,"td"),c.xc(2),c.ic(3,"date"),c.Wb(),c.Xb(4,"td",74),c.vc(5,nt,3,4,"ng-container",75),c.vc(6,ot,1,0,"ng-template",null,76,c.wc),c.Wb(),c.Xb(8,"td"),c.xc(9),c.ic(10,"global"),c.Wb(),c.Xb(11,"td"),c.Xb(12,"span"),c.Xb(13,"button",71),c.fc("click",(function(){c.sc(n);var t=c.hc().$implicit;return c.hc(6)._precontractual_functions_services.descargarDocumento(t.documento)})),c.Tb(14,"i",72),c.Wb(),c.Wb(),c.vc(15,it,3,1,"span",77),c.Wb(),c.Ub()}if(2&t){var o=c.rc(7),i=c.hc().$implicit,a=c.hc(6);c.Hb(2),c.yc(c.jc(3,6,i.createdAt,"dd/MM/yyyy")),c.Hb(2),c.kc("ngClass",c.nc(12,ct,a._precontractual_functions_services.validarVencimientoFechasDocumentos(i.fecha_vigencia,15))),c.Hb(1),c.kc("ngIf",i.fecha_vigencia)("ngIfElse",o),c.Hb(4),c.yc(c.jc(10,9,i.estado,"estados_documentacion")),c.Hb(6),c.kc("ngIf",!a.documento_preloader||!a.validarDocumentosAprovados()||!a.bandera_disabled)}}function rt(t,e){if(1&t&&(c.Vb(0),c.vc(1,at,16,14,"ng-container",13),c.Ub()),2&t){var n=e.$implicit,o=c.hc(2).$implicit;c.Hb(1),c.kc("ngIf",n.id_documento==o.id)}}function st(t,e){1&t&&(c.Vb(0),c.Tb(1,"i",38),c.Ub())}function lt(t,e){1&t&&c.xc(0," - ")}function ut(t,e){if(1&t&&(c.Vb(0),c.Xb(1,"td",81),c.vc(2,st,2,0,"ng-container",75),c.vc(3,lt,1,0,"ng-template",null,76,c.wc),c.Wb(),c.Ub()),2&t){var n=c.rc(4),o=c.hc(2).$implicit,i=c.hc(4);c.Hb(2),c.kc("ngIf",o.required&&(o.required==i.solicitud.tipo_contrato||!0===o.required))("ngIfElse",n)}}function dt(t,e){if(1&t&&(c.Xb(0,"tr"),c.Xb(1,"td"),c.xc(2),c.vc(3,et,2,0,"span",73),c.Wb(),c.vc(4,rt,2,1,"ng-container",70),c.vc(5,ut,5,2,"ng-container",13),c.Wb()),2&t){var n=c.hc().$implicit,o=c.hc(4);c.Hb(2),c.yc(n.value),c.Hb(1),c.kc("ngIf",n.required&&(n.required==o.solicitud.tipo_contrato||!0===n.required)),c.Hb(1),c.kc("ngForOf",o.solicitud.documentos),c.Hb(1),c.kc("ngIf",!1===o._precontractual_functions_services.validarDocumento(o.solicitud,n.id,!0))}}function bt(t,e){if(1&t&&(c.Vb(0),c.vc(1,dt,6,4,"tr",13),c.Ub()),2&t){var n=e.$implicit,o=c.hc(4);c.Hb(1),c.kc("ngIf",(n.tipo_contrato==o.solicitud.tipo_contrato||!n.tipo_contrato)&&n.id<=28)}}function ft(t,e){if(1&t&&(c.Vb(0),c.Xb(1,"h3",17),c.xc(2,"Documentos"),c.Wb(),c.Xb(3,"div",39),c.Xb(4,"div",40),c.Xb(5,"table",41),c.Xb(6,"thead",42),c.Xb(7,"tr"),c.Xb(8,"th"),c.xc(9,"Documento Adjunto"),c.Wb(),c.Xb(10,"th"),c.xc(11,"Fecha de Cargue"),c.Wb(),c.Xb(12,"th"),c.xc(13,"Vigencia"),c.Wb(),c.Xb(14,"th"),c.xc(15,"Estado"),c.Wb(),c.Xb(16,"th"),c.xc(17,"Acciones"),c.Wb(),c.Wb(),c.Wb(),c.Xb(18,"tbody",43),c.vc(19,tt,2,1,"ng-container",70),c.vc(20,bt,2,1,"ng-container",70),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Ub()),2&t){var n=c.hc(3);c.Hb(19),c.kc("ngForOf",n.solicitud.presupuesto),c.Hb(1),c.kc("ngForOf",n.global.tipos_documentos)}}function pt(t,e){1&t&&(c.Xb(0,"span",55),c.xc(1,"*"),c.Wb())}function mt(t,e){if(1&t){var n=c.Yb();c.Vb(0),c.Xb(1,"button",83),c.fc("click",(function(){c.sc(n);var t=c.hc(2).$implicit,e=c.hc(3);return e._precontractual_functions_services.descargarDocumento(e._precontractual_functions_services.validarDocumento(e.solicitud,t.id))})),c.Tb(2,"i",84),c.Wb(),c.Ub()}}function gt(t,e){1&t&&c.Tb(0,"i",38)}function vt(t,e){1&t&&c.xc(0,"-")}function ht(t,e){if(1&t&&(c.vc(0,gt,1,0,"i",85),c.vc(1,vt,1,0,"ng-template",null,86,c.wc)),2&t){var n=c.rc(2),o=c.hc(2).$implicit;c.kc("ngIf",o.required)("ngIfElse",n)}}function _t(t,e){if(1&t&&(c.Xb(0,"tr"),c.Xb(1,"td"),c.xc(2),c.vc(3,pt,2,0,"span",73),c.Wb(),c.Xb(4,"td"),c.vc(5,mt,3,0,"ng-container",75),c.vc(6,ht,3,2,"ng-template",null,82,c.wc),c.Wb(),c.Wb()),2&t){var n=c.rc(7),o=c.hc().$implicit,i=c.hc(3);c.Hb(2),c.yc(o.value),c.Hb(1),c.kc("ngIf",o.required),c.Hb(2),c.kc("ngIf",i._precontractual_functions_services.validarDocumento(i.solicitud,o.id,!0))("ngIfElse",n)}}function Wt(t,e){if(1&t&&(c.Vb(0),c.vc(1,_t,8,4,"tr",13),c.Ub()),2&t){var n=e.$implicit,o=c.hc(3);c.Hb(1),c.kc("ngIf",n.id>=29&&n.id<=34||45==n.id&&1==o.solicitud.tipo_contrato)}}function Xt(t,e){if(1&t&&(c.Xb(0,"textarea",89),c.xc(1),c.Wb()),2&t){var n=c.hc(4);c.Hb(1),c.yc(n.CRP.descripcion)}}function yt(t,e){if(1&t&&(c.Xb(0,"textarea",89),c.xc(1),c.Wb()),2&t){var n=c.hc(4);c.Hb(1),c.yc(n.CRP.motivo)}}function kt(t,e){if(1&t){var n=c.Yb();c.Xb(0,"button",69),c.fc("click",(function(){c.sc(n);var t=c.hc(4);return t._precontractual_functions_services.descargarDocumento(t.CRP.documento)})),c.xc(1),c.Wb()}if(2&t){var o=c.hc(4);c.Hb(1),c.yc(o.CRP.documento)}}var xt=function(t,e){return{"btn-danger":t,"btn-success":e}};function Ct(t,e){if(1&t&&(c.Vb(0),c.Xb(1,"span",87),c.xc(2),c.ic(3,"global"),c.Wb(),c.vc(4,Xt,2,1,"textarea",88),c.vc(5,yt,2,1,"textarea",88),c.vc(6,kt,2,1,"button",36),c.Ub()),2&t){var n=c.hc(3);c.Hb(1),c.kc("ngClass",c.oc(8,xt,1==n.CRP.estado,2==n.CRP.estado)),c.Hb(1),c.yc(c.jc(3,5,n.CRP.estado,"estados_presupuesto")),c.Hb(2),c.kc("ngIf",1==n.CRP.estado),c.Hb(1),c.kc("ngIf",2==n.CRP.estado),c.Hb(1),c.kc("ngIf",n.CRP.documento)}}function It(t,e){1&t&&(c.Xb(0,"button",90),c.Tb(1,"i",91),c.xc(2," Solicitar CRP"),c.Wb()),2&t&&c.Ib("data-target","#crearCDPCRPPresupuestoModal")}function Ht(t,e){1&t&&(c.Xb(0,"option",92),c.xc(1,"APROBADO"),c.Wb())}function Pt(t,e){1&t&&(c.Xb(0,"option",93),c.xc(1,"DEVULETO"),c.Wb())}function wt(t,e){1&t&&(c.Xb(0,"option",94),c.xc(1,"PENDIENTE"),c.Wb())}function Dt(t,e){1&t&&(c.Xb(0,"option",95),c.xc(1,"FINALIZADO"),c.Wb())}var St=function(t){return{"is-invalid":t}};function jt(t,e){if(1&t){var n=c.Yb();c.Xb(0,"div",19),c.Xb(1,"label",96),c.xc(2,"Fecha de presentaci\xf3n comit\xe9 de contrataci\xf3n"),c.Xb(3,"span",55),c.xc(4,"*"),c.Wb(),c.Wb(),c.Xb(5,"input",97,98),c.fc("ngModelChange",(function(t){return c.sc(n),c.hc(3).solicitud.fecha_comite_contratacion=t})),c.Wb(),c.Wb()}if(2&t){var o=c.rc(6),i=c.hc(3);c.Hb(5),c.kc("ngClass",c.nc(4,St,o.invalid))("ngModel",i.solicitud.fecha_comite_contratacion)("min",i._global_service.obtenerFechaActual())("disabled",i.bandera_disabled)}}function Ft(t,e){if(1&t){var n=c.Yb();c.Xb(0,"button",69),c.fc("click",(function(){c.sc(n);var t=c.hc(4);return t._precontractual_functions_services.descargarDocumento(t._precontractual_functions_services.validarDocumento(t.solicitud,44))})),c.xc(1,"Acta Comit\xe9 de Contrataci\xf3n"),c.Wb()}}function Mt(t,e){if(1&t){var n=c.Yb();c.Xb(0,"div",18),c.Xb(1,"div",35),c.Xb(2,"label",99),c.xc(3,"Acta Comit\xe9 de Contrataci\xf3n"),c.Xb(4,"span",55),c.xc(5,"*"),c.Wb(),c.Wb(),c.Xb(6,"input",100),c.fc("change",(function(t){return c.sc(n),c.hc(3).cambiarDocumento(t.target.files[0])})),c.Wb(),c.vc(7,Ft,2,0,"button",36),c.Wb(),c.Wb()}if(2&t){var o=c.hc(3);c.Hb(7),c.kc("ngIf",o._precontractual_functions_services.validarDocumento(o.solicitud,44,!0))}}function At(t,e){if(1&t){var n=c.Yb();c.Xb(0,"div",18),c.Xb(1,"div",35),c.Xb(2,"label",101),c.xc(3,"Observaciones"),c.Xb(4,"span",55),c.xc(5,"*"),c.Wb(),c.Wb(),c.Xb(6,"textarea",102,103),c.fc("ngModelChange",(function(t){return c.sc(n),c.hc(3).solicitud.observaciones_juridica=t})),c.Wb(),c.Wb(),c.Wb()}if(2&t){var o=c.rc(7),i=c.hc(3);c.Hb(6),c.kc("ngClass",c.nc(2,St,o.invalid))("ngModel",i.solicitud.observaciones_juridica)}}function Lt(t,e){if(1&t&&(c.Xb(0,"button",104),c.Tb(1,"i",84),c.xc(2," Enviar"),c.Wb()),2&t){c.hc();var n=c.rc(62),o=c.hc(2);c.kc("disabled",n.invalid||!o.acta_comite&&6==o.solicitud.estado)}}var Ot=function(t){return{"col-md-6 d-inline-block":t}};function Et(t,e){if(1&t){var n=c.Yb();c.Vb(0),c.Xb(1,"div",16),c.Xb(2,"h3",17),c.xc(3,"Datos del Solicitante"),c.Wb(),c.Xb(4,"div",18),c.Xb(5,"div",19),c.Xb(6,"label",20),c.xc(7,"Nombres y Apellidos"),c.Wb(),c.Tb(8,"input",21),c.Wb(),c.Xb(9,"div",19),c.Xb(10,"label",22),c.xc(11,"Cargo"),c.Wb(),c.Tb(12,"input",23),c.Wb(),c.Wb(),c.Xb(13,"div",18),c.Xb(14,"div",24),c.Xb(15,"label",25),c.xc(16,"\xc1rea"),c.Wb(),c.Tb(17,"input",26),c.ic(18,"global"),c.Wb(),c.Xb(19,"div",27),c.Xb(20,"label",28),c.xc(21,"Correo electr\xf3nico"),c.Wb(),c.Tb(22,"input",29),c.Wb(),c.Xb(23,"div",30),c.Xb(24,"label",31),c.xc(25,"Tipo de contrato"),c.Wb(),c.Tb(26,"input",32),c.ic(27,"global"),c.Wb(),c.Wb(),c.Xb(28,"h3",17),c.xc(29,"Descripci\xf3n"),c.Wb(),c.Xb(30,"div",18),c.Xb(31,"div",33),c.Xb(32,"textarea",34),c.xc(33),c.Wb(),c.Wb(),c.Xb(34,"div",35),c.vc(35,K,2,1,"button",36),c.Wb(),c.Wb(),c.Wb(),c.vc(36,ft,21,2,"ng-container",13),c.Vb(37),c.Xb(38,"div",37),c.Xb(39,"small"),c.xc(40,"Los documentos marcados con el s\xedmbolo "),c.Tb(41,"i",38),c.xc(42," son obligatorios para finalizar la solicitud"),c.Wb(),c.Wb(),c.Xb(43,"div",39),c.Xb(44,"div",40),c.Xb(45,"table",41),c.Xb(46,"thead",42),c.Xb(47,"tr"),c.Xb(48,"th"),c.xc(49,"Documento Adjunto"),c.Wb(),c.Xb(50,"th"),c.xc(51,"Acciones"),c.Wb(),c.Wb(),c.Wb(),c.Xb(52,"tbody",43),c.vc(53,Wt,2,1,"ng-container",44),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(54,"div",45),c.Xb(55,"div",46),c.vc(56,Ct,7,11,"ng-container",13),c.vc(57,It,3,1,"button",47),c.Wb(),c.Wb(),c.Xb(58,"div",48),c.Xb(59,"button",49),c.Tb(60,"i",50),c.Wb(),c.Wb(),c.Ub(),c.Xb(61,"form",51,52),c.fc("ngSubmit",(function(){c.sc(n);var t=c.rc(62);return c.hc(2).onSubmit(t)})),c.Xb(63,"h3",17),c.xc(64,"Respuesta"),c.Wb(),c.Xb(65,"div",16),c.Xb(66,"div",18),c.Xb(67,"div",53),c.Xb(68,"label",54),c.xc(69,"Estado Solicitud"),c.Xb(70,"span",55),c.xc(71,"*"),c.Wb(),c.Wb(),c.Xb(72,"select",56,57),c.fc("ngModelChange",(function(t){return c.sc(n),c.hc(2).solicitud.estado=t})),c.vc(74,Ht,2,0,"option",58),c.Xb(75,"option",59),c.xc(76,"ANULADO"),c.Wb(),c.vc(77,Pt,2,0,"option",60),c.vc(78,wt,2,0,"option",61),c.vc(79,Dt,2,0,"option",62),c.Wb(),c.Wb(),c.vc(80,jt,7,6,"div",63),c.Wb(),c.vc(81,Mt,8,1,"div",64),c.vc(82,At,8,4,"div",64),c.Wb(),c.Xb(83,"div",65),c.Xb(84,"div",66),c.vc(85,Lt,3,1,"button",67),c.Xb(86,"button",68),c.fc("click",(function(){return c.sc(n),c.hc(2).cancelarSolicitud()})),c.xc(87,"Cancelar"),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Ub()}if(2&t){var o=c.rc(73),i=c.hc(2);c.Hb(8),c.lc("value",i.nombre_completo),c.Hb(4),c.lc("value",i.solicitud.cargo),c.Hb(5),c.lc("value",c.jc(18,24,i.solicitud.area_solicitante,"areas_contratacion")),c.Hb(5),c.lc("value",i.solicitud.correo_electronico),c.Hb(4),c.lc("value",c.jc(27,27,i.solicitud.tipo_contrato,"tipos_contratos")),c.Hb(7),c.yc(i.solicitud.descripcion_solicitud),c.Hb(2),c.kc("ngIf",!i.documento_adjunto&&i.solicitud.documento_adjunto),c.Hb(1),c.kc("ngIf",i.solicitud.documentos&&i.solicitud.documentos.length>0),c.Hb(17),c.kc("ngForOf",i.global.tipos_documentos),c.Hb(3),c.kc("ngIf",i.CRP),c.Hb(1),c.kc("ngIf",!i.CRP),c.Hb(2),c.Ib("data-target","#agregarDocumentoModal"),c.Hb(8),c.kc("ngClass",c.nc(30,Ot,3==i.solicitud.estado||i.solicitud.fecha_comite_contratacion)),c.Hb(5),c.kc("ngClass",c.nc(32,St,o.invalid))("ngModel",i.solicitud.estado)("disabled",i.bandera_disabled),c.Hb(2),c.kc("ngIf",i.solicitud.fecha_comite_contratacion&&!i.validarDocumentosContractualesRequeridos()),c.Hb(3),c.kc("ngIf",!i.solicitud.fecha_comite_contratacion),c.Hb(1),c.kc("ngIf",i.solicitud.documentos.length<=0),c.Hb(1),c.kc("ngIf",i.validarDocumentosContractualesRequeridos()),c.Hb(1),c.kc("ngIf",3==i.solicitud.estado||i.solicitud.fecha_comite_contratacion),c.Hb(1),c.kc("ngIf",6==i.solicitud.estado),c.Hb(1),c.kc("ngIf",2==i.solicitud.estado||4==i.solicitud.estado),c.Hb(3),c.kc("ngIf",!i.bandera_disabled)}}function Rt(t,e){if(1&t&&(c.Xb(0,"div",8),c.Xb(1,"div",9),c.Xb(2,"a",10),c.xc(3,"Regresar"),c.Wb(),c.Wb(),c.Xb(4,"div",11),c.vc(5,Z,3,1,"div",12),c.vc(6,Et,88,34,"ng-container",13),c.Wb(),c.Wb()),2&t){var n=c.hc();c.Hb(5),c.kc("ngIf",n.mensaje_inicial),c.Hb(1),c.kc("ngIf",n.solicitud)}}function Tt(t,e){if(1&t){var n=c.Yb();c.Xb(0,"div",105),c.Xb(1,"div",106),c.Xb(2,"div",107),c.Xb(3,"form",108,109),c.fc("ngSubmit",(function(){c.sc(n);var t=c.rc(4);return c.hc().crearCDPCRPPresupuesto(t)})),c.Xb(5,"div",110),c.Xb(6,"h4",111),c.xc(7,"Fromulario Solicitud CRP"),c.Wb(),c.Xb(8,"button",112),c.xc(9,"\xd7"),c.Wb(),c.Wb(),c.Xb(10,"div",113),c.Xb(11,"div",18),c.Xb(12,"div",33),c.Xb(13,"label",114),c.xc(14,"Descripci\xf3n de la solicitud"),c.Xb(15,"span",55),c.xc(16,"*"),c.Wb(),c.Wb(),c.Xb(17,"textarea",115,116),c.fc("ngModelChange",(function(t){return c.sc(n),c.hc().presupuesto.descripcion=t})),c.Wb(),c.Wb(),c.Wb(),c.Xb(19,"div",18),c.Xb(20,"div",33),c.Xb(21,"label",114),c.xc(22,"Documento adjunto"),c.Wb(),c.Xb(23,"input",117),c.fc("change",(function(t){return c.sc(n),c.hc().cargarDocumentoRequerido(t.target.files[0],38)})),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(24,"div",118),c.Xb(25,"div",66),c.Xb(26,"button",119),c.fc("click",(function(){c.sc(n);var t=c.rc(4);return c.hc().crearCDPCRPPresupuesto(t)})),c.Tb(27,"i",84),c.xc(28," Solicitar"),c.Wb(),c.Xb(29,"button",120),c.xc(30,"Cancelar"),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb()}if(2&t){var o=c.rc(4),i=c.rc(18),a=c.hc();c.Hb(17),c.kc("ngClass",c.nc(3,St,i.invalid))("ngModel",a.presupuesto.descripcion),c.Hb(9),c.kc("disabled",o.invalid)}}function qt(t,e){if(1&t&&(c.Xb(0,"option",127),c.xc(1),c.Wb()),2&t){var n=c.hc().$implicit;c.lc("value",n.id),c.Hb(1),c.yc(n.value)}}function zt(t,e){if(1&t&&(c.Vb(0),c.vc(1,qt,2,2,"option",126),c.Ub()),2&t){var n=e.$implicit;c.Hb(1),c.kc("ngIf",n.id>=29&&n.id<=34)}}function Nt(t,e){if(1&t){var n=c.Yb();c.Xb(0,"div",121),c.Xb(1,"div",106),c.Xb(2,"div",107),c.Xb(3,"form",108,122),c.fc("ngSubmit",(function(){c.sc(n);var t=c.hc();return t.cargarDocumentoRequerido(t.documento_a_cargar,t.documentacion.id_documento)})),c.Xb(5,"div",110),c.Xb(6,"h4",111),c.xc(7,"Agregar Documento a la Solicitud"),c.Wb(),c.Xb(8,"button",112),c.xc(9,"\xd7"),c.Wb(),c.Wb(),c.Xb(10,"div",113),c.Xb(11,"div",18),c.Xb(12,"div",33),c.Xb(13,"label",114),c.xc(14,"Seleccione el documento"),c.Xb(15,"span",55),c.xc(16,"*"),c.Wb(),c.Wb(),c.Xb(17,"select",123),c.fc("ngModelChange",(function(t){return c.sc(n),c.hc().documentacion.id_documento=t})),c.vc(18,zt,2,1,"ng-container",70),c.Wb(),c.Wb(),c.Wb(),c.Xb(19,"div",18),c.Xb(20,"div",33),c.Xb(21,"label",114),c.xc(22,"Documento adjunto"),c.Xb(23,"span",55),c.xc(24,"*"),c.Wb(),c.Wb(),c.Xb(25,"input",124),c.fc("change",(function(t){return c.sc(n),c.hc().documento_a_cargar=t.target.files[0]})),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(26,"div",118),c.Xb(27,"div",66),c.Xb(28,"button",119),c.fc("click",(function(){c.sc(n);var t=c.hc();return t.cargarDocumentoRequerido(t.documento_a_cargar,t.documentacion.id_documento)})),c.Tb(29,"i",84),c.xc(30," Adjuntar Documento"),c.Wb(),c.Xb(31,"button",125),c.fc("click",(function(){return c.sc(n),c.hc().configurarInformacionInicial()})),c.xc(32,"Cancelar"),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb()}if(2&t){var o=c.rc(4),i=c.hc();c.Hb(17),c.kc("ngModel",i.documentacion.id_documento),c.Hb(1),c.kc("ngForOf",i.global.tipos_documentos),c.Hb(10),c.kc("disabled",o.invalid||!i.documento_a_cargar)}}function Ut(t,e){if(1&t&&(c.Xb(0,"option",127),c.xc(1),c.Wb()),2&t){var n=e.$implicit;c.lc("value",n.id),c.Hb(1),c.yc(n.value)}}function $t(t,e){if(1&t){var n=c.Yb();c.Xb(0,"div",18),c.Xb(1,"div",33),c.Xb(2,"label",132),c.xc(3,"Fecha de vigencia"),c.Xb(4,"span",55),c.xc(5,"*"),c.Wb(),c.Wb(),c.Xb(6,"input",133,134),c.fc("ngModelChange",(function(t){return c.sc(n),c.hc(2).documento_seleccionado.fecha_vigencia=t})),c.Wb(),c.Wb(),c.Wb()}if(2&t){var o=c.rc(7),i=c.hc(2);c.Hb(6),c.kc("ngClass",c.nc(3,St,o.invalid))("ngModel",i.documento_seleccionado.fecha_vigencia)("min",i._global_service.obtenerFechaActual())}}function Bt(t,e){if(1&t){var n=c.Yb();c.Xb(0,"div",18),c.Xb(1,"div",33),c.Xb(2,"label",135),c.xc(3,"Observaci\xf3n"),c.Xb(4,"span",55),c.xc(5,"*"),c.Wb(),c.Wb(),c.Xb(6,"textarea",136,137),c.fc("ngModelChange",(function(t){return c.sc(n),c.hc(2).documento_seleccionado.observacion=t})),c.Wb(),c.Wb(),c.Wb()}if(2&t){var o=c.rc(7),i=c.hc(2);c.Hb(6),c.kc("ngClass",c.nc(2,St,o.invalid))("ngModel",i.documento_seleccionado.observacion)}}function Vt(t,e){if(1&t){var n=c.Yb();c.Xb(0,"div",128),c.Xb(1,"div",106),c.Xb(2,"div",107),c.Xb(3,"form",108,129),c.fc("ngSubmit",(function(){c.sc(n);var t=c.hc();return t.actualizarEstadoDocumentoAdjunto(t.documento_seleccionado)})),c.Xb(5,"div",110),c.Xb(6,"h4",111),c.xc(7,"Editar el Estado del Documento"),c.Wb(),c.Xb(8,"button",112),c.xc(9,"\xd7"),c.Wb(),c.Wb(),c.Xb(10,"div",113),c.Xb(11,"div",18),c.Xb(12,"div",33),c.Xb(13,"label",130),c.xc(14,"Seleccione el estado del documento"),c.Xb(15,"span",55),c.xc(16,"*"),c.Wb(),c.Wb(),c.Xb(17,"select",123),c.fc("ngModelChange",(function(t){return c.sc(n),c.hc().documento_seleccionado.estado=t})),c.vc(18,Ut,2,2,"option",131),c.Wb(),c.Wb(),c.Wb(),c.vc(19,$t,8,5,"div",64),c.vc(20,Bt,8,4,"div",64),c.Wb(),c.Xb(21,"div",118),c.Xb(22,"div",66),c.Xb(23,"button",119),c.fc("click",(function(){c.sc(n);var t=c.hc();return t.actualizarEstadoDocumentoAdjunto(t.documento_seleccionado)})),c.Tb(24,"i",84),c.xc(25," Editar Estado"),c.Wb(),c.Xb(26,"button",125),c.fc("click",(function(){return c.sc(n),c.hc().configurarInformacionInicial()})),c.xc(27,"Cancelar"),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb()}if(2&t){var o=c.rc(4),i=c.hc();c.Hb(17),c.kc("ngModel",i.documento_seleccionado.estado),c.Hb(1),c.kc("ngForOf",i.global.estados_documentacion),c.Hb(1),c.kc("ngIf",3==i.documento_seleccionado.estado),c.Hb(1),c.kc("ngIf",2==i.documento_seleccionado.estado),c.Hb(3),c.kc("disabled",o.invalid)}}var Yt,Jt=((Yt=function(){function t(e,n,o,i,c,a,r,s){_classCallCheck(this,t),this._documentacion_service=e,this._file_upload_service=n,this._global_service=o,this._precontractual_functions_services=i,this._precontractual_service=c,this._presupuesto_service=a,this._route=r,this._router=s,this.bandera_inicial=!1,this.global=z.f}return _createClass(t,[{key:"ngOnInit",value:function(){this.obtenerInformacionInicial()}},{key:"actualizarEstadoDocumentoAdjunto",value:function(t){var e=this;this.documento_preloader=!0,this._documentacion_service.actualizarEstadoDocumentoAdjunto(t).subscribe((function(t){O.a.fire({position:"center",icon:"success",title:t.message,showConfirmButton:!0}),e.documento_preloader=!1,e.validarDocumentosAprovados()}))}},{key:"cancelarSolicitud",value:function(){this._router.navigate(["./contratacion/precontractual/panel-juridica"])}},{key:"cambiarDocumento",value:function(t){this.acta_comite=t}},{key:"cargarDocumentoRequerido",value:function(t,e){var n=this;if(this.documentacion.etapa_contractual=2,this.documentacion.estado=1,this.solicitud.documentos&&this.solicitud.documentos.length>0){var o=!1,i=null;if(this.solicitud.documentos.forEach((function(t){t.id_documento==e&&(o=!0,i=t.id)})),o&&t)return void this._file_upload_service.cargarArchivo(t,"contratacion").then((function(t){"success"==t.status&&(n.documentacion.id=i,n.documentacion.documento=t.nombre_archivo,n.documentacion.id_documento=e,n._documentacion_service.actualizarDocumentoAdjunto(n.documentacion).subscribe((function(t){O.a.fire({position:"center",icon:"success",title:t.message,showConfirmButton:!0}),n._precontractual_functions_services.obtenerSolicitud(n.solicitud.id).then((function(t){n.solicitud=t}))})))})).catch((function(t){console.log(t)}))}this._file_upload_service.cargarArchivo(t,"contratacion").then((function(t){"success"==t.status&&(n.documentacion.documento=t.nombre_archivo,n.documentacion.id_documento=e,n._documentacion_service.crearDocumentoAdjunto(n.documentacion).subscribe((function(t){O.a.fire({position:"center",icon:"success",title:t.message,showConfirmButton:!0}),n._precontractual_functions_services.obtenerSolicitud(n.solicitud.id).then((function(t){n.solicitud=t}))})))})).catch((function(t){console.log(t)}))}},{key:"clasificarDocumentos",value:function(t){var e=this,n=null;return this.global.tipos_documentos.forEach((function(o){o.id==t&&(o.tipo_contrato?o.tipo_contrato==e.solicitud.tipo_contrato&&(n=o.value):n=o.value)})),n}},{key:"configurarInformacionInicial",value:function(){var t=this;this.solicitud.presupuesto&&this.solicitud.presupuesto.length>0&&this.solicitud.presupuesto.forEach((function(e){2==e.tipo_certificado&&(t.CRP=e)})),this.presupuesto=this.CRP?this.CRP:new T(null,this.solicitud.id,null,null,null,2,null,null,null,null,null,null),this.documentacion=new E(null,this.solicitud.id,null,null,2,null,null,null,null,null,null),this.documento_seleccionado=new E(null,this.solicitud.id,null,null,2,null,null,null,null,null,null);var e=this.solicitud.documentos.find((function(t){return 44==t.id_documento}));this.acta_comite=e?e.documento:null}},{key:"crearCDPCRPPresupuesto",value:function(t){var e=this;this._presupuesto_service.crearCDPCRPPresupuesto(this.presupuesto).subscribe((function(n){O.a.fire({position:"center",icon:"success",title:n.message,showConfirmButton:!0}),t.reset(),e._precontractual_functions_services.obtenerSolicitud(e.solicitud.id).then((function(t){e.solicitud=t,e.configurarInformacionInicial()}))}))}},{key:"obtenerInformacionInicial",value:function(){var t=this;this._route.params.subscribe((function(e){var n=e.id;t.solicitud_id=n,Promise.all([t._precontractual_functions_services.obtenerSolicitud(n)]).then((function(e){t.solicitud=e[0],console.log(t.solicitud),t.bandera_disabled=7==t.solicitud.estado,t.configurarInformacionInicial(),t.validarDocumentacionCompleta(),t.nombre_completo=t.solicitud.primer_nombre+" "+(t.solicitud.segundo_nombre?t.solicitud.segundo_nombre+" ":"")+t.solicitud.primer_apellido+" "+(t.solicitud.segundo_apellido?t.solicitud.segundo_apellido+" ":""),t.bandera_inicial=!0})).catch((function(e){t.mensaje_inicial=e,t.bandera_inicial=!0}))}))}},{key:"onSubmit",value:function(t){return Object(A.a)(this,void 0,void 0,_regeneratorRuntime().mark((function e(){var n,o=this;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!1,!this.acta_comite){e.next=9;break}return e.next=4,this._precontractual_functions_services.cargarDocumentoRequerido(this.acta_comite,this.solicitud.id,44,0,this.solicitud.documentos);case 4:if(e.t0=e.sent,!e.t0){e.next=7;break}n=!0;case 7:e.next=10;break;case 9:n=!0;case 10:n&&this._precontractual_service.actualizarSolicitudPrecontractual(this.solicitud).subscribe((function(e){O.a.fire({position:"center",icon:"success",title:e.message,showConfirmButton:!0}),t.reset(),o.cancelarSolicitud()}));case 11:case"end":return e.stop()}}),e,this)})))}},{key:"validarDocumentacionCompleta",value:function(){var t=this;if(this.solicitud.documentos&&this.solicitud.documentos.length>0){var e=[];return this.global.tipos_documentos.forEach((function(n){n.required&&(!0===n.required||n.required==t.solicitud.tipo_contrato)&&n.id<=28&&(n.tipo_contrato?n.tipo_contrato==t.solicitud.tipo_contrato&&e.push(n):e.push(n))})),e}}},{key:"validarDocumentosAprovados",value:function(){var t=this;if(this.solicitud.documentos&&this.solicitud.documentos.length>0){var e=!0,n=this.validarDocumentacionCompleta();if(this.solicitud.documentos.forEach((function(t){3!=t.estado&&1==t.etapa_contractual&&2!=t.id_documento&&(e=!1)})),e){var o=!1;return this.solicitud.presupuesto.forEach((function(t){1==t.tipo_certificado&&2==t.estado&&(o=!0)})),!!o&&(n.forEach((function(n){var o=!1;t.solicitud.documentos.forEach((function(t){n.id==t.id_documento&&(o=!0)})),e=o?e:o})),e)}return!1}return!1}},{key:"validarDocumentosContractualesRequeridos",value:function(){var t=this,e=!0;return this.global.tipos_documentos.forEach((function(n){n.id>=29&&n.id<=37&&n.required&&0==t.solicitud.documentos.filter((function(t){if(t.id_documento==n.id)return!0})).length&&(e=!1)})),e}}]),t}()).\u0275fac=function(t){return new(t||Yt)(c.Sb(U),c.Sb(z.b),c.Sb(z.c),c.Sb(B),c.Sb($),c.Sb(V),c.Sb(M.a),c.Sb(M.d))},Yt.\u0275cmp=c.Mb({type:Yt,selectors:[["app-aprobacion-juridica"]],decls:5,vars:5,consts:[["class","text-center",4,"ngIf"],["class","col-lg-12 pr-0 pl-0",4,"ngIf"],["class","modal animated fadeIn faster","id","crearCDPCRPPresupuestoModal",4,"ngIf"],["class","modal animated fadeIn faster","id","agregarDocumentoModal",4,"ngIf"],["class","modal animated fadeIn faster","id","editarEstadoDocumento",4,"ngIf"],[1,"text-center"],["role","status",1,"spinner-grow","text-info"],[1,"sr-only"],[1,"col-lg-12","pr-0","pl-0"],[1,"backLink","col","col-sm-12"],["routerLink","/contratacion/precontractual/panel-juridica",1,"col-sm-12"],[1,"formContainer"],["class","col col-12 mt-2",4,"ngIf"],[4,"ngIf"],[1,"col","col-12","mt-2"],["role","alert",1,"alert","alert-warning"],[1,"form-body"],[1,"subtitle"],[1,"form-group"],[1,"col","col-sm-12","col-md-6","d-inline-block"],["for","nombres_apellidos",1,"control-label","labelForm"],["type","text","id","nombres_apellidos","name","nombres_apellidos","disabled","",1,"form-control","inputForm",3,"value"],["for","cargo",1,"control-label","labelForm"],["type","text","id","cargo","name","cargo","disabled","",1,"form-control","inputForm",3,"value"],[1,"col","col-sm-12","col-md-4","d-inline-block"],["for","area_solicitante",1,"control-label","labelForm"],["type","text","id","area_solicitante","name","area_solicitante","disabled","",1,"form-control","inputForm",3,"value"],[1,"col","col-sm-12","col-md-5","d-inline-block"],["for","correo_electronico",1,"control-label","labelForm"],["type","text","id","correo_electronico","name","correo_electronico","disabled","",1,"form-control","inputForm",3,"value"],[1,"col","col-sm-12","col-md-3","d-inline-block"],["for","tipo_contrato",1,"control-label","labelForm"],["type","text","id","tipo_contrato","name","tipo_contrato","disabled","",1,"form-control","inputForm",3,"value"],[1,"col","col-sm-12"],["name","descripcion_solicitud","id","descripcion_solicitud","rows","3","disabled","",1,"form-control","inputForm"],[1,"col","col-12"],["type","button","class","btn btn-waves-effect waves-light btn-rounded btn-sm btn-success mt-2 d-block",3,"click",4,"ngIf"],[1,"infoNote"],[1,"fa","fa-times",2,"color","red","font-size","1rem"],[1,"tableContainer"],[1,"table-responsive","tableContainerAll"],[1,"table","table-bordered"],[1,"thead_styles"],[1,"tbody_styles"],[4,"ngFor","ngForNdex","ngForOf"],[1,"form-group",2,"margin-bottom","15px"],[1,"col","col-sm-12","pl-0","pr-0"],["type","button","class","btn btn-waves-effect waves-light btn-rounded btn-sm btn-warning mt-2 d-block","title","Agregar CDP","data-toggle","modal",4,"ngIf"],[1,"col","col-12","text-right"],["type","button","data-toggle","modal","title","Agregar Documento",1,"btn","btn-info","btn-circle","btn-lg"],[1,"fa","fa-upload"],[3,"ngSubmit"],["juridicaForm","ngForm"],[1,"col","col-sm-12","d-inline-block",3,"ngClass"],["for","estado_solicitud",1,"control-label","labelForm"],[1,"required"],["id","estado_solicitud","name","estado_solicitud","required","",1,"form-control","inputForm","custom-select",3,"ngClass","ngModel","disabled","ngModelChange"],["estado_solicitud","ngModel"],["value","6",4,"ngIf"],["value","2"],["value","4",4,"ngIf"],["value","3",4,"ngIf"],["value","7",4,"ngIf"],["class","col col-sm-12 col-md-6 d-inline-block",4,"ngIf"],["class","form-group",4,"ngIf"],[1,"form-actions"],[1,"col","col-sm-12","text-right"],["type","submit","class","btn btn-success",3,"disabled",4,"ngIf"],["type","button",1,"btn","btn-inverse","ml-2",3,"click"],["type","button",1,"btn","btn-waves-effect","waves-light","btn-rounded","btn-sm","btn-success","mt-2","d-block",3,"click"],[4,"ngFor","ngForOf"],["type","button","title","Descargar Documento",1,"btn","btn-info","btn-circle","btn-sm",3,"click"],[1,"fa","fa-download"],["class","required",4,"ngIf"],[3,"ngClass"],[4,"ngIf","ngIfElse"],["elseTemplate",""],["class","ml-1",4,"ngIf"],[1,"ml-1"],["type","button","title","Editar Estado","data-toggle","modal",1,"btn","btn-warning","btn-circle","btn-sm",3,"click"],[1,"fa","fa-pencil"],["colspan","4"],["elseDocumento",""],["type","button","title","Descargar Documento",1,"btn","btn-success","btn-circle","btn-sm",3,"click"],[1,"fa","fa-check"],["class","fa fa-times","style","color: red; font-size: 1rem",4,"ngIf","ngIfElse"],["elseValidarDocumento",""],[1,"btn","btn-sm","mb-2","d-inline-block",2,"margin-left","0 !important",3,"ngClass"],["name","descripcion","id","descripcion","rows","3","class","form-control inputForm","disabled","",4,"ngIf"],["name","descripcion","id","descripcion","rows","3","disabled","",1,"form-control","inputForm"],["type","button","title","Agregar CDP","data-toggle","modal",1,"btn","btn-waves-effect","waves-light","btn-rounded","btn-sm","btn-warning","mt-2","d-block"],[1,"fa","fa-plus"],["value","6"],["value","4"],["value","3"],["value","7"],["for","fecha_comite_contratacion",1,"control-label","labelForm"],["type","date","id","fecha_comite_contratacion","name","fecha_comite_contratacion","required","",1,"form-control","inputForm",3,"ngClass","ngModel","min","disabled","ngModelChange"],["fecha_comite_contratacion","ngModel"],["for","acta_comite",1,"control-label","labelForm"],["type","file","id","acta_comite","accept","application/pdf","required","",1,"form-control","inputForm",3,"change"],["for","observaciones",1,"control-label","labelForm"],["name","observaciones","id","observaciones","rows","3","minlength","15","maxlength","100","placeholder","Diligencie la observaci\xf3n que tenga en relaci\xf3n con la solicitud","required","",1,"form-control","inputForm",3,"ngClass","ngModel","ngModelChange"],["observaciones","ngModel"],["type","submit",1,"btn","btn-success",3,"disabled"],["id","crearCDPCRPPresupuestoModal",1,"modal","animated","fadeIn","faster"],[1,"modal-dialog"],[1,"modal-content"],[1,"form-container",3,"ngSubmit"],["datosCRPForm","ngForm"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close"],[1,"modal-body"],["for","descripcion",1,"control-label","labelForm"],["name","descripcion","id","descripcion","rows","3","minlength","15","maxlength","100","placeholder","Diligencie la descripci\xf3n de la solicitud del CRP (m\xe1ximo 100 caracteres)","required","",1,"form-control","inputForm",3,"ngClass","ngModel","ngModelChange"],["descripcion","ngModel"],["type","file","id","documento_38","accept","application/pdf","required","",1,"form-control","inputForm","mt-2",3,"change"],[1,"modal-footer"],["type","submit","data-dismiss","modal",1,"btn","btn-success",3,"disabled","click"],["type","button","data-dismiss","modal",1,"btn","btn-inverse","ml-2"],["id","agregarDocumentoModal",1,"modal","animated","fadeIn","faster"],["agregarDocumentoForm","ngForm"],["id","estado_documento","name","estado_documento",1,"form-control","inputForm","custom-select",3,"ngModel","ngModelChange"],["type","file","id","documento_2","accept","application/pdf","required","",1,"form-control","inputForm","mt-2",3,"change"],["type","button","data-dismiss","modal",1,"btn","btn-inverse","ml-2",3,"click"],[3,"value",4,"ngIf"],[3,"value"],["id","editarEstadoDocumento",1,"modal","animated","fadeIn","faster"],["editarEstadoForm","ngForm"],["for","estado_documento",1,"control-label","labelForm"],[3,"value",4,"ngFor","ngForOf"],["for","fecha_vigencia",1,"control-label","labelForm"],["type","date","id","fecha_vigencia","name","fecha_vigencia","required","",1,"form-control","inputForm",3,"ngClass","ngModel","min","ngModelChange"],["fecha_vigencia","ngModel"],["for","observacion",1,"control-label","labelForm"],["name","observacion","id","observacion","rows","3","minlength","15","maxlength","100","placeholder","Diligencie la observaci\xf3n que tenga del rechazo del documento","required","",1,"form-control","inputForm",3,"ngClass","ngModel","ngModelChange"],["observacion","ngModel"]],template:function(t,e){1&t&&(c.vc(0,G,4,0,"div",0),c.vc(1,Rt,7,2,"div",1),c.vc(2,Tt,31,5,"div",2),c.vc(3,Nt,33,3,"div",3),c.vc(4,Vt,28,5,"div",4)),2&t&&(c.kc("ngIf",!e.bandera_inicial),c.Hb(1),c.kc("ngIf",e.bandera_inicial),c.Hb(1),c.kc("ngIf",e.bandera_inicial&&e.presupuesto),c.Hb(1),c.kc("ngIf",e.documentacion),c.Hb(1),c.kc("ngIf",e.documento_seleccionado))},directives:[o.l,M.f,o.k,i.o,i.f,i.g,o.j,i.m,i.l,i.e,i.h,i.i,i.n,i.a,i.d,i.c],pipes:[J,o.d],encapsulation:2}),Yt);function Gt(t,e){1&t&&(c.Xb(0,"div",2),c.Xb(1,"div",3),c.Xb(2,"span",4),c.xc(3,"Loading..."),c.Wb(),c.Wb(),c.Wb())}function Zt(t,e){if(1&t&&(c.Xb(0,"div",11),c.Xb(1,"div",12),c.xc(2),c.Wb(),c.Wb()),2&t){var n=c.hc(2);c.Hb(2),c.zc(" ",n.mensaje_inicial," ")}}function Kt(t,e){if(1&t){var n=c.Yb();c.Xb(0,"button",50),c.fc("click",(function(){c.sc(n);var t=c.hc(3);return t.descargarDocumento(t.documento_solicitud)})),c.xc(1),c.Wb()}if(2&t){var o=c.hc(3);c.Hb(1),c.yc(o.documento_solicitud)}}var Qt=function(t){return{"is-invalid":t}};function te(t,e){if(1&t){var n=c.Yb();c.Vb(0),c.Xb(1,"div",13),c.Xb(2,"h3",14),c.xc(3,"Datos del Solicitante"),c.Wb(),c.Xb(4,"div",15),c.Xb(5,"div",16),c.Xb(6,"label",17),c.xc(7,"Nombres y Apellidos"),c.Wb(),c.Tb(8,"input",18),c.Wb(),c.Xb(9,"div",16),c.Xb(10,"label",19),c.xc(11,"Cargo"),c.Wb(),c.Tb(12,"input",20),c.Wb(),c.Wb(),c.Xb(13,"div",15),c.Xb(14,"div",21),c.Xb(15,"label",22),c.xc(16,"\xc1rea"),c.Wb(),c.Tb(17,"input",23),c.ic(18,"global"),c.Wb(),c.Xb(19,"div",24),c.Xb(20,"label",25),c.xc(21,"Correo electr\xf3nico"),c.Wb(),c.Tb(22,"input",26),c.Wb(),c.Xb(23,"div",27),c.Xb(24,"label",28),c.xc(25,"Tipo de contrato"),c.Wb(),c.Tb(26,"input",29),c.ic(27,"global"),c.Wb(),c.Wb(),c.Xb(28,"div",15),c.Xb(29,"div",30),c.Xb(30,"label",31),c.xc(31,"Descripci\xf3n"),c.Wb(),c.Xb(32,"textarea",32),c.xc(33),c.Wb(),c.Wb(),c.Wb(),c.Xb(34,"h3",14),c.xc(35,"Descripci\xf3n Solicitud"),c.Wb(),c.Xb(36,"div",15),c.Xb(37,"div",33),c.Xb(38,"textarea",34),c.xc(39),c.Wb(),c.Wb(),c.Xb(40,"div",35),c.vc(41,Kt,2,1,"button",36),c.Wb(),c.Wb(),c.Wb(),c.Xb(42,"form",37,38),c.fc("ngSubmit",(function(){c.sc(n);var t=c.rc(43);return c.hc(2).onSubmit(t)})),c.Xb(44,"h3",14),c.xc(45,"Respuesta"),c.Wb(),c.Xb(46,"div",13),c.Xb(47,"div",15),c.Xb(48,"div",35),c.Xb(49,"label",39),c.xc(50,"Observaciones"),c.Xb(51,"span",40),c.xc(52,"*"),c.Wb(),c.Wb(),c.Xb(53,"textarea",41,42),c.fc("ngModelChange",(function(t){return c.sc(n),c.hc(2).presupuesto.motivo=t})),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(55,"div",15),c.Xb(56,"div",35),c.Xb(57,"label",43),c.xc(58,"Documento Adjunto"),c.Xb(59,"span",40),c.xc(60,"*"),c.Wb(),c.Wb(),c.Xb(61,"input",44),c.fc("change",(function(t){return c.sc(n),c.hc(2).documento_adjunto=t.target.files[0]})),c.Wb(),c.Wb(),c.Wb(),c.Xb(62,"div",45),c.Xb(63,"div",46),c.Xb(64,"button",47),c.Tb(65,"i",48),c.xc(66," Enviar"),c.Wb(),c.Xb(67,"button",49),c.fc("click",(function(){return c.sc(n),c.hc(2).cancelarSolicitud()})),c.xc(68,"Cancelar"),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Ub()}if(2&t){var o=c.rc(43),i=c.rc(54),a=c.hc(2);c.Hb(8),c.lc("value",a.nombre_completo),c.Hb(4),c.lc("value",a.presupuesto.solicitud_precontractual.cargo),c.Hb(5),c.lc("value",c.jc(18,11,a.presupuesto.solicitud_precontractual.area_solicitante,"areas_contratacion")),c.Hb(5),c.lc("value",a.presupuesto.solicitud_precontractual.correo_electronico),c.Hb(4),c.lc("value",c.jc(27,14,a.presupuesto.solicitud_precontractual.tipo_contrato,"tipos_contratos")),c.Hb(7),c.yc(a.presupuesto.solicitud_precontractual.descripcion_solicitud),c.Hb(6),c.yc(a.presupuesto.descripcion),c.Hb(2),c.kc("ngIf",a.documento_solicitud),c.Hb(12),c.kc("ngClass",c.nc(17,Qt,i.invalid))("ngModel",a.presupuesto.motivo),c.Hb(11),c.kc("disabled",o.invalid||!a.documento_adjunto)}}function ee(t,e){if(1&t&&(c.Xb(0,"div",5),c.Xb(1,"div",6),c.Xb(2,"a",7),c.xc(3,"Regresar"),c.Wb(),c.Wb(),c.Xb(4,"div",8),c.vc(5,Zt,3,1,"div",9),c.vc(6,te,69,19,"ng-container",10),c.Wb(),c.Wb()),2&t){var n=c.hc();c.Hb(5),c.kc("ngIf",n.mensaje_inicial),c.Hb(1),c.kc("ngIf",n.presupuesto)}}var ne,oe=((ne=function(){function t(e,n,o,i){_classCallCheck(this,t),this._file_upload_service=e,this._presupuesto_service=n,this._route=o,this._router=i,this.bandera_inicial=!1,this.global=z.f}return _createClass(t,[{key:"ngOnInit",value:function(){this.obtenerInformacionInicial()}},{key:"cancelarSolicitud",value:function(){this._router.navigate(["./contratacion/precontractual/panel-financiera"])}},{key:"descargarDocumento",value:function(t){this._file_upload_service.descargarDocumento(t,"contratacion").subscribe((function(e){window.open("".concat(z.f.url,"upload/contratacion/").concat(t))}))}},{key:"obtenerInformacionInicial",value:function(){var t=this;this._route.params.subscribe((function(e){t.presupuesto_id=e.id,Promise.all([t.obtenerSolicitudPresupuesto(t.presupuesto_id)]).then((function(e){t.presupuesto=e[0],t.nombre_completo=t.presupuesto.solicitud_precontractual.primer_nombre+" "+(t.presupuesto.solicitud_precontractual.segundo_nombre?t.presupuesto.solicitud_precontractual.segundo_nombre+" ":"")+t.presupuesto.solicitud_precontractual.primer_apellido+" "+(t.presupuesto.solicitud_precontractual.segundo_apellido?t.presupuesto.solicitud_precontractual.segundo_apellido+" ":""),t.bandera_inicial=!0,t.presupuesto.solicitud_precontractual.documentos&&t.presupuesto.solicitud_precontractual.documentos.length>0&&t.presupuesto.solicitud_precontractual.documentos.forEach((function(e){(1==t.presupuesto.tipo_certificado&&2==e.id_documento||2==t.presupuesto.tipo_certificado&&35==e.id_documento)&&(t.documento_solicitud=e.documento)}))})).catch((function(e){t.mensaje_inicial=e,t.bandera_inicial=!0}))}))}},{key:"obtenerSolicitudPresupuesto",value:function(t){var e=this;return new Promise((function(n,o){e._presupuesto_service.obtenerSolicitudPresupuesto(t).subscribe((function(t){n(t.presupuesto)}),(function(t){o(t)}))}))}},{key:"onSubmit",value:function(t){var e=this;this.presupuesto.estado=2,this._file_upload_service.cargarArchivo(this.documento_adjunto,"contratacion").then((function(n){"success"==n.status&&(e.presupuesto.documento=n.nombre_archivo,e._presupuesto_service.actualizarSolicitudPresupuestal(e.presupuesto).subscribe((function(n){O.a.fire({position:"center",icon:"success",title:n.message,showConfirmButton:!0}),t.reset(),e.cancelarSolicitud()})))})).catch((function(t){console.log(t)}))}}]),t}()).\u0275fac=function(t){return new(t||ne)(c.Sb(z.b),c.Sb(V),c.Sb(M.a),c.Sb(M.d))},ne.\u0275cmp=c.Mb({type:ne,selectors:[["app-aprobacion-financiera"]],decls:2,vars:2,consts:[["class","text-center",4,"ngIf"],["class","col-lg-12 pr-0 pl-0",4,"ngIf"],[1,"text-center"],["role","status",1,"spinner-grow","text-info"],[1,"sr-only"],[1,"col-lg-12","pr-0","pl-0"],[1,"backLink","col","col-sm-12"],["routerLink","/contratacion/precontractual/panel-financiera",1,"col-sm-12"],[1,"formContainer"],["class","col col-12 mt-2",4,"ngIf"],[4,"ngIf"],[1,"col","col-12","mt-2"],["role","alert",1,"alert","alert-warning"],[1,"form-body"],[1,"subtitle"],[1,"form-group"],[1,"col","col-sm-12","col-md-6","d-inline-block"],["for","nombres_apellidos",1,"control-label","labelForm"],["type","text","id","nombres_apellidos","name","nombres_apellidos","disabled","",1,"form-control","inputForm",3,"value"],["for","cargo",1,"control-label","labelForm"],["type","text","id","cargo","name","cargo","disabled","",1,"form-control","inputForm",3,"value"],[1,"col","col-sm-12","col-md-4","d-inline-block"],["for","area_solicitante",1,"control-label","labelForm"],["type","text","id","area_solicitante","name","area_solicitante","disabled","",1,"form-control","inputForm",3,"value"],[1,"col","col-sm-12","col-md-5","d-inline-block"],["for","correo_electronico",1,"control-label","labelForm"],["type","text","id","correo_electronico","name","correo_electronico","disabled","",1,"form-control","inputForm",3,"value"],[1,"col","col-sm-12","col-md-3","d-inline-block"],["for","tipo_contrato",1,"control-label","labelForm"],["type","text","id","tipo_contrato","name","tipo_contrato","disabled","",1,"form-control","inputForm",3,"value"],[1,"col","col-12","d-inline-block"],["for","descripcion_contrato",1,"control-label","labelForm"],["name","descripcion_contrato","id","descripcion_contrato","rows","3","disabled","",1,"form-control","inputForm"],[1,"col","col-sm-12"],["name","descripcion_solicitud","id","descripcion_solicitud","rows","3","disabled","",1,"form-control","inputForm"],[1,"col","col-12"],["type","button","class","btn btn-waves-effect waves-light btn-rounded btn-sm btn-success mt-2 d-block",3,"click",4,"ngIf"],[3,"ngSubmit"],["presupuestoForm","ngForm"],["for","observaciones",1,"control-label","labelForm"],[1,"required"],["name","observaciones","id","observaciones","rows","3","minlength","15","maxlength","100","placeholder","Diligencie la observaci\xf3n que tenga en relaci\xf3n con la solicitud presupuestal","required","",1,"form-control","inputForm",3,"ngClass","ngModel","ngModelChange"],["observaciones","ngModel"],["for","documento_adjunto",1,"control-label","labelForm"],["type","file","id","documento_adjunto","accept","application/pdf",1,"form-control","inputForm",3,"change"],[1,"form-actions"],[1,"col","col-sm-12","text-right"],["type","submit",1,"btn","btn-success",3,"disabled"],[1,"fa","fa-check"],["type","button",1,"btn","btn-inverse","ml-2",3,"click"],["type","button",1,"btn","btn-waves-effect","waves-light","btn-rounded","btn-sm","btn-success","mt-2","d-block",3,"click"]],template:function(t,e){1&t&&(c.vc(0,Gt,4,0,"div",0),c.vc(1,ee,7,2,"div",1)),2&t&&(c.kc("ngIf",!e.bandera_inicial),c.Hb(1),c.kc("ngIf",e.bandera_inicial))},directives:[o.l,M.f,i.o,i.f,i.g,i.a,i.d,i.c,i.l,o.j,i.e,i.h],pipes:[J],encapsulation:2}),ne);function ie(t,e){if(1&t&&(c.Xb(0,"textarea",40),c.xc(1),c.Wb()),2&t){var n=c.hc(3);c.Hb(1),c.yc(n.CDP.descripcion)}}function ce(t,e){if(1&t&&(c.Xb(0,"textarea",40),c.xc(1),c.Wb()),2&t){var n=c.hc(3);c.Hb(1),c.yc(n.CDP.motivo)}}function ae(t,e){if(1&t){var n=c.Yb();c.Xb(0,"button",41),c.fc("click",(function(){c.sc(n);var t=c.hc(3);return t.descargarDocumento(t.CDP.documento)})),c.xc(1),c.Wb()}if(2&t){var o=c.hc(3);c.Hb(1),c.yc(o.CDP.documento)}}var re=function(t,e){return{"btn-danger":t,"btn-success":e}};function se(t,e){if(1&t&&(c.Vb(0),c.Xb(1,"span",37),c.xc(2),c.ic(3,"global"),c.Wb(),c.vc(4,ie,2,1,"textarea",38),c.vc(5,ce,2,1,"textarea",38),c.vc(6,ae,2,1,"button",39),c.Ub()),2&t){var n=c.hc(2);c.Hb(1),c.kc("ngClass",c.oc(8,re,1==n.CDP.estado,2==n.CDP.estado)),c.Hb(1),c.yc(c.jc(3,5,n.CDP.estado,"estados_presupuesto")),c.Hb(2),c.kc("ngIf",1==n.CDP.estado),c.Hb(1),c.kc("ngIf",2==n.CDP.estado),c.Hb(1),c.kc("ngIf",n.CDP.documento)}}function le(t,e){1&t&&(c.Xb(0,"button",42),c.Tb(1,"i",43),c.xc(2," Solicitar CDP"),c.Wb()),2&t&&c.Ib("data-target","#crearCDPCRPPresupuestoModal")}function ue(t,e){1&t&&(c.Xb(0,"span",26),c.xc(1,"*"),c.Wb())}function de(t,e){1&t&&(c.Vb(0),c.Tb(1,"i",49),c.Ub())}function be(t,e){1&t&&c.Tb(0,"i",33)}var fe=function(t){return{"btn-danger":t}};function pe(t,e){if(1&t){var n=c.Yb();c.Vb(0),c.Xb(1,"button",47),c.fc("click",(function(){c.sc(n);var t=c.hc(2).$implicit,e=c.hc(2);return e.descargarDocumento(e.validarDocumento(e.solicitud.documentos,t.id))})),c.vc(2,de,2,0,"ng-container",45),c.vc(3,be,1,0,"ng-template",null,48,c.wc),c.Wb(),c.Ub()}if(2&t){var o=c.rc(4),i=c.hc(2).$implicit,a=c.hc(2);c.Hb(1),c.kc("ngClass",c.nc(3,fe,2==a.validarEstadoDocumento(a.solicitud.documentos,i.id,!0))),c.Hb(1),c.kc("ngIf",2==a.validarEstadoDocumento(a.solicitud.documentos,i.id,!0))("ngIfElse",o)}}function me(t,e){1&t&&c.Tb(0,"i",6)}function ge(t,e){1&t&&c.xc(0,"-")}function ve(t,e){if(1&t&&(c.vc(0,me,1,0,"i",50),c.vc(1,ge,1,0,"ng-template",null,51,c.wc)),2&t){var n=c.rc(2),o=c.hc(2).$implicit,i=c.hc(2);c.kc("ngIf",!0===o.required||o.required==i.solicitud.tipo_contrato)("ngIfElse",n)}}function he(t,e){if(1&t){var n=c.Yb();c.Xb(0,"span"),c.Xb(1,"button",52),c.fc("click",(function(){c.sc(n);var t=c.hc(2).$implicit,e=c.hc(2);return e.observacion=e.configurarObservacion(e.solicitud.documentos,t.id)})),c.Tb(2,"i",53),c.Wb(),c.Wb()}2&t&&(c.Hb(1),c.Ib("data-target","#verObservacion"))}function _e(t,e){if(1&t&&(c.Xb(0,"tr"),c.Xb(1,"td"),c.xc(2),c.vc(3,ue,2,0,"span",44),c.Wb(),c.Xb(4,"td"),c.vc(5,pe,5,5,"ng-container",45),c.vc(6,ve,3,2,"ng-template",null,46,c.wc),c.Wb(),c.Xb(8,"td"),c.Xb(9,"span"),c.xc(10),c.ic(11,"global"),c.Wb(),c.vc(12,he,3,1,"span",0),c.Wb(),c.Wb()),2&t){var n=c.rc(7),o=c.hc().$implicit,i=c.hc(2);c.Hb(2),c.yc(o.value),c.Hb(1),c.kc("ngIf",o.required&&(o.required==i.solicitud.tipo_contrato||!0===o.required)),c.Hb(2),c.kc("ngIf",i.validarDocumento(i.solicitud.documentos,o.id,!0))("ngIfElse",n),c.Hb(5),c.yc(c.jc(11,6,i.validarEstadoDocumento(i.solicitud.documentos,o.id,!0),"estados_documentacion")),c.Hb(2),c.kc("ngIf",2==i.validarEstadoDocumento(i.solicitud.documentos,o.id,!0))}}function We(t,e){if(1&t&&(c.Vb(0),c.vc(1,_e,13,9,"tr",0),c.Ub()),2&t){var n=e.$implicit,o=c.hc(2);c.Hb(1),c.kc("ngIf",(n.tipo_contrato==o.solicitud.tipo_contrato||!n.tipo_contrato)&&n.id<=28)}}function Xe(t,e){1&t&&(c.Xb(0,"div",54),c.Xb(1,"button",55),c.Tb(2,"i",56),c.Wb(),c.Wb()),2&t&&(c.Hb(1),c.Ib("data-target","#agregarDocumentoModal"))}function ye(t,e){if(1&t&&(c.Xb(0,"option",64),c.xc(1),c.Wb()),2&t){var n=e.$implicit;c.lc("value",n.id),c.Hb(1),c.yc(n.value)}}function ke(t,e){if(1&t){var n=c.Yb();c.Xb(0,"div",57),c.Xb(1,"div",15),c.Xb(2,"div",16),c.Xb(3,"form",17,58),c.fc("ngSubmit",(function(){c.sc(n);var t=c.hc(2);return t.cargarDocumentoRequerido(t.documento_a_cargar,t.documentacion.id_documento)})),c.Xb(5,"div",19),c.Xb(6,"h4",20),c.xc(7,"Agregar Documento a la Solicitud"),c.Wb(),c.Xb(8,"button",21),c.xc(9,"\xd7"),c.Wb(),c.Wb(),c.Xb(10,"div",22),c.Xb(11,"div",23),c.Xb(12,"div",24),c.Xb(13,"label",25),c.xc(14,"Seleccione el documento"),c.Xb(15,"span",26),c.xc(16,"*"),c.Wb(),c.Wb(),c.Xb(17,"select",59),c.fc("ngModelChange",(function(t){return c.sc(n),c.hc(2).documentacion.id_documento=t})),c.vc(18,ye,2,2,"option",60),c.Wb(),c.Wb(),c.Wb(),c.Xb(19,"div",23),c.Xb(20,"div",24),c.Xb(21,"label",61),c.xc(22,"Documento adjunto"),c.Xb(23,"span",26),c.xc(24,"*"),c.Wb(),c.Wb(),c.Xb(25,"input",62),c.fc("change",(function(t){return c.sc(n),c.hc(2).documento_a_cargar=t.target.files[0]})),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(26,"div",30),c.Xb(27,"div",31),c.Xb(28,"button",32),c.fc("click",(function(){c.sc(n);var t=c.hc(2);return t.cargarDocumentoRequerido(t.documento_a_cargar,t.documentacion.id_documento)})),c.Tb(29,"i",33),c.xc(30," Adjuntar Documento"),c.Wb(),c.Xb(31,"button",63),c.fc("click",(function(){return c.sc(n),c.hc(2).configurarInformacionInicial()})),c.xc(32,"Cancelar"),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb()}if(2&t){var o=c.rc(4),i=c.hc(2);c.Hb(17),c.kc("ngModel",i.documentacion.id_documento),c.Hb(1),c.kc("ngForOf",i.tipos_documentos),c.Hb(10),c.kc("disabled",o.invalid||!i.documento_a_cargar)}}function xe(t,e){if(1&t){var n=c.Yb();c.Xb(0,"div",65),c.Xb(1,"div",15),c.Xb(2,"div",16),c.Xb(3,"div",19),c.Xb(4,"h4",20),c.xc(5,"Observaci\xf3n del Rechazo del Documento"),c.Wb(),c.Xb(6,"button",21),c.xc(7,"\xd7"),c.Wb(),c.Wb(),c.Xb(8,"div",22),c.Xb(9,"div",23),c.Xb(10,"div",24),c.Xb(11,"label",66),c.xc(12,"Observaci\xf3n"),c.Xb(13,"span",26),c.xc(14,"*"),c.Wb(),c.Wb(),c.Xb(15,"textarea",67),c.xc(16),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(17,"div",30),c.Xb(18,"div",31),c.Xb(19,"button",63),c.fc("click",(function(){return c.sc(n),c.hc(2).observacion=null})),c.xc(20,"Cancelar"),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb()}if(2&t){var o=c.hc(2);c.Hb(16),c.yc(o.observacion)}}var Ce=function(t){return{"is-invalid":t}};function Ie(t,e){if(1&t){var n=c.Yb();c.Vb(0),c.Xb(1,"h3",1),c.xc(2,"Adjuntar Documentaci\xf3n"),c.Wb(),c.Xb(3,"div",2),c.Xb(4,"div",3),c.vc(5,se,7,11,"ng-container",0),c.vc(6,le,3,1,"button",4),c.Wb(),c.Wb(),c.Xb(7,"div",5),c.Xb(8,"small"),c.xc(9,"Los documentos marcados con el s\xedmbolo "),c.Tb(10,"i",6),c.xc(11," son obligatorios para finalizar la solicitud"),c.Wb(),c.Wb(),c.Xb(12,"div",7),c.Xb(13,"div",8),c.Xb(14,"table",9),c.Xb(15,"thead",10),c.Xb(16,"tr"),c.Xb(17,"th"),c.xc(18,"Documento Adjunto"),c.Wb(),c.Xb(19,"th"),c.xc(20,"Acciones"),c.Wb(),c.Xb(21,"th"),c.xc(22,"Estado"),c.Wb(),c.Wb(),c.Wb(),c.Xb(23,"tbody",11),c.vc(24,We,2,1,"ng-container",12),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.vc(25,Xe,3,1,"div",13),c.Xb(26,"div",14),c.Xb(27,"div",15),c.Xb(28,"div",16),c.Xb(29,"form",17,18),c.fc("ngSubmit",(function(){c.sc(n);var t=c.rc(30);return c.hc().crearCDPCRPPresupuesto(t)})),c.Xb(31,"div",19),c.Xb(32,"h4",20),c.xc(33,"Solicitud de CDP"),c.Wb(),c.Xb(34,"button",21),c.xc(35,"\xd7"),c.Wb(),c.Wb(),c.Xb(36,"div",22),c.Xb(37,"div",23),c.Xb(38,"div",24),c.Xb(39,"label",25),c.xc(40,"Descripci\xf3n de la solicitud"),c.Xb(41,"span",26),c.xc(42,"*"),c.Wb(),c.Wb(),c.Xb(43,"textarea",27,28),c.fc("ngModelChange",(function(t){return c.sc(n),c.hc().presupuesto.descripcion=t})),c.Wb(),c.Wb(),c.Wb(),c.Xb(45,"div",23),c.Xb(46,"div",24),c.Xb(47,"label",25),c.xc(48,"Documento adjunto"),c.Xb(49,"span",26),c.xc(50,"*"),c.Wb(),c.Wb(),c.Xb(51,"input",29),c.fc("change",(function(t){return c.sc(n),c.hc().cargarDocumentoRequerido(t.target.files[0],2)})),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(52,"div",30),c.Xb(53,"div",31),c.Xb(54,"button",32),c.fc("click",(function(){c.sc(n);var t=c.rc(30);return c.hc().crearCDPCRPPresupuesto(t)})),c.Tb(55,"i",33),c.xc(56," Solicitar"),c.Wb(),c.Xb(57,"button",34),c.xc(58,"Cancelar"),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.vc(59,ke,33,3,"div",35),c.vc(60,xe,21,1,"div",36),c.Ub()}if(2&t){var o=c.rc(30),i=c.rc(44),a=c.hc();c.Hb(5),c.kc("ngIf",a.CDP),c.Hb(1),c.kc("ngIf",!a.CDP),c.Hb(18),c.kc("ngForOf",a.global.tipos_documentos),c.Hb(1),c.kc("ngIf",7!=a.solicitud.estado),c.Hb(18),c.kc("ngClass",c.nc(9,Ce,i.invalid))("ngModel",a.presupuesto.descripcion),c.Hb(11),c.kc("disabled",o.invalid||!a.documento_cargado),c.Hb(5),c.kc("ngIf",a.tipos_documentos),c.Hb(1),c.kc("ngIf",a.observacion)}}var He,Pe=((He=function(){function t(e,n,o,i,c,a,r){_classCallCheck(this,t),this._documentacion_service=e,this._file_upload_service=n,this._global_service=o,this.precontractual_functions_service=i,this._precontractual_service=c,this._presupuesto_service=a,this._router=r,this.global=z.f}return _createClass(t,[{key:"ngOnInit",value:function(){this.configurarInformacionInicial()}},{key:"cancelarSolicitud",value:function(){this._router.navigate(["./contratacion/precontractual/panel-solicitudes"])}},{key:"cargarDocumentoRequerido",value:function(t,e){var n=this;if(this.documento_cargado=!1,this.solicitud.documentos&&this.solicitud.documentos.length>0){var o=!1,i=null,c=null;if(this.solicitud.documentos.forEach((function(t){t.id_documento==e&&(o=!0,i=t.id,c=t.estado)})),3==c&&O.a.fire({position:"center",icon:"warning",title:"El documento ya ha sido aprobado y no puede ser modificado",showConfirmButton:!0}),o&&t)return void this._file_upload_service.cargarArchivo(t,"contratacion").then((function(t){"success"==t.status&&(n.documentacion.id=i,n.documentacion.documento=t.nombre_archivo,n.documentacion.id_documento=e,n._documentacion_service.actualizarDocumentoAdjunto(n.documentacion).subscribe((function(t){O.a.fire({position:"center",icon:"success",title:t.message,showConfirmButton:!0}),n.documento_a_cargar=null,n.obtenerSolicitud(n.solicitud.id),n.documento_cargado=!0})))})).catch((function(t){console.log(t)}))}this._file_upload_service.cargarArchivo(t,"contratacion").then((function(t){"success"==t.status&&(n.documentacion.documento=t.nombre_archivo,n.documentacion.id_documento=e,n._documentacion_service.crearDocumentoAdjunto(n.documentacion).subscribe((function(t){O.a.fire({position:"center",icon:"success",title:t.message,showConfirmButton:!0}),n.obtenerSolicitud(n.solicitud.id),n.documento_cargado=!0})),document.getElementById("documento_adjunto").value="")})).catch((function(t){console.log(t)}))}},{key:"configurarInformacionInicial",value:function(){var t=this;this.documentacion=new E(null,this.solicitud.id,null,null,1,null,null,null,null),this.solicitud.presupuesto&&this.solicitud.presupuesto.length>0&&this.solicitud.presupuesto.forEach((function(e){1==e.tipo_certificado&&(t.CDP=e)})),this.presupuesto=this.presupuesto?this.presupuesto:new T(null,this.solicitud.id,null,null,null,1,null,null,null),this.documentos_cargados=6==this.solicitud.estado,this.documento_a_cargar=null,this.formaterTiposDocumento()}},{key:"configurarObservacion",value:function(t,e){var n=null;return t.forEach((function(t){t.id_documento==e&&(n=t.observacion)})),n}},{key:"crearCDPCRPPresupuesto",value:function(t){var e=this;this._presupuesto_service.crearCDPCRPPresupuesto(this.presupuesto).subscribe((function(n){O.a.fire({position:"center",icon:"success",title:n.message,showConfirmButton:!0}),t.reset(),e.obtenerSolicitud(e.solicitud.id)}))}},{key:"descargarDocumento",value:function(t){this._file_upload_service.descargarDocumento(t,"contratacion").subscribe((function(e){window.open("".concat(z.f.url,"upload/contratacion/").concat(t))}))}},{key:"formaterTiposDocumento",value:function(){var t=this,e=[];this.global.tipos_documentos.forEach((function(n){(n.tipo_contrato==t.solicitud.tipo_contrato||!n.tipo_contrato)&&n.id<=28&&e.push(n)})),this.solicitud.documentos.forEach((function(t){for(var n=0;n<e.length;n++)if(t.id_documento==e[n].id&&3==t.estado){e.splice(n,1);break}})),this.tipos_documentos=e}},{key:"obtenerSolicitud",value:function(t){var e=this;this._precontractual_service.obtenerSolicitud(t).subscribe((function(t){e.solicitud=t.precontractual,e.formaterTiposDocumento(),e.configurarInformacionInicial()}),(function(t){O.a.fire({position:"center",icon:"error",title:t,showConfirmButton:!0})}))}},{key:"onSubmit",value:function(){}},{key:"validarDocumento",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t&&t.length>0){var o=null;if(t.forEach((function(t){t.id_documento==e&&(o=t.documento)})),o)return!!n||o}return!n&&""}},{key:"validarEstadoDocumento",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=!0,i=null;return t&&t.length>0&&t.forEach((function(t){t.id_documento==e&&(i=t.estado,3==t.estado&&(o=!1))})),n?i:o}}]),t}()).\u0275fac=function(t){return new(t||He)(c.Sb(U),c.Sb(z.b),c.Sb(z.c),c.Sb(B),c.Sb($),c.Sb(V),c.Sb(M.d))},He.\u0275cmp=c.Mb({type:He,selectors:[["app-agregar-documentos"]],inputs:{solicitud:"solicitud"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"subtitle"],[1,"form-group",2,"margin-bottom","15px"],[1,"col","col-sm-12","pl-0","pr-0"],["type","button","class","btn btn-waves-effect waves-light btn-rounded btn-sm btn-warning mt-2 d-block","title","Agregar CDP","data-toggle","modal",4,"ngIf"],[1,"infoNote"],[1,"fa","fa-times",2,"color","red","font-size","1rem"],[1,"tableContainer"],[1,"table-responsive","tableContainerAll"],[1,"table","table-bordered"],[1,"thead_styles"],[1,"tbody_styles"],[4,"ngFor","ngForOf"],["class","col col-12 text-right",4,"ngIf"],["id","crearCDPCRPPresupuestoModal",1,"modal","animated","fadeIn","faster"],[1,"modal-dialog"],[1,"modal-content"],[1,"form-container",3,"ngSubmit"],["datosCDPForm","ngForm"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close"],[1,"modal-body"],[1,"form-group"],[1,"col","col-sm-12"],["for","descripcion",1,"control-label","labelForm"],[1,"required"],["name","descripcion","id","descripcion","rows","3","minlength","15","maxlength","100","placeholder","Diligencie la descripci\xf3n de la solicitud del CDP (m\xe1ximo 100 caracteres)","required","",1,"form-control","inputForm",3,"ngClass","ngModel","ngModelChange"],["descripcion","ngModel"],["type","file","id","documento_2","accept","application/pdf","required","",1,"form-control","inputForm","mt-2",3,"change"],[1,"modal-footer"],[1,"col","col-sm-12","text-right"],["type","submit","data-dismiss","modal",1,"btn","btn-success",3,"disabled","click"],[1,"fa","fa-check"],["type","button","data-dismiss","modal",1,"btn","btn-inverse","ml-2"],["class","modal animated fadeIn faster","id","agregarDocumentoModal",4,"ngIf"],["class","modal animated fadeIn faster","id","verObservacion",4,"ngIf"],[1,"btn","btn-sm","mb-2","d-inline-block",2,"margin-left","0 !important",3,"ngClass"],["name","descripcion","id","descripcion","rows","3","class","form-control inputForm","disabled","",4,"ngIf"],["type","button","class","btn btn-waves-effect waves-light btn-rounded btn-sm btn-info mt-2 d-block",3,"click",4,"ngIf"],["name","descripcion","id","descripcion","rows","3","disabled","",1,"form-control","inputForm"],["type","button",1,"btn","btn-waves-effect","waves-light","btn-rounded","btn-sm","btn-info","mt-2","d-block",3,"click"],["type","button","title","Agregar CDP","data-toggle","modal",1,"btn","btn-waves-effect","waves-light","btn-rounded","btn-sm","btn-warning","mt-2","d-block"],[1,"fa","fa-plus"],["class","required",4,"ngIf"],[4,"ngIf","ngIfElse"],["elseDocumento",""],["type","button","title","Descargar Documento",1,"btn","btn-success","btn-circle","btn-sm",3,"ngClass","click"],["elseTemplate",""],[1,"fa","fa-times"],["class","fa fa-times","style","color: red; font-size: 1rem",4,"ngIf","ngIfElse"],["elseValidarDocumento",""],["type","button","title","Ver la Observaci\xf3n del Rechazo","data-toggle","modal",1,"btn","btn-warning","btn-sm","ml-1",3,"click"],[1,"fa","fa-pencil"],[1,"col","col-12","text-right"],["type","button","data-toggle","modal","title","Agregar Documento",1,"btn","btn-info","btn-circle","btn-lg"],[1,"fa","fa-upload"],["id","agregarDocumentoModal",1,"modal","animated","fadeIn","faster"],["agregarDocumentoForm","ngForm"],["id","estado_documento","name","estado_documento",1,"form-control","inputForm","custom-select",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["for","documento_adjunto",1,"control-label","labelForm"],["type","file","id","documento_adjunto","accept","application/pdf","required","",1,"form-control","inputForm","mt-2",3,"change"],["type","button","data-dismiss","modal",1,"btn","btn-inverse","ml-2",3,"click"],[3,"value"],["id","verObservacion",1,"modal","animated","fadeIn","faster"],["for","observacion",1,"control-label","labelForm"],["name","observacion","id","observacion","rows","3","disabled","",1,"form-control","inputForm"]],template:function(t,e){1&t&&c.vc(0,Ie,61,11,"ng-container",0),2&t&&c.kc("ngIf",e.solicitud)},directives:[o.l,o.k,i.o,i.f,i.g,i.a,i.d,i.c,i.l,o.j,i.e,i.h,i.m,i.i,i.n],pipes:[J],encapsulation:2}),He);function we(t,e){1&t&&(c.Xb(0,"div",2),c.Xb(1,"div",3),c.Xb(2,"span",4),c.xc(3,"Loading..."),c.Wb(),c.Wb(),c.Wb())}function De(t,e){if(1&t&&(c.Xb(0,"div",12),c.Xb(1,"div",13),c.xc(2),c.Wb(),c.Wb()),2&t){var n=c.hc(2);c.Hb(2),c.zc(" ",n.mensaje_inicial," ")}}function Se(t,e){if(1&t&&(c.Xb(0,"option",55),c.xc(1),c.Wb()),2&t){var n=e.$implicit;c.lc("value",n.id),c.Hb(1),c.yc(n.value)}}function je(t,e){if(1&t&&(c.Xb(0,"div",56),c.Xb(1,"label",57),c.xc(2,"Seleccione el t\xedpo de contrato"),c.Xb(3,"span",21),c.xc(4,"*"),c.Wb(),c.Wb(),c.Tb(5,"input",58),c.ic(6,"global"),c.Wb()),2&t){var n=c.hc(3);c.Hb(5),c.lc("value",c.jc(6,1,n.solicitud.tipo_contrato,"tipos_contratos"))}}function Fe(t,e){if(1&t){var n=c.Yb();c.Xb(0,"label",61),c.Xb(1,"input",62,63),c.fc("ngModelChange",(function(t){return c.sc(n),c.hc(4).solicitud.tipo_contrato=t})),c.Wb(),c.Tb(3,"span",64),c.Xb(4,"span",65),c.xc(5),c.Wb(),c.Wb()}if(2&t){var o=e.$implicit,i=c.hc(4);c.Hb(1),c.lc("id",o.value),c.lc("value",o.id),c.kc("checked",i.solicitud.tipo_contrato==o.id)("ngModel",i.solicitud.tipo_contrato)("disabled",i.bandera_disabled),c.Hb(4),c.yc(o.value)}}function Me(t,e){if(1&t&&(c.Xb(0,"div",18),c.Xb(1,"div",50),c.Xb(2,"label",57),c.xc(3,"Seleccione el t\xedpo de contrato"),c.Xb(4,"span",21),c.xc(5,"*"),c.Wb(),c.Wb(),c.Xb(6,"div",59),c.vc(7,Fe,6,6,"label",60),c.Wb(),c.Wb(),c.Wb()),2&t){var n=c.hc(3);c.Hb(7),c.kc("ngForOf",n.global.tipos_contratos)}}function Ae(t,e){1&t&&(c.Xb(0,"div",47),c.Xb(1,"a",67),c.xc(2,"F62 \u2013 LJ Formato Informe Previo Administrativo para Comit\xe9 de Contrataci\xf3n"),c.Wb(),c.Wb())}function Le(t,e){1&t&&(c.Xb(0,"div",47),c.Xb(1,"a",68),c.xc(2,"F64 \u2013 LJ Formato Informe Previo Asistencial para Comit\xe9 de Contrataci\xf3n"),c.Wb(),c.Wb())}function Oe(t,e){if(1&t&&(c.Xb(0,"div",18),c.vc(1,Ae,3,0,"div",66),c.vc(2,Le,3,0,"div",66),c.Wb()),2&t){var n=c.hc(3);c.Hb(1),c.kc("ngIf",1==n.solicitud.tipo_contrato),c.Hb(1),c.kc("ngIf",2==n.solicitud.tipo_contrato)}}function Ee(t,e){if(1&t){var n=c.Yb();c.Xb(0,"input",69),c.fc("change",(function(t){return c.sc(n),c.hc(3).cambiarDocumento(t.target.files[0])})),c.Wb()}}function Re(t,e){if(1&t){var n=c.Yb();c.Xb(0,"button",70),c.fc("click",(function(){return c.sc(n),c.hc(3).descargarDocumento()})),c.xc(1),c.Wb()}if(2&t){var o=c.hc(3);c.Hb(1),c.yc(o.solicitud.documento_adjunto)}}function Te(t,e){1&t&&(c.Xb(0,"label",51),c.xc(1,"Observaciones"),c.Wb())}function qe(t,e){if(1&t&&(c.Xb(0,"div",18),c.Xb(1,"div",50),c.vc(2,Te,2,0,"label",71),c.Xb(3,"textarea",72),c.xc(4),c.Wb(),c.Wb(),c.Wb()),2&t){var n=c.hc(3);c.Hb(2),c.kc("ngIf",4==n.solicitud.estado),c.Hb(2),c.yc(n.solicitud.observaciones_juridica)}}function ze(t,e){if(1&t){var n=c.Yb();c.Xb(0,"div",73),c.Xb(1,"div",74),c.Xb(2,"button",75),c.Tb(3,"i",76),c.xc(4," Enviar"),c.Wb(),c.Xb(5,"button",77),c.fc("click",(function(){return c.sc(n),c.hc(3).cancelarSolicitud()})),c.xc(6,"Cancelar"),c.Wb(),c.Wb(),c.Wb()}if(2&t){c.hc();var o=c.rc(1),i=c.hc(2);c.Hb(2),c.kc("disabled",o.invalid||null==i.solicitud.tipo_contrato||null==i.solicitud.tipo_contrato||!i.documento_adjunto&&!i.solicitud.documento_adjunto)}}var Ne=function(t){return{"is-invalid":t}},Ue=function(t,e){return{"col-sm-6":t,"col-sm-12":e}};function $e(t,e){if(1&t){var n=c.Yb();c.Xb(0,"form",14,15),c.fc("ngSubmit",(function(){c.sc(n);var t=c.rc(1);return c.hc(2).onSubmit(t)})),c.Xb(2,"div",16),c.Xb(3,"h3",17),c.xc(4,"Datos del Solicitante"),c.Wb(),c.Xb(5,"div",18),c.Xb(6,"div",19),c.Xb(7,"label",20),c.xc(8,"Primer Nombre"),c.Xb(9,"span",21),c.xc(10,"*"),c.Wb(),c.Wb(),c.Xb(11,"input",22,23),c.fc("ngModelChange",(function(t){return c.sc(n),c.hc(2).solicitud.primer_nombre=t}))("ngModelChange",(function(t){c.sc(n);var e=c.hc(2);return e.solicitud.primer_nombre=e._global_service.upperCase(t)})),c.Wb(),c.Wb(),c.Xb(13,"div",19),c.Xb(14,"label",24),c.xc(15,"Segundo Nombre"),c.Wb(),c.Xb(16,"input",25,26),c.fc("ngModelChange",(function(t){return c.sc(n),c.hc(2).solicitud.segundo_nombre=t}))("ngModelChange",(function(t){c.sc(n);var e=c.hc(2);return e.solicitud.segundo_nombre=e._global_service.upperCase(t)})),c.Wb(),c.Wb(),c.Xb(18,"div",19),c.Xb(19,"label",27),c.xc(20,"Primer Apellido"),c.Xb(21,"span",21),c.xc(22,"*"),c.Wb(),c.Wb(),c.Xb(23,"input",28,29),c.fc("ngModelChange",(function(t){return c.sc(n),c.hc(2).solicitud.primer_apellido=t}))("ngModelChange",(function(t){c.sc(n);var e=c.hc(2);return e.solicitud.primer_apellido=e._global_service.upperCase(t)})),c.Wb(),c.Wb(),c.Xb(25,"div",19),c.Xb(26,"label",30),c.xc(27,"Segundo Apellido"),c.Wb(),c.Xb(28,"input",31,32),c.fc("ngModelChange",(function(t){return c.sc(n),c.hc(2).solicitud.segundo_apellido=t}))("ngModelChange",(function(t){c.sc(n);var e=c.hc(2);return e.solicitud.segundo_apellido=e._global_service.upperCase(t)})),c.Wb(),c.Wb(),c.Wb(),c.Xb(30,"div",18),c.Xb(31,"div",33),c.Xb(32,"label",34),c.xc(33,"Cargo"),c.Xb(34,"span",21),c.xc(35,"*"),c.Wb(),c.Wb(),c.Xb(36,"input",35,36),c.fc("ngModelChange",(function(t){return c.sc(n),c.hc(2).solicitud.cargo=t}))("ngModelChange",(function(t){c.sc(n);var e=c.hc(2);return e.solicitud.cargo=e._global_service.upperCase(t)})),c.Wb(),c.Wb(),c.Xb(38,"div",33),c.Xb(39,"label",37),c.xc(40,"\xc1rea"),c.Xb(41,"span",21),c.xc(42,"*"),c.Wb(),c.Wb(),c.Xb(43,"select",38,39),c.fc("ngModelChange",(function(t){return c.sc(n),c.hc(2).solicitud.area_solicitante=t})),c.vc(45,Se,2,2,"option",40),c.Wb(),c.Wb(),c.Wb(),c.Xb(46,"div",18),c.Xb(47,"div",41),c.Xb(48,"label",42),c.xc(49,"Correo electr\xf3nico"),c.Xb(50,"span",21),c.xc(51,"*"),c.Wb(),c.Wb(),c.Xb(52,"input",43,44),c.fc("ngModelChange",(function(t){return c.sc(n),c.hc(2).solicitud.correo_electronico=t})),c.Wb(),c.Wb(),c.vc(54,je,7,4,"div",45),c.Wb(),c.vc(55,Me,8,1,"div",46),c.Xb(56,"h3",17),c.xc(57,"Descripci\xf3n"),c.Xb(58,"span",21),c.xc(59,"*"),c.Wb(),c.Wb(),c.Xb(60,"div",18),c.Xb(61,"div",47),c.Xb(62,"textarea",48,49),c.fc("ngModelChange",(function(t){return c.sc(n),c.hc(2).solicitud.descripcion_solicitud=t})),c.Wb(),c.Wb(),c.Wb(),c.vc(64,Oe,3,2,"div",46),c.Xb(65,"div",18),c.Xb(66,"div",50),c.Xb(67,"label",51),c.xc(68,"Documento Adjunto"),c.Xb(69,"span",21),c.xc(70,"*"),c.Wb(),c.Wb(),c.vc(71,Ee,1,0,"input",52),c.vc(72,Re,2,1,"button",53),c.Wb(),c.Wb(),c.vc(73,qe,5,2,"div",46),c.Wb(),c.vc(74,ze,7,1,"div",54),c.Wb()}if(2&t){var o=c.rc(12),i=c.rc(17),a=c.rc(24),r=c.rc(29),s=c.rc(37),l=c.rc(44),u=c.rc(53),d=c.rc(63),b=c.hc(2);c.Hb(11),c.kc("ngClass",c.nc(33,Ne,o.invalid))("ngModel",b.solicitud.primer_nombre)("disabled",b.bandera_disabled),c.Hb(5),c.kc("ngClass",c.nc(35,Ne,i.invalid))("ngModel",b.solicitud.segundo_nombre)("disabled",b.bandera_disabled),c.Hb(7),c.kc("ngClass",c.nc(37,Ne,a.invalid))("ngModel",b.solicitud.primer_apellido)("disabled",b.bandera_disabled),c.Hb(5),c.kc("ngClass",c.nc(39,Ne,r.invalid))("ngModel",b.solicitud.segundo_apellido)("disabled",b.bandera_disabled),c.Hb(8),c.kc("ngClass",c.nc(41,Ne,s.invalid))("ngModel",b.solicitud.cargo)("disabled",b.bandera_disabled),c.Hb(7),c.kc("ngClass",c.nc(43,Ne,l.invalid))("ngModel",b.solicitud.area_solicitante)("disabled",b.bandera_disabled),c.Hb(2),c.kc("ngForOf",b.global.areas_contratacion),c.Hb(2),c.kc("ngClass",c.oc(45,Ue,b.bandera_disabled,!b.bandera_disabled)),c.Hb(5),c.kc("ngClass",c.nc(48,Ne,u.invalid))("ngModel",b.solicitud.correo_electronico)("disabled",b.bandera_disabled),c.Hb(2),c.kc("ngIf",b.bandera_disabled),c.Hb(1),c.kc("ngIf",!b.bandera_disabled),c.Hb(7),c.kc("ngClass",c.nc(50,Ne,d.invalid))("ngModel",b.solicitud.descripcion_solicitud)("disabled",b.bandera_disabled),c.Hb(2),c.kc("ngIf",b.solicitud.tipo_contrato&&!b.bandera_disabled),c.Hb(7),c.kc("ngIf",!b.bandera_disabled||4==b.solicitud.estado),c.Hb(1),c.kc("ngIf",!b.documento_adjunto&&b.solicitud.documento_adjunto),c.Hb(1),c.kc("ngIf",b.solicitud.observaciones_juridica),c.Hb(1),c.kc("ngIf",!b.bandera_disabled||4==b.solicitud.estado)}}function Be(t,e){if(1&t&&(c.Vb(0),c.Tb(1,"app-agregar-documentos",78),c.Ub()),2&t){var n=c.hc(2);c.Hb(1),c.kc("solicitud",n.solicitud)}}function Ve(t,e){if(1&t&&(c.Xb(0,"div",5),c.Xb(1,"div",6),c.Xb(2,"a",7),c.xc(3,"Regresar"),c.Wb(),c.Wb(),c.Xb(4,"div",8),c.vc(5,De,3,1,"div",9),c.vc(6,$e,75,52,"form",10),c.vc(7,Be,2,1,"ng-container",11),c.Wb(),c.xc(8),c.Wb()),2&t){var n=c.hc();c.Hb(5),c.kc("ngIf",n.mensaje_inicial),c.Hb(1),c.kc("ngIf",n.solicitud),c.Hb(1),c.kc("ngIf",6==n.solicitud.estado||7==n.solicitud.estado),c.Hb(1),c.zc(" ",n.configurarCheckInput(),"\n")}}var Ye,Je=((Ye=function(){function t(e,n,o,i,c){_classCallCheck(this,t),this._file_upload_service=e,this._global_service=n,this._precontractual_service=o,this._route=i,this._router=c,this.global=z.f,this.bandera_disabled=!0,this.bandera_inicial=!1,this.bandera_juridica=!1,this.mensaje_inicial=null}return _createClass(t,[{key:"ngOnInit",value:function(){this.mensaje_inicial=null,this.obtenerInformacionInicial()}},{key:"cambiarDocumento",value:function(t){this.documento_adjunto=t}},{key:"cancelarSolicitud",value:function(){this._router.navigate(["./contratacion/precontractual/panel-solicitudes"])}},{key:"descargarDocumento",value:function(){var t=this;this._file_upload_service.descargarDocumento(this.solicitud.documento_adjunto,"contratacion").subscribe((function(e){window.open("".concat(z.f.url,"upload/contratacion/").concat(t.solicitud.documento_adjunto))}))}},{key:"guardarObservacionJuridica",value:function(t){}},{key:"obtenerInformacionInicial",value:function(){var t=this;this._route.params.subscribe((function(e){Promise.all([t.obtenerSolicitud(e.id)]).then((function(e){t.solicitud=e[0],1!=t.solicitud.estado||t.solicitud.observaciones_juridica||(t.bandera_disabled=!1),t.bandera_inicial=!0})).catch((function(e){t.mensaje_inicial=e,t.bandera_inicial=!0}))}))}},{key:"obtenerSolicitud",value:function(t){var e=this;return new Promise((function(n,o){e._precontractual_service.obtenerSolicitud(t).subscribe((function(t){n(t.precontractual)}),(function(t){o(t)}))}))}},{key:"onSubmit",value:function(t){var e=this;this.documento_adjunto?this._file_upload_service.cargarArchivo(this.documento_adjunto,"contratacion").then((function(n){"success"==n.status&&(e.solicitud.documento_adjunto=n.nombre_archivo,e.solicitud.observaciones_juridica=null,e._precontractual_service.actualizarSolicitudPrecontractual(e.solicitud).subscribe((function(n){O.a.fire({position:"center",icon:"success",title:"Se ha actualizado la solicitud con el n\xfamero de consecutivo "+e.solicitud.id,showConfirmButton:!0}),t.reset(),e.cancelarSolicitud()})))})).catch((function(t){console.log(t)})):this._precontractual_service.actualizarSolicitudPrecontractual(this.solicitud).subscribe((function(n){O.a.fire({position:"center",icon:"success",title:"Se ha actualizado la solicitud con el n\xfamero de consecutivo "+e.solicitud.id,showConfirmButton:!0}),t.reset(),e.cancelarSolicitud()}))}},{key:"configurarCheckInput",value:function(){for(var t=0;t<this.global.tipos_contratos.length;t++)if(this.solicitud.tipo_contrato==this.global.tipos_contratos[t].id){var e=document.getElementById(this.global.tipos_contratos[t].value);e&&(e.checked=!0);break}}}]),t}()).\u0275fac=function(t){return new(t||Ye)(c.Sb(z.b),c.Sb(z.c),c.Sb($),c.Sb(M.a),c.Sb(M.d))},Ye.\u0275cmp=c.Mb({type:Ye,selectors:[["app-editar-solicitud"]],decls:2,vars:2,consts:[["class","text-center",4,"ngIf"],["class","col-lg-12 pr-0 pl-0",4,"ngIf"],[1,"text-center"],["role","status",1,"spinner-grow","text-info"],[1,"sr-only"],[1,"col-lg-12","pr-0","pl-0"],[1,"backLink","col","col-sm-12"],["routerLink","/contratacion/precontractual/panel-solicitudes",1,"col-sm-12"],[1,"formContainer"],["class","col col-12 mt-2",4,"ngIf"],[3,"ngSubmit",4,"ngIf"],[4,"ngIf"],[1,"col","col-12","mt-2"],["role","alert",1,"alert","alert-warning"],[3,"ngSubmit"],["solicitudForm","ngForm"],[1,"form-body"],[1,"subtitle"],[1,"form-group"],[1,"col","col-sm-12","col-md-3","d-inline-block"],["for","primer_nombre",1,"control-label","labelForm"],[1,"required"],["type","text","id","primer_nombre","name","primer_nombre","maxlength","60","pattern","[a-zA-Z\xc0-\xff ]+","required","",1,"form-control","inputForm",3,"ngClass","ngModel","disabled","ngModelChange"],["primer_nombre","ngModel"],["for","segundo_nombre",1,"control-label","labelForm"],["type","text","id","segundo_nombre","name","segundo_nombre","maxlength","60","pattern","[a-zA-Z\xc0-\xff ]+",1,"form-control","inputForm",3,"ngClass","ngModel","disabled","ngModelChange"],["segundo_nombre","ngModel"],["for","primer_apellido",1,"control-label","labelForm"],["type","text","id","primer_apellido","name","primer_apellido","maxlength","60","pattern","[a-zA-Z\xc0-\xff ]+","required","",1,"form-control","inputForm",3,"ngClass","ngModel","disabled","ngModelChange"],["primer_apellido","ngModel"],["for","segundo_apellido",1,"control-label","labelForm"],["type","text","id","segundo_apellido","name","segundo_apellido","maxlength","60","pattern","[a-zA-Z\xc0-\xff ]+",1,"form-control","inputForm",3,"ngClass","ngModel","disabled","ngModelChange"],["segundo_apellido","ngModel"],[1,"col","col-sm-12","col-md-6","d-inline-block"],["for","cargo",1,"control-label","labelForm"],["type","text","id","cargo","name","cargo","maxlength","60","required","",1,"form-control","inputForm",3,"ngClass","ngModel","disabled","ngModelChange"],["cargo","ngModel"],["for","area_solicitante",1,"control-label","labelForm"],["id","area_solicitante","name","area_solicitante","required","",1,"form-control","inputForm","custom-select",3,"ngClass","ngModel","disabled","ngModelChange"],["area_solicitante","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"col","d-inline-block",3,"ngClass"],["for","correo_electronico",1,"control-label","labelForm"],["type","text","id","correo_electronico","name","correo_electronico","maxlength","255","placeholder","ejemplo@capitalsalud.gov.co","pattern","[a-zA-Z0-9._%+-]+@capitalsalud.gov.co","required","",1,"form-control","inputForm",3,"ngClass","ngModel","disabled","ngModelChange"],["correo_electronico","ngModel"],["class","col col-sm-6 d-inline-block",4,"ngIf"],["class","form-group",4,"ngIf"],[1,"col","col-sm-12"],["name","descripcion_solicitud","id","descripcion_solicitud","rows","3","minlength","15","maxlength","100","placeholder","Diligencia la solicitud (m\xe1ximo 100 caracteres)","required","",1,"form-control","inputForm",3,"ngClass","ngModel","disabled","ngModelChange"],["descripcion_solicitud","ngModel"],[1,"col","col-12"],["for","documento_adjunto",1,"control-label","labelForm"],["type","file","class","form-control inputForm","id","documento_adjunto","accept","application/pdf",3,"change",4,"ngIf"],["type","button","class","btn btn-waves-effect waves-light btn-rounded btn-sm btn-success mt-2 d-block",3,"click",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"value"],[1,"col","col-sm-6","d-inline-block"],[1,"control-label","labelForm"],["type","text","id","tipo_contrato","name","tipo_contrato","disabled","",1,"form-control","inputForm",3,"value"],[1,"form-check"],["class","custom-control custom-radio",4,"ngFor","ngForOf"],[1,"custom-control","custom-radio"],["name","tipo_contrato","type","radio",1,"custom-control-input",3,"id","checked","value","ngModel","disabled","ngModelChange"],["tipo_contrato","ngModel"],[1,"custom-control-indicator"],[1,"custom-control-description"],["class","col col-sm-12",4,"ngIf"],["href","https://red.capitalsalud.gov.co/wp-content/uploads/2021/08/F62-LJ.docx","target","_blank",1,"btn","waves-effect","waves-light","btn-rounded","btn-sm","btn-info"],["href","https://red.capitalsalud.gov.co/wp-content/uploads/2021/08/F64-LJ.docx","target","_blank",1,"btn","waves-effect","waves-light","btn-rounded","btn-sm","btn-info"],["type","file","id","documento_adjunto","accept","application/pdf",1,"form-control","inputForm",3,"change"],["type","button",1,"btn","btn-waves-effect","waves-light","btn-rounded","btn-sm","btn-success","mt-2","d-block",3,"click"],["for","documento_adjunto","class","control-label labelForm",4,"ngIf"],["name","observaciones","id","observaciones","rows","3","disabled","",1,"form-control","inputForm"],[1,"form-actions"],[1,"col","col-sm-12","text-right"],["type","submit",1,"btn","btn-success",3,"disabled"],[1,"fa","fa-check"],["type","button",1,"btn","btn-inverse","ml-2",3,"click"],[3,"solicitud"]],template:function(t,e){1&t&&(c.vc(0,we,4,0,"div",0),c.vc(1,Ve,9,4,"div",1)),2&t&&(c.kc("ngIf",!e.bandera_inicial),c.Hb(1),c.kc("ngIf",e.bandera_inicial))},directives:[o.l,M.f,i.o,i.f,i.g,i.a,i.c,i.j,i.l,o.j,i.e,i.h,i.m,o.k,i.d,i.i,i.n,i.k,Pe],pipes:[J],encapsulation:2}),Ye);function Ge(t,e){1&t&&(c.Xb(0,"div",2),c.Xb(1,"div",3),c.Xb(2,"span",4),c.xc(3,"Loading..."),c.Wb(),c.Wb(),c.Wb())}function Ze(t,e){if(1&t&&(c.Xb(0,"div",12),c.Xb(1,"div",13),c.xc(2),c.Wb(),c.Wb()),2&t){var n=c.hc(2);c.Hb(2),c.zc(" ",n.mensaje_inicial," ")}}function Ke(t,e){if(1&t&&(c.Xb(0,"option",55),c.xc(1),c.Wb()),2&t){var n=e.$implicit;c.lc("value",n.id),c.Hb(1),c.yc(n.value)}}function Qe(t,e){if(1&t&&(c.Xb(0,"div",56),c.Xb(1,"label",57),c.xc(2,"Seleccione el t\xedpo de contrato"),c.Xb(3,"span",21),c.xc(4,"*"),c.Wb(),c.Wb(),c.Tb(5,"input",58),c.ic(6,"global"),c.Wb()),2&t){var n=c.hc(3);c.Hb(5),c.lc("value",c.jc(6,1,n.solicitud.tipo_contrato,"tipos_contratos"))}}function tn(t,e){if(1&t){var n=c.Yb();c.Xb(0,"label",61),c.Xb(1,"input",62,63),c.fc("ngModelChange",(function(t){return c.sc(n),c.hc(4).solicitud.tipo_contrato=t})),c.Wb(),c.Tb(3,"span",64),c.Xb(4,"span",65),c.xc(5),c.Wb(),c.Wb()}if(2&t){var o=e.$implicit,i=c.hc(4);c.Hb(1),c.lc("id",o.value),c.lc("value",o.id),c.kc("checked",i.solicitud.tipo_contrato==o.id)("ngModel",i.solicitud.tipo_contrato)("disabled",i.bandera_disabled),c.Hb(4),c.yc(o.value)}}function en(t,e){if(1&t&&(c.Xb(0,"div",18),c.Xb(1,"div",50),c.Xb(2,"label",57),c.xc(3,"Seleccione el t\xedpo de contrato"),c.Xb(4,"span",21),c.xc(5,"*"),c.Wb(),c.Wb(),c.Xb(6,"div",59),c.vc(7,tn,6,6,"label",60),c.Wb(),c.Wb(),c.Wb()),2&t){var n=c.hc(3);c.Hb(7),c.kc("ngForOf",n.global.tipos_contratos)}}function nn(t,e){1&t&&(c.Xb(0,"div",47),c.Xb(1,"a",67),c.xc(2,"F62 \u2013 LJ Formato Informe Previo Administrativo para Comit\xe9 de Contrataci\xf3n"),c.Wb(),c.Wb())}function on(t,e){1&t&&(c.Xb(0,"div",47),c.Xb(1,"a",68),c.xc(2,"F64 \u2013 LJ Formato Informe Previo Asistencial para Comit\xe9 de Contrataci\xf3n"),c.Wb(),c.Wb())}function cn(t,e){if(1&t&&(c.Xb(0,"div",18),c.vc(1,nn,3,0,"div",66),c.vc(2,on,3,0,"div",66),c.Wb()),2&t){var n=c.hc(3);c.Hb(1),c.kc("ngIf",1==n.solicitud.tipo_contrato),c.Hb(1),c.kc("ngIf",2==n.solicitud.tipo_contrato)}}function an(t,e){if(1&t){var n=c.Yb();c.Xb(0,"input",69),c.fc("change",(function(t){return c.sc(n),c.hc(3).cambiarDocumento(t.target.files[0])})),c.Wb()}}function rn(t,e){if(1&t){var n=c.Yb();c.Xb(0,"button",70),c.fc("click",(function(){return c.sc(n),c.hc(3).descargarDocumento()})),c.xc(1),c.Wb()}if(2&t){var o=c.hc(3);c.Hb(1),c.yc(o.solicitud.documento_adjunto)}}function sn(t,e){1&t&&(c.Xb(0,"label",51),c.xc(1,"Observaciones"),c.Wb())}function ln(t,e){if(1&t&&(c.Xb(0,"div",18),c.Xb(1,"div",50),c.vc(2,sn,2,0,"label",71),c.Xb(3,"textarea",72),c.xc(4),c.Wb(),c.Wb(),c.Wb()),2&t){var n=c.hc(3);c.Hb(2),c.kc("ngIf",4==n.solicitud.estado),c.Hb(2),c.yc(n.solicitud.observaciones_juridica)}}function un(t,e){if(1&t){var n=c.Yb();c.Xb(0,"div",73),c.Xb(1,"div",74),c.Xb(2,"button",75),c.Tb(3,"i",76),c.xc(4," Enviar"),c.Wb(),c.Xb(5,"button",77),c.fc("click",(function(){return c.sc(n),c.hc(3).cancelarSolicitud()})),c.xc(6,"Cancelar"),c.Wb(),c.Wb(),c.Wb()}if(2&t){c.hc();var o=c.rc(1),i=c.hc(2);c.Hb(2),c.kc("disabled",o.invalid||null==i.solicitud.tipo_contrato||null==i.solicitud.tipo_contrato||!i.documento_adjunto&&!i.solicitud.documento_adjunto)}}var dn=function(t){return{"is-invalid":t}},bn=function(t,e){return{"col-sm-6":t,"col-sm-12":e}};function fn(t,e){if(1&t){var n=c.Yb();c.Xb(0,"form",14,15),c.fc("ngSubmit",(function(){c.sc(n);var t=c.rc(1);return c.hc(2).onSubmit(t)})),c.Xb(2,"div",16),c.Xb(3,"h3",17),c.xc(4,"Datos del Solicitante"),c.Wb(),c.Xb(5,"div",18),c.Xb(6,"div",19),c.Xb(7,"label",20),c.xc(8,"Primer Nombre"),c.Xb(9,"span",21),c.xc(10,"*"),c.Wb(),c.Wb(),c.Xb(11,"input",22,23),c.fc("ngModelChange",(function(t){return c.sc(n),c.hc(2).solicitud.primer_nombre=t}))("ngModelChange",(function(t){c.sc(n);var e=c.hc(2);return e.solicitud.primer_nombre=e._global_service.upperCase(t)})),c.Wb(),c.Wb(),c.Xb(13,"div",19),c.Xb(14,"label",24),c.xc(15,"Segundo Nombre"),c.Wb(),c.Xb(16,"input",25,26),c.fc("ngModelChange",(function(t){return c.sc(n),c.hc(2).solicitud.segundo_nombre=t}))("ngModelChange",(function(t){c.sc(n);var e=c.hc(2);return e.solicitud.segundo_nombre=e._global_service.upperCase(t)})),c.Wb(),c.Wb(),c.Xb(18,"div",19),c.Xb(19,"label",27),c.xc(20,"Primer Apellido"),c.Xb(21,"span",21),c.xc(22,"*"),c.Wb(),c.Wb(),c.Xb(23,"input",28,29),c.fc("ngModelChange",(function(t){return c.sc(n),c.hc(2).solicitud.primer_apellido=t}))("ngModelChange",(function(t){c.sc(n);var e=c.hc(2);return e.solicitud.primer_apellido=e._global_service.upperCase(t)})),c.Wb(),c.Wb(),c.Xb(25,"div",19),c.Xb(26,"label",30),c.xc(27,"Segundo Apellido"),c.Wb(),c.Xb(28,"input",31,32),c.fc("ngModelChange",(function(t){return c.sc(n),c.hc(2).solicitud.segundo_apellido=t}))("ngModelChange",(function(t){c.sc(n);var e=c.hc(2);return e.solicitud.segundo_apellido=e._global_service.upperCase(t)})),c.Wb(),c.Wb(),c.Wb(),c.Xb(30,"div",18),c.Xb(31,"div",33),c.Xb(32,"label",34),c.xc(33,"Cargo"),c.Xb(34,"span",21),c.xc(35,"*"),c.Wb(),c.Wb(),c.Xb(36,"input",35,36),c.fc("ngModelChange",(function(t){return c.sc(n),c.hc(2).solicitud.cargo=t}))("ngModelChange",(function(t){c.sc(n);var e=c.hc(2);return e.solicitud.cargo=e._global_service.upperCase(t)})),c.Wb(),c.Wb(),c.Xb(38,"div",33),c.Xb(39,"label",37),c.xc(40,"\xc1rea"),c.Xb(41,"span",21),c.xc(42,"*"),c.Wb(),c.Wb(),c.Xb(43,"select",38,39),c.fc("ngModelChange",(function(t){return c.sc(n),c.hc(2).solicitud.area_solicitante=t})),c.vc(45,Ke,2,2,"option",40),c.Wb(),c.Wb(),c.Wb(),c.Xb(46,"div",18),c.Xb(47,"div",41),c.Xb(48,"label",42),c.xc(49,"Correo electr\xf3nico"),c.Xb(50,"span",21),c.xc(51,"*"),c.Wb(),c.Wb(),c.Xb(52,"input",43,44),c.fc("ngModelChange",(function(t){return c.sc(n),c.hc(2).solicitud.correo_electronico=t})),c.Wb(),c.Wb(),c.vc(54,Qe,7,4,"div",45),c.Wb(),c.vc(55,en,8,1,"div",46),c.Xb(56,"h3",17),c.xc(57,"Descripci\xf3n"),c.Xb(58,"span",21),c.xc(59,"*"),c.Wb(),c.Wb(),c.Xb(60,"div",18),c.Xb(61,"div",47),c.Xb(62,"textarea",48,49),c.fc("ngModelChange",(function(t){return c.sc(n),c.hc(2).solicitud.descripcion_solicitud=t})),c.Wb(),c.Wb(),c.Wb(),c.vc(64,cn,3,2,"div",46),c.Xb(65,"div",18),c.Xb(66,"div",50),c.Xb(67,"label",51),c.xc(68,"Documento Adjunto"),c.Xb(69,"span",21),c.xc(70,"*"),c.Wb(),c.Wb(),c.vc(71,an,1,0,"input",52),c.vc(72,rn,2,1,"button",53),c.Wb(),c.Wb(),c.vc(73,ln,5,2,"div",46),c.Wb(),c.vc(74,un,7,1,"div",54),c.Wb()}if(2&t){var o=c.rc(12),i=c.rc(17),a=c.rc(24),r=c.rc(29),s=c.rc(37),l=c.rc(44),u=c.rc(53),d=c.rc(63),b=c.hc(2);c.Hb(11),c.kc("ngClass",c.nc(33,dn,o.invalid))("ngModel",b.solicitud.primer_nombre)("disabled",b.bandera_disabled),c.Hb(5),c.kc("ngClass",c.nc(35,dn,i.invalid))("ngModel",b.solicitud.segundo_nombre)("disabled",b.bandera_disabled),c.Hb(7),c.kc("ngClass",c.nc(37,dn,a.invalid))("ngModel",b.solicitud.primer_apellido)("disabled",b.bandera_disabled),c.Hb(5),c.kc("ngClass",c.nc(39,dn,r.invalid))("ngModel",b.solicitud.segundo_apellido)("disabled",b.bandera_disabled),c.Hb(8),c.kc("ngClass",c.nc(41,dn,s.invalid))("ngModel",b.solicitud.cargo)("disabled",b.bandera_disabled),c.Hb(7),c.kc("ngClass",c.nc(43,dn,l.invalid))("ngModel",b.solicitud.area_solicitante)("disabled",b.bandera_disabled),c.Hb(2),c.kc("ngForOf",b.global.areas_contratacion),c.Hb(2),c.kc("ngClass",c.oc(45,bn,b.bandera_disabled,!b.bandera_disabled)),c.Hb(5),c.kc("ngClass",c.nc(48,dn,u.invalid))("ngModel",b.solicitud.correo_electronico)("disabled",b.bandera_disabled),c.Hb(2),c.kc("ngIf",b.bandera_disabled),c.Hb(1),c.kc("ngIf",!b.bandera_disabled),c.Hb(7),c.kc("ngClass",c.nc(50,dn,d.invalid))("ngModel",b.solicitud.descripcion_solicitud)("disabled",b.bandera_disabled),c.Hb(2),c.kc("ngIf",b.solicitud.tipo_contrato&&!b.bandera_disabled),c.Hb(7),c.kc("ngIf",!b.bandera_disabled||4==b.solicitud.estado),c.Hb(1),c.kc("ngIf",!b.documento_adjunto&&b.solicitud.documento_adjunto),c.Hb(1),c.kc("ngIf",b.solicitud.observaciones_juridica),c.Hb(1),c.kc("ngIf",!b.bandera_disabled||4==b.solicitud.estado)}}function pn(t,e){if(1&t&&(c.Vb(0),c.Tb(1,"app-agregar-documentos",78),c.Ub()),2&t){var n=c.hc(2);c.Hb(1),c.kc("solicitud",n.solicitud)}}function mn(t,e){if(1&t&&(c.Xb(0,"div",5),c.Xb(1,"div",6),c.Xb(2,"a",7),c.xc(3,"Regresar"),c.Wb(),c.Wb(),c.Xb(4,"div",8),c.vc(5,Ze,3,1,"div",9),c.vc(6,fn,75,52,"form",10),c.vc(7,pn,2,1,"ng-container",11),c.Wb(),c.xc(8),c.Wb()),2&t){var n=c.hc();c.Hb(5),c.kc("ngIf",n.mensaje_inicial),c.Hb(1),c.kc("ngIf",n.solicitud),c.Hb(1),c.kc("ngIf",6==n.solicitud.estado||7==n.solicitud.estado),c.Hb(1),c.zc(" ",n.configurarCheckInput(),"\n")}}var gn,vn=((gn=function(){function t(e,n,o,i){_classCallCheck(this,t),this._file_upload_service=e,this._global_service=n,this._precontractual_service=o,this._router=i,this.bandera_disabled=!1,this.bandera_inicial=!0,this.bandera_juridica=!1,this.mensaje_inicial=null,this.solicitud=null,this.global=z.f}return _createClass(t,[{key:"ngOnInit",value:function(){this.obtenerValoresInicial()}},{key:"cambiarDocumento",value:function(t){this.documento_adjunto=t}},{key:"cancelarSolicitud",value:function(){this.configurarInformacionInicial(),this._router.navigate(["./contratacion/precontractual/panel-solicitudes"])}},{key:"configurarCheckInput",value:function(){}},{key:"configurarInformacionInicial",value:function(){this.solicitud=new q(null,null,null,null,null,null,null,null,null,null,null,null,null,null),this.observaciones_juridica=new R(null,null,null,null,null,null)}},{key:"descargarDocumento",value:function(){var t=this;this._file_upload_service.descargarDocumento(this.solicitud.documento_adjunto,"contratacion").subscribe((function(e){window.open("".concat(z.f.url,"upload/contratacion/").concat(t.solicitud.documento_adjunto))}))}},{key:"guardarObservacionJuridica",value:function(t){}},{key:"obtenerValoresInicial",value:function(){this.configurarInformacionInicial()}},{key:"onSubmit",value:function(t){var e=this;this._file_upload_service.cargarArchivo(this.documento_adjunto,"contratacion").then((function(n){"success"==n.status&&(e.solicitud.documento_adjunto=n.nombre_archivo,e._precontractual_service.crearSolicitudPrecontractual(e.solicitud).subscribe((function(n){O.a.fire({position:"center",icon:"success",title:"Se ha creado la solicitud precontractual correctamente en el sistema con el n\xfamero de consectuvo "+n.precontractual.id,showConfirmButton:!0}),t.reset(),e.cancelarSolicitud()})))})).catch((function(t){console.log(t)}))}}]),t}()).\u0275fac=function(t){return new(t||gn)(c.Sb(z.b),c.Sb(z.c),c.Sb($),c.Sb(M.d))},gn.\u0275cmp=c.Mb({type:gn,selectors:[["app-nueva-solicitud"]],decls:2,vars:2,consts:[["class","text-center",4,"ngIf"],["class","col-lg-12 pr-0 pl-0",4,"ngIf"],[1,"text-center"],["role","status",1,"spinner-grow","text-info"],[1,"sr-only"],[1,"col-lg-12","pr-0","pl-0"],[1,"backLink","col","col-sm-12"],["routerLink","/contratacion/precontractual/panel-solicitudes",1,"col-sm-12"],[1,"formContainer"],["class","col col-12 mt-2",4,"ngIf"],[3,"ngSubmit",4,"ngIf"],[4,"ngIf"],[1,"col","col-12","mt-2"],["role","alert",1,"alert","alert-warning"],[3,"ngSubmit"],["solicitudForm","ngForm"],[1,"form-body"],[1,"subtitle"],[1,"form-group"],[1,"col","col-sm-12","col-md-3","d-inline-block"],["for","primer_nombre",1,"control-label","labelForm"],[1,"required"],["type","text","id","primer_nombre","name","primer_nombre","maxlength","60","pattern","[a-zA-Z\xc0-\xff ]+","required","",1,"form-control","inputForm",3,"ngClass","ngModel","disabled","ngModelChange"],["primer_nombre","ngModel"],["for","segundo_nombre",1,"control-label","labelForm"],["type","text","id","segundo_nombre","name","segundo_nombre","maxlength","60","pattern","[a-zA-Z\xc0-\xff ]+",1,"form-control","inputForm",3,"ngClass","ngModel","disabled","ngModelChange"],["segundo_nombre","ngModel"],["for","primer_apellido",1,"control-label","labelForm"],["type","text","id","primer_apellido","name","primer_apellido","maxlength","60","pattern","[a-zA-Z\xc0-\xff ]+","required","",1,"form-control","inputForm",3,"ngClass","ngModel","disabled","ngModelChange"],["primer_apellido","ngModel"],["for","segundo_apellido",1,"control-label","labelForm"],["type","text","id","segundo_apellido","name","segundo_apellido","maxlength","60","pattern","[a-zA-Z\xc0-\xff ]+",1,"form-control","inputForm",3,"ngClass","ngModel","disabled","ngModelChange"],["segundo_apellido","ngModel"],[1,"col","col-sm-12","col-md-6","d-inline-block"],["for","cargo",1,"control-label","labelForm"],["type","text","id","cargo","name","cargo","maxlength","60","required","",1,"form-control","inputForm",3,"ngClass","ngModel","disabled","ngModelChange"],["cargo","ngModel"],["for","area_solicitante",1,"control-label","labelForm"],["id","area_solicitante","name","area_solicitante","required","",1,"form-control","inputForm","custom-select",3,"ngClass","ngModel","disabled","ngModelChange"],["area_solicitante","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"col","d-inline-block",3,"ngClass"],["for","correo_electronico",1,"control-label","labelForm"],["type","text","id","correo_electronico","name","correo_electronico","maxlength","255","placeholder","ejemplo@capitalsalud.gov.co","pattern","[a-zA-Z0-9._%+-]+@capitalsalud.gov.co","required","",1,"form-control","inputForm",3,"ngClass","ngModel","disabled","ngModelChange"],["correo_electronico","ngModel"],["class","col col-sm-6 d-inline-block",4,"ngIf"],["class","form-group",4,"ngIf"],[1,"col","col-sm-12"],["name","descripcion_solicitud","id","descripcion_solicitud","rows","3","minlength","15","maxlength","100","placeholder","Diligencia la solicitud (m\xe1ximo 100 caracteres)","required","",1,"form-control","inputForm",3,"ngClass","ngModel","disabled","ngModelChange"],["descripcion_solicitud","ngModel"],[1,"col","col-12"],["for","documento_adjunto",1,"control-label","labelForm"],["type","file","class","form-control inputForm","id","documento_adjunto","accept","application/pdf",3,"change",4,"ngIf"],["type","button","class","btn btn-waves-effect waves-light btn-rounded btn-sm btn-success mt-2 d-block",3,"click",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"value"],[1,"col","col-sm-6","d-inline-block"],[1,"control-label","labelForm"],["type","text","id","tipo_contrato","name","tipo_contrato","disabled","",1,"form-control","inputForm",3,"value"],[1,"form-check"],["class","custom-control custom-radio",4,"ngFor","ngForOf"],[1,"custom-control","custom-radio"],["name","tipo_contrato","type","radio",1,"custom-control-input",3,"id","checked","value","ngModel","disabled","ngModelChange"],["tipo_contrato","ngModel"],[1,"custom-control-indicator"],[1,"custom-control-description"],["class","col col-sm-12",4,"ngIf"],["href","https://red.capitalsalud.gov.co/wp-content/uploads/2021/08/F62-LJ.docx","target","_blank",1,"btn","waves-effect","waves-light","btn-rounded","btn-sm","btn-info"],["href","https://red.capitalsalud.gov.co/wp-content/uploads/2021/08/F64-LJ.docx","target","_blank",1,"btn","waves-effect","waves-light","btn-rounded","btn-sm","btn-info"],["type","file","id","documento_adjunto","accept","application/pdf",1,"form-control","inputForm",3,"change"],["type","button",1,"btn","btn-waves-effect","waves-light","btn-rounded","btn-sm","btn-success","mt-2","d-block",3,"click"],["for","documento_adjunto","class","control-label labelForm",4,"ngIf"],["name","observaciones","id","observaciones","rows","3","disabled","",1,"form-control","inputForm"],[1,"form-actions"],[1,"col","col-sm-12","text-right"],["type","submit",1,"btn","btn-success",3,"disabled"],[1,"fa","fa-check"],["type","button",1,"btn","btn-inverse","ml-2",3,"click"],[3,"solicitud"]],template:function(t,e){1&t&&(c.vc(0,Ge,4,0,"div",0),c.vc(1,mn,9,4,"div",1)),2&t&&(c.kc("ngIf",!e.bandera_inicial),c.Hb(1),c.kc("ngIf",e.bandera_inicial))},directives:[o.l,M.f,i.o,i.f,i.g,i.a,i.c,i.j,i.l,o.j,i.e,i.h,i.m,o.k,i.d,i.i,i.n,i.k,Pe],pipes:[J],encapsulation:2}),gn);function hn(t,e){1&t&&(c.Xb(0,"div",2),c.Xb(1,"div",3),c.Xb(2,"span",4),c.xc(3,"Loading..."),c.Wb(),c.Wb(),c.Wb())}function _n(t,e){if(1&t&&(c.Xb(0,"div",10),c.Xb(1,"div",11),c.xc(2),c.Wb(),c.Wb()),2&t){var n=c.hc(2);c.Hb(2),c.zc(" ",n.mensaje_inicial," ")}}function Wn(t,e){if(1&t){var n=c.Yb();c.Xb(0,"div",19),c.Xb(1,"pagination-controls",20),c.fc("pageChange",(function(t){return c.sc(n),c.hc(3).cambiarPagina(t)})),c.Wb(),c.Wb()}}function Xn(t,e){if(1&t&&(c.Xb(0,"td"),c.xc(1),c.ic(2,"date"),c.Wb()),2&t){var n=c.hc().$implicit;c.Hb(1),c.yc(c.jc(2,1,n.fecha_respuesta,"dd/MM/yyyy"))}}function yn(t,e){1&t&&(c.Xb(0,"td"),c.xc(1,"-"),c.Wb())}function kn(t,e){if(1&t&&(c.Xb(0,"td"),c.xc(1),c.ic(2,"date"),c.Wb()),2&t){var n=c.hc().$implicit;c.Hb(1),c.yc(c.jc(2,1,n.fecha_comite_contratacion,"dd/MM/yyyy"))}}function xn(t,e){1&t&&(c.Xb(0,"td"),c.xc(1,"-"),c.Wb())}var Cn=function(t){return["../documentacion-postcontractual/",t]};function In(t,e){if(1&t&&(c.Xb(0,"button",26),c.Tb(1,"i",27),c.Wb()),2&t){var n=c.hc().$implicit;c.kc("routerLink",c.nc(1,Cn,n.id))}}var Hn=function(t,e,n,o){return{death:t,regular:e,bad:n,good:o}},Pn=function(t){return["../aprobacion-juridica/",t]};function wn(t,e){if(1&t&&(c.Xb(0,"tr",21),c.Xb(1,"td"),c.xc(2),c.Wb(),c.Xb(3,"td"),c.xc(4),c.ic(5,"global"),c.Wb(),c.Xb(6,"td"),c.xc(7),c.Wb(),c.Xb(8,"td"),c.xc(9),c.ic(10,"date"),c.Wb(),c.Xb(11,"td"),c.xc(12),c.ic(13,"global"),c.Wb(),c.vc(14,Xn,3,4,"td",22),c.vc(15,yn,2,0,"td",22),c.vc(16,kn,3,4,"td",22),c.vc(17,xn,2,0,"td",22),c.Xb(18,"td",2),c.Xb(19,"button",23),c.Tb(20,"i",24),c.Wb(),c.vc(21,In,2,3,"button",25),c.Wb(),c.Wb()),2&t){var n=e.$implicit;c.kc("ngClass",c.pc(21,Hn,2==n.estado,3==n.estado,4==n.estado,6==n.estado)),c.Hb(2),c.yc(n.id),c.Hb(2),c.yc(c.jc(5,12,n.area_solicitante,"areas_contratacion")),c.Hb(3),c.yc(n.descripcion_solicitud),c.Hb(2),c.yc(c.jc(10,15,n.createdAt,"dd/MM/yyyy")),c.Hb(3),c.yc(c.jc(13,18,n.estado,"estados_solicitud_precontractual")),c.Hb(2),c.kc("ngIf",n.fecha_respuesta),c.Hb(1),c.kc("ngIf",!n.fecha_respuesta),c.Hb(1),c.kc("ngIf",n.fecha_comite_contratacion),c.Hb(1),c.kc("ngIf",!n.fecha_comite_contratacion),c.Hb(2),c.kc("routerLink",c.nc(26,Pn,n.id)),c.Hb(2),c.kc("ngIf",7==n.estado)}}var Dn=function(t,e){return{itemsPerPage:t,currentPage:e}};function Sn(t,e){if(1&t&&(c.Xb(0,"div",12),c.Xb(1,"div",13),c.vc(2,Wn,2,0,"div",14),c.Xb(3,"table",15),c.Xb(4,"thead",16),c.Xb(5,"tr"),c.Xb(6,"th"),c.xc(7,"ID"),c.Wb(),c.Xb(8,"th"),c.xc(9,"\xc1rea solicitante"),c.Wb(),c.Xb(10,"th"),c.xc(11,"Descripci\xf3n de la solicitud"),c.Wb(),c.Xb(12,"th"),c.xc(13,"Fecha solicitud"),c.Wb(),c.Xb(14,"th"),c.xc(15,"Estado"),c.Wb(),c.Xb(16,"th"),c.xc(17,"Fecha respuesta"),c.Wb(),c.Xb(18,"th"),c.xc(19,"Fecha presentaci\xf3n CC"),c.Wb(),c.Xb(20,"th"),c.xc(21,"Detalle"),c.Wb(),c.Wb(),c.Wb(),c.Xb(22,"tbody",17),c.vc(23,wn,22,28,"tr",18),c.ic(24,"paginate"),c.Wb(),c.Wb(),c.Wb(),c.Wb()),2&t){var n=c.hc(2);c.Hb(2),c.kc("ngIf",n.solicitudes&&n.solicitudes.length>n.items_por_pagina),c.Hb(21),c.kc("ngForOf",c.jc(24,2,n.solicitudes,c.oc(5,Dn,n.items_por_pagina,n.pagina_actual)))}}function jn(t,e){if(1&t&&(c.Xb(0,"div",5),c.Xb(1,"div",6),c.Xb(2,"a",7),c.xc(3,"Regresar"),c.Wb(),c.Wb(),c.vc(4,_n,3,1,"div",8),c.vc(5,Sn,25,8,"div",9),c.Wb()),2&t){var n=c.hc();c.Hb(4),c.kc("ngIf",n.mensaje_inicial),c.Hb(1),c.kc("ngIf",n.solicitudes)}}var Fn,Mn=((Fn=function(){function t(e,n){_classCallCheck(this,t),this._precontractual_functions_service=e,this._precontractual_service=n,this.bandera_inicial=!1,this.global=z.f,this.items_por_pagina=20;var o=+localStorage.getItem("juridica_pagina");this.pagina_actual=o||1}return _createClass(t,[{key:"ngOnInit",value:function(){this.obtenerInformacionInicial()}},{key:"cambiarPagina",value:function(t){this.pagina_actual=t,localStorage.setItem("juridica_pagina",t)}},{key:"obtenerInformacionInicial",value:function(){var t=this;Promise.all([this.obtenerSolicitudesJuridica()]).then((function(e){t.solicitudes=e[0],t.bandera_inicial=!0})).catch((function(e){t.mensaje_inicial=e,t.bandera_inicial=!0}))}},{key:"obtenerSolicitudesJuridica",value:function(){var t=this;return new Promise((function(e,n){t._precontractual_service.obtenerSolicitudesJuridica().subscribe((function(t){e(t.precontractuales)}),(function(t){n(t)}))}))}}]),t}()).\u0275fac=function(t){return new(t||Fn)(c.Sb(B),c.Sb($))},Fn.\u0275cmp=c.Mb({type:Fn,selectors:[["app-panel-juridica"]],decls:2,vars:2,consts:[["class","text-center",4,"ngIf"],["class","col-12 pr-0 pl-0",4,"ngIf"],[1,"text-center"],["role","status",1,"spinner-grow","text-info"],[1,"sr-only"],[1,"col-12","pr-0","pl-0"],[1,"backLink","col","col-sm-12"],["routerLink","../",1,"col-sm-12"],["class","col col-12 mt-2",4,"ngIf"],["class","card-body tableContainer",4,"ngIf"],[1,"col","col-12","mt-2"],["role","alert",1,"alert","alert-warning"],[1,"card-body","tableContainer"],[1,"table-responsive","tableContainerAll"],["class","paginationControls",4,"ngIf"],[1,"table","table-bordered"],[1,"thead_styles"],[1,"tbody_styles"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"paginationControls"],["previousLabel","Anterior","nextLabel","Siguiente","maxSize","4",3,"pageChange"],[3,"ngClass"],[4,"ngIf"],["type","button","title","Ver M\xe1s",1,"btn","btn-info","btn-circle","btn-sm",3,"routerLink"],[1,"fa","fa-eye"],["type","button","class","btn btn-warning btn-circle btn-sm mt-1","title","Adjuntar Documentaci\xf3n Postcontractual",3,"routerLink",4,"ngIf"],["type","button","title","Adjuntar Documentaci\xf3n Postcontractual",1,"btn","btn-warning","btn-circle","btn-sm","mt-1",3,"routerLink"],[1,"fa","fa-plus"]],template:function(t,e){1&t&&(c.vc(0,hn,4,0,"div",0),c.vc(1,jn,6,2,"div",1)),2&t&&(c.kc("ngIf",!e.bandera_inicial),c.Hb(1),c.kc("ngIf",e.bandera_inicial))},directives:[o.l,M.f,o.k,w,o.j,M.e],pipes:[_,J,o.d],encapsulation:2}),Fn);function An(t,e){1&t&&(c.Xb(0,"div",2),c.Xb(1,"div",3),c.Xb(2,"span",4),c.xc(3,"Loading..."),c.Wb(),c.Wb(),c.Wb())}function Ln(t,e){if(1&t&&(c.Xb(0,"div",10),c.Xb(1,"div",11),c.xc(2),c.Wb(),c.Wb()),2&t){var n=c.hc(2);c.Hb(2),c.zc(" ",n.mensaje_inicial," ")}}function On(t,e){if(1&t){var n=c.Yb();c.Xb(0,"div",19),c.Xb(1,"pagination-controls",20),c.fc("pageChange",(function(t){return c.sc(n),c.hc(3).cambiarPagina(t)})),c.Wb(),c.Wb()}}function En(t,e){if(1&t&&(c.Xb(0,"td"),c.xc(1),c.ic(2,"date"),c.Wb()),2&t){var n=c.hc().$implicit;c.Hb(1),c.yc(c.jc(2,1,n.solicitud_precontractual.fecha_respuesta,"dd/MM/yyyy"))}}function Rn(t,e){1&t&&(c.Xb(0,"td"),c.xc(1,"-"),c.Wb())}var Tn=function(t){return["../aprobacion-financiera/",t]};function qn(t,e){if(1&t&&(c.Xb(0,"tr"),c.Xb(1,"td"),c.xc(2),c.Wb(),c.Xb(3,"td"),c.xc(4),c.ic(5,"global"),c.Wb(),c.Xb(6,"td"),c.xc(7),c.Wb(),c.Xb(8,"td"),c.xc(9),c.ic(10,"date"),c.Wb(),c.Xb(11,"td"),c.xc(12),c.ic(13,"global"),c.Wb(),c.vc(14,En,3,4,"td",21),c.vc(15,Rn,2,0,"td",21),c.Xb(16,"td"),c.xc(17),c.ic(18,"global"),c.Wb(),c.Xb(19,"td",2),c.Xb(20,"button",22),c.Tb(21,"i",23),c.Wb(),c.Wb(),c.Wb()),2&t){var n=e.$implicit;c.Hb(2),c.yc(n.id),c.Hb(2),c.yc(c.jc(5,9,n.solicitud_precontractual.area_solicitante,"areas_contratacion")),c.Hb(3),c.yc(n.solicitud_precontractual.descripcion_solicitud),c.Hb(2),c.yc(c.jc(10,12,n.createdAt,"dd/MM/yyyy")),c.Hb(3),c.yc(c.jc(13,15,n.estado,"estados_presupuesto")),c.Hb(2),c.kc("ngIf",n.solicitud_precontractual.fecha_respuesta),c.Hb(1),c.kc("ngIf",!n.solicitud_precontractual.fecha_respuesta),c.Hb(2),c.yc(c.jc(18,18,n.tipo_certificado,"tipos_certificados")),c.Hb(3),c.kc("routerLink",c.nc(21,Tn,n.id))}}var zn=function(t,e){return{itemsPerPage:t,currentPage:e}};function Nn(t,e){if(1&t&&(c.Xb(0,"div",12),c.Xb(1,"div",13),c.vc(2,On,2,0,"div",14),c.Xb(3,"table",15),c.Xb(4,"thead",16),c.Xb(5,"tr"),c.Xb(6,"th"),c.xc(7,"ID"),c.Wb(),c.Xb(8,"th"),c.xc(9,"\xc1rea solicitante"),c.Wb(),c.Xb(10,"th"),c.xc(11,"Descripci\xf3n de la solicitud"),c.Wb(),c.Xb(12,"th"),c.xc(13,"Fecha solicitud"),c.Wb(),c.Xb(14,"th"),c.xc(15,"Estado"),c.Wb(),c.Xb(16,"th"),c.xc(17,"Fecha respuesta"),c.Wb(),c.Xb(18,"th"),c.xc(19,"Tipo de Certificado"),c.Wb(),c.Xb(20,"th"),c.xc(21,"Detalle"),c.Wb(),c.Wb(),c.Wb(),c.Xb(22,"tbody",17),c.vc(23,qn,22,23,"tr",18),c.ic(24,"paginate"),c.Wb(),c.Wb(),c.Wb(),c.Wb()),2&t){var n=c.hc(2);c.Hb(2),c.kc("ngIf",n.presupuestos&&n.presupuestos.length>n.items_por_pagina),c.Hb(21),c.kc("ngForOf",c.jc(24,2,n.presupuestos,c.oc(5,zn,n.items_por_pagina,n.pagina_actual)))}}function Un(t,e){if(1&t&&(c.Xb(0,"div",5),c.Xb(1,"div",6),c.Xb(2,"a",7),c.xc(3,"Regresar"),c.Wb(),c.Wb(),c.vc(4,Ln,3,1,"div",8),c.vc(5,Nn,25,8,"div",9),c.Wb()),2&t){var n=c.hc();c.Hb(4),c.kc("ngIf",n.mensaje_inicial),c.Hb(1),c.kc("ngIf",n.presupuestos&&n.presupuestos.length>0)}}var $n,Bn=(($n=function(){function t(e){_classCallCheck(this,t),this._presupuesto_service=e,this.bandera_inicial=!1,this.items_por_pagina=20}return _createClass(t,[{key:"ngOnInit",value:function(){this.obtenerInformacionInicial()}},{key:"cambiarPagina",value:function(t){this.pagina_actual=t,localStorage.setItem("juridica_pagina",t)}},{key:"obtenerInformacionInicial",value:function(){var t=this;Promise.all([this.obtenerSolicitudes()]).then((function(e){t.presupuestos=e[0],t.presupuestos.length<=0&&(t.mensaje_inicial="En el momento, no hay solicitudes de presupuesto activas en el sistema"),t.bandera_inicial=!0})).catch((function(e){t.mensaje_inicial=e,t.bandera_inicial=!0}))}},{key:"obtenerSolicitudes",value:function(){var t=this;return new Promise((function(e,n){t._presupuesto_service.obtenerSolicitudes().subscribe((function(t){e(t.presupuestos)}),(function(t){n(t)}))}))}}]),t}()).\u0275fac=function(t){return new(t||$n)(c.Sb(V))},$n.\u0275cmp=c.Mb({type:$n,selectors:[["app-panel-financiera"]],decls:2,vars:2,consts:[["class","text-center",4,"ngIf"],["class","col-12 pr-0 pl-0",4,"ngIf"],[1,"text-center"],["role","status",1,"spinner-grow","text-info"],[1,"sr-only"],[1,"col-12","pr-0","pl-0"],[1,"backLink","col","col-sm-12"],["routerLink","../",1,"col-sm-12"],["class","col col-12 mt-2",4,"ngIf"],["class","card-body tableContainer",4,"ngIf"],[1,"col","col-12","mt-2"],["role","alert",1,"alert","alert-warning"],[1,"card-body","tableContainer"],[1,"table-responsive","tableContainerAll"],["class","paginationControls",4,"ngIf"],[1,"table","table-bordered"],[1,"thead_styles"],[1,"tbody_styles"],[4,"ngFor","ngForOf"],[1,"paginationControls"],["previousLabel","Anterior","nextLabel","Siguiente","maxSize","4",3,"pageChange"],[4,"ngIf"],["type","button","title","Ver M\xe1s",1,"btn","btn-info","btn-circle","btn-sm",3,"routerLink"],[1,"fa","fa-eye"]],template:function(t,e){1&t&&(c.vc(0,An,4,0,"div",0),c.vc(1,Un,6,2,"div",1)),2&t&&(c.kc("ngIf",!e.bandera_inicial),c.Hb(1),c.kc("ngIf",e.bandera_inicial))},directives:[o.l,M.f,o.k,w,M.e],pipes:[_,J,o.d],encapsulation:2}),$n);function Vn(t,e){1&t&&(c.Xb(0,"div",2),c.Xb(1,"div",3),c.Xb(2,"span",4),c.xc(3,"Loading..."),c.Wb(),c.Wb(),c.Wb())}function Yn(t,e){if(1&t&&(c.Xb(0,"div",13),c.Xb(1,"div",14),c.xc(2),c.Wb(),c.Wb()),2&t){var n=c.hc(2);c.Hb(2),c.zc(" ",n.mensaje_inicial," ")}}function Jn(t,e){if(1&t){var n=c.Yb();c.Xb(0,"div",22),c.Xb(1,"pagination-controls",23),c.fc("pageChange",(function(t){return c.sc(n),c.hc(3).cambiarPagina(t)})),c.Wb(),c.Wb()}}function Gn(t,e){if(1&t&&(c.Xb(0,"td"),c.xc(1),c.ic(2,"date"),c.Wb()),2&t){var n=c.hc().$implicit;c.Hb(1),c.yc(c.jc(2,1,n.fecha_respuesta,"dd/MM/yyyy"))}}function Zn(t,e){1&t&&(c.Xb(0,"td"),c.xc(1,"-"),c.Wb())}function Kn(t,e){if(1&t&&(c.Xb(0,"td"),c.xc(1),c.ic(2,"date"),c.Wb()),2&t){var n=c.hc().$implicit;c.Hb(1),c.yc(c.jc(2,1,n.fecha_comite_contratacion,"dd/MM/yyyy"))}}function Qn(t,e){1&t&&(c.Xb(0,"td"),c.xc(1,"-"),c.Wb())}var to=function(t,e,n,o){return{death:t,regular:e,bad:n,good:o}},eo=function(t){return["../editar-solicitud/",t]};function no(t,e){if(1&t&&(c.Xb(0,"tr",24),c.Xb(1,"td"),c.xc(2),c.Wb(),c.Xb(3,"td"),c.xc(4),c.ic(5,"global"),c.Wb(),c.Xb(6,"td"),c.xc(7),c.Wb(),c.Xb(8,"td"),c.xc(9),c.ic(10,"date"),c.Wb(),c.Xb(11,"td"),c.xc(12),c.ic(13,"global"),c.Wb(),c.vc(14,Gn,3,4,"td",25),c.vc(15,Zn,2,0,"td",25),c.vc(16,Kn,3,4,"td",25),c.vc(17,Qn,2,0,"td",25),c.Xb(18,"td",2),c.Xb(19,"button",26),c.Tb(20,"i",27),c.Wb(),c.Wb(),c.Wb()),2&t){var n=e.$implicit;c.kc("ngClass",c.pc(20,to,2==n.estado,3==n.estado,4==n.estado,6==n.estado)),c.Hb(2),c.yc(n.id),c.Hb(2),c.yc(c.jc(5,11,n.area_solicitante,"areas_contratacion")),c.Hb(3),c.yc(n.descripcion_solicitud),c.Hb(2),c.yc(c.jc(10,14,n.createdAt,"dd/MM/yyyy")),c.Hb(3),c.yc(c.jc(13,17,n.estado,"estados_solicitud_precontractual")),c.Hb(2),c.kc("ngIf",n.fecha_respuesta),c.Hb(1),c.kc("ngIf",!n.fecha_respuesta),c.Hb(1),c.kc("ngIf",n.fecha_comite_contratacion),c.Hb(1),c.kc("ngIf",!n.fecha_comite_contratacion),c.Hb(2),c.kc("routerLink",c.nc(25,eo,n.id))}}var oo=function(t,e){return{itemsPerPage:t,currentPage:e}};function io(t,e){if(1&t&&(c.Xb(0,"div",15),c.Xb(1,"div",16),c.vc(2,Jn,2,0,"div",17),c.Xb(3,"table",18),c.Xb(4,"thead",19),c.Xb(5,"tr"),c.Xb(6,"th"),c.xc(7,"ID"),c.Wb(),c.Xb(8,"th"),c.xc(9,"\xc1rea solicitante"),c.Wb(),c.Xb(10,"th"),c.xc(11,"Descripci\xf3n de la solicitud"),c.Wb(),c.Xb(12,"th"),c.xc(13,"Fecha solicitud"),c.Wb(),c.Xb(14,"th"),c.xc(15,"Estado"),c.Wb(),c.Xb(16,"th"),c.xc(17,"Fecha respuesta"),c.Wb(),c.Xb(18,"th"),c.xc(19,"Fecha Presentaci\xf3n CC"),c.Wb(),c.Xb(20,"th"),c.xc(21,"Detalle"),c.Wb(),c.Wb(),c.Wb(),c.Xb(22,"tbody",20),c.vc(23,no,21,27,"tr",21),c.ic(24,"paginate"),c.Wb(),c.Wb(),c.Wb(),c.Wb()),2&t){var n=c.hc(2);c.Hb(2),c.kc("ngIf",n.solicitudes&&n.solicitudes.length>n.items_por_pagina),c.Hb(21),c.kc("ngForOf",c.jc(24,2,n.solicitudes,c.oc(5,oo,n.items_por_pagina,n.pagina_actual)))}}function co(t,e){if(1&t&&(c.Xb(0,"div",5),c.Xb(1,"div",6),c.Xb(2,"a",7),c.xc(3,"Regresar"),c.Wb(),c.Wb(),c.vc(4,Yn,3,1,"div",8),c.vc(5,io,25,8,"div",9),c.Xb(6,"div",10),c.Xb(7,"button",11),c.Tb(8,"i",12),c.Wb(),c.Wb(),c.Wb()),2&t){var n=c.hc();c.Hb(4),c.kc("ngIf",n.mensaje_inicial),c.Hb(1),c.kc("ngIf",n.solicitudes)}}var ao,ro=((ao=function(){function t(e){_classCallCheck(this,t),this._precontractual_service=e,this.bandera_inicial=!1,this.items_por_pagina=20;var n=+localStorage.getItem("precontractual_pagina");this.pagina_actual=n||1}return _createClass(t,[{key:"ngOnInit",value:function(){this.obtenerInformacionInicial()}},{key:"cambiarPagina",value:function(t){this.pagina_actual=t,localStorage.setItem("precontractual_pagina",t)}},{key:"obtenerInformacionInicial",value:function(){var t=this;Promise.all([this.obtenerSolicitudesPrecontractualesPorUsuario()]).then((function(e){t.solicitudes=e[0],t.bandera_inicial=!0})).catch((function(e){t.mensaje_inicial=e,t.bandera_inicial=!0}))}},{key:"obtenerSolicitudesProcontractuales",value:function(){var t=this;return new Promise((function(e,n){t._precontractual_service.obtenerSolicitudesActivas().subscribe((function(t){e(t.precontractuales)}),(function(t){n(t)}))}))}},{key:"obtenerSolicitudesPrecontractualesPorUsuario",value:function(){var t=this;return new Promise((function(e,n){t._precontractual_service.obtenerSolicitudesPrecontractualesPorUsuario().subscribe((function(t){e(t.precontractuales)}),(function(t){n(t)}))}))}}]),t}()).\u0275fac=function(t){return new(t||ao)(c.Sb($))},ao.\u0275cmp=c.Mb({type:ao,selectors:[["app-panel-solicitudes"]],decls:2,vars:2,consts:[["class","text-center",4,"ngIf"],["class","col-12 pr-0 pl-0",4,"ngIf"],[1,"text-center"],["role","status",1,"spinner-grow","text-info"],[1,"sr-only"],[1,"col-12","pr-0","pl-0"],[1,"backLink","col","col-sm-12"],["routerLink","../",1,"col-sm-12"],["class","col col-12 mt-2",4,"ngIf"],["class","card-body tableContainer",4,"ngIf"],[1,"col","col-12","text-right"],["routerLink","../nueva-solicitud","type","button","title","Nueva Solicitud",1,"btn","btn-success","btn-circle","btn-lg"],[1,"fa","fa-plus"],[1,"col","col-12","mt-2"],["role","alert",1,"alert","alert-warning"],[1,"card-body","tableContainer"],[1,"table-responsive","tableContainerAll"],["class","paginationControls",4,"ngIf"],[1,"table","table-bordered"],[1,"thead_styles"],[1,"tbody_styles"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"paginationControls"],["previousLabel","Anterior","nextLabel","Siguiente","maxSize","4",3,"pageChange"],[3,"ngClass"],[4,"ngIf"],["type","button","title","Ver M\xe1s",1,"btn","btn-info","btn-circle","btn-sm","d-inline-block",3,"routerLink"],[1,"fa","fa-eye"]],template:function(t,e){1&t&&(c.vc(0,Vn,4,0,"div",0),c.vc(1,co,9,2,"div",1)),2&t&&(c.kc("ngIf",!e.bandera_inicial),c.Hb(1),c.kc("ngIf",e.bandera_inicial))},directives:[o.l,M.f,M.e,o.k,w,o.j],pipes:[_,J,o.d],encapsulation:2}),ao),so=n("Fe25");function lo(t,e){if(1&t&&c.Tb(0,"app-card",1),2&t){var n=c.hc();c.kc("elementos_tarjeta",n.elementos_tarjeta)}}var uo,bo=((uo=function(){function t(e){_classCallCheck(this,t),this._user_service=e,this.elementos_tarjeta=[{titulo:"Solicitudes",descripcion:"Prueba de la descripci\xf3n",enlace:"panel-solicitudes"},{titulo:"Jur\xeddica",descripcion:"Prueba de la descripci\xf3n",enlace:"panel-juridica"},{titulo:"Financiera",descripcion:"Prueba de la descripci\xf3n",enlace:"panel-financiera"}]}return _createClass(t,[{key:"ngOnInit",value:function(){this.validarPermisos()}},{key:"validarPermisos",value:function(){var t=this,e=this._user_service.obtenerPermisosUsuario(),n=[];e.forEach((function(e){"CON_SOLICITUDES"==e.cn&&n.push(t.elementos_tarjeta[0]),"CON_JURIDICA"==e.cn&&n.push(t.elementos_tarjeta[1]),"CON_FINANCIERA"==e.cn&&n.push(t.elementos_tarjeta[2])})),this.elementos_tarjeta=n}}]),t}()).\u0275fac=function(t){return new(t||uo)(c.Sb(z.e))},uo.\u0275cmp=c.Mb({type:uo,selectors:[["app-precontractual"]],decls:1,vars:1,consts:[[3,"elementos_tarjeta",4,"ngIf"],[3,"elementos_tarjeta"]],template:function(t,e){1&t&&c.vc(0,lo,1,1,"app-card",0),2&t&&c.kc("ngIf",e.elementos_tarjeta)},directives:[o.l,so.a],encapsulation:2}),uo),fo=n("JcrP");function po(t,e){1&t&&(c.Xb(0,"div",12),c.Xb(1,"div",13),c.Xb(2,"small",16),c.xc(3,"Resolviendo..."),c.Wb(),c.Wb(),c.Wb())}function mo(t,e){if(1&t){var n=c.Yb();c.Vb(0),c.Xb(1,"div",9),c.Xb(2,"p"),c.Xb(3,"b"),c.xc(4,"Para realizar el cargue masivo de contratistas debe subir un archivo de excel con los siguientes indices o cabeceras en la primera fila del documento:"),c.Wb(),c.Wb(),c.Xb(5,"ul"),c.Xb(6,"li"),c.xc(7,"TipoDocumento"),c.Wb(),c.Xb(8,"li"),c.xc(9,"NroDocumento"),c.Wb(),c.Xb(10,"li"),c.xc(11,"PrimerNombre"),c.Wb(),c.Xb(12,"li"),c.xc(13,"PrimerApellido"),c.Wb(),c.Xb(14,"li"),c.xc(15,"FechaNacimiento"),c.Wb(),c.Xb(16,"li"),c.xc(17,"Sexo"),c.Wb(),c.Xb(18,"li"),c.xc(19,"CodigoVacuna"),c.Wb(),c.Xb(20,"li"),c.xc(21,"NroDosis"),c.Wb(),c.Xb(22,"li"),c.xc(23,"TipoEsquema"),c.Wb(),c.Xb(24,"li"),c.xc(25,"CodigoEstrategia"),c.Wb(),c.Xb(26,"li"),c.xc(27,"FechaAplicacion"),c.Wb(),c.Xb(28,"li"),c.xc(29,"CorreoElectronico"),c.Wb(),c.Wb(),c.Wb(),c.Xb(30,"div",10),c.Xb(31,"input",11),c.fc("change",(function(t){return c.sc(n),c.hc().agregarArchivo(t)})),c.Wb(),c.Wb(),c.Xb(32,"div",12),c.Xb(33,"div",13),c.Xb(34,"input",14),c.fc("click",(function(){return c.sc(n),c.hc().registrarDatos()})),c.Wb(),c.Wb(),c.Wb(),c.vc(35,po,4,0,"div",15),c.Ub()}if(2&t){var o=c.hc();c.Hb(34),c.kc("disabled",!o.datos_vacunacion||0==o.datos_vacunacion.length),c.Hb(1),c.kc("ngIf",o.preloader_status)}}function go(t,e){if(1&t&&(c.Xb(0,"div",17),c.Xb(1,"div",18),c.xc(2),c.Wb(),c.Wb()),2&t){var n=c.hc();c.Hb(2),c.zc(" ",n.mensaje_respuesta," ")}}var vo,ho=((vo=function(){function t(e,n){_classCallCheck(this,t),this._export_service=e,this._vacunacion_service=n}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.iniciarSesionWebService().then((function(e){t.token_sesion=e,t.bandera_inicial=!0})).catch((function(e){t.mensaje_respuesta=e}))}},{key:"agregarArchivo",value:function(t){var e=this,n=t.target.files[0],o=new FileReader;o.readAsArrayBuffer(n),o.onload=function(t){var n;n=o.result;for(var i=new Uint8Array(n),c=new Array,a=0;a!==i.length;a++)c[a]=String.fromCharCode(i[a]);var r=c.join(""),s=fo.a(r,{type:"binary"}),l=fo.b.sheet_to_json(s.Sheets[s.SheetNames[0]],{raw:!0}),u=e.obtenerLlaves(l[0]),d=!1;if(u.forEach((function(t){d="TipoDocumento"===t.key||"NroDocumento"===t.key||"PrimerNombre"===t.key||"PrimerApellido"===t.key||"FechaNacimiento"===t.key||"Sexo"===t.key||"CodigoVacuna"===t.key||"NroDosis"===t.key||"TipoEsquema"===t.key||"CodigoEstrategia"===t.key||"FechaAplicacion"===t.key||"CorreoElectronico"===t.key})),d){var b=l;b.forEach((function(t){for(var e in t)t.hasOwnProperty(e)&&(""!=t[e]&&"null"!==t[e]&&"NULL"!==t[e]||(t[e]=null)),t.CodigoInstitucion="110013029645"})),e.datos_vacunacion=b}else e.mensaje_respuesta="Debe cargar el archivo con los \xedndices correctos"}}},{key:"esperarRespuestasWebService",value:function(){var t=this,e=[];return new Promise((function(n){var o=0,i=0,c=setInterval((function(){t.promesaRegistrarDatos(t.datos_vacunacion[o]).then((function(a){e.push(a),t.datos_vacunacion.length==e.length&&(clearInterval(c),n(e)),100==i&&t.iniciarSesionWebService().then((function(e){t.token_sesion=e,i=0})),o++,i++}))}),500)}))}},{key:"exportAsXLSX",value:function(t){var e=t;e.unshift({documento:"N\xdaMERO DE DOCUMENTO",idSolicitudCambio:"ID DE LA SOLICITUD",estado:"ESTADO DE LA SOLICITUD",mensaje:"MENSAJE"}),this._export_service.exportToExcelPlans(e,"Resultados WebService_")}},{key:"iniciarSesionWebService",value:function(){var t=this;return new Promise((function(e,n){t._vacunacion_service.iniciarSesionWebService().subscribe((function(t){e(t.token)}),(function(t){n("No se ha podido iniciar sesi\xf3n en el web service para poder hacer el cargue de la informaci\xf3n")}))}))}},{key:"obtenerLlaves",value:function(t){return Object.keys(t).map((function(e){return{key:e,value:t[e]}}))}},{key:"registrarDatos",value:function(){var t=this;this.preloader_status=!0,this.esperarRespuestasWebService().then((function(e){t.exportAsXLSX(e),t.preloader_status=!1,console.log(e)}))}},{key:"promesaRegistrarDatos",value:function(t){var e=this;return new Promise((function(n){e._vacunacion_service.guardarDatosWebService(t,e.token_sesion).subscribe((function(e){n({documento:t.NroDocumento,idSolicitudCambio:e.idSolicitudCambio,estado:e.mensaje[0],mensaje:e.mensaje[1]})}),(function(o){var i={documento:t.NroDocumento,idSolicitudCambio:"ERROR",estado:"ERROR",mensaje:"ERROR"};401==o.status?e.iniciarSesionWebService().then((function(t){e.token_sesion=t})):n(i)}))}))}}]),t}()).\u0275fac=function(t){return new(t||vo)(c.Sb(z.a),c.Sb(Y))},vo.\u0275cmp=c.Mb({type:vo,selectors:[["app-vacunacion"]],decls:10,vars:2,consts:[[1,"row"],[1,"col-sm-12"],[1,"card","border-0"],[1,"card-body","cardContainer"],[1,"formContainer"],[1,"backLink","col","col-12","d-inline-block"],["routerLink","..",1,"col-sm-6"],[4,"ngIf"],["class","col col-12 mt-2",4,"ngIf"],[1,"infoParagraph","col","col-12"],[1,"col","col-sm-12","form-group","text-left"],["type","file","placeholder","upload file","accept",".csv,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",1,"inputForm","d-inline-block",3,"change"],[1,"form-group",2,"margin-top","1rem"],[1,"col","col-sm-12","buttonSubmit"],["type","submit","value","Registrar Informaci\xf3n",1,"btn","btn-success","btnPrefer","col-sm-12",3,"disabled","click"],["class","form-group","style","margin-top: 1rem",4,"ngIf"],[1,"warning-feedback"],[1,"col","col-12","mt-2"],["role","alert",1,"alert","alert-warning"]],template:function(t,e){1&t&&(c.Xb(0,"div",0),c.Xb(1,"div",1),c.Xb(2,"div",2),c.Xb(3,"div",3),c.Xb(4,"div",4),c.Xb(5,"div",5),c.Xb(6,"a",6),c.xc(7,"Regresar"),c.Wb(),c.Wb(),c.vc(8,mo,36,2,"ng-container",7),c.vc(9,go,3,1,"div",8),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb()),2&t&&(c.Hb(8),c.kc("ngIf",e.bandera_inicial),c.Hb(1),c.kc("ngIf",e.mensaje_respuesta))},directives:[M.f,o.l],encapsulation:2}),vo);function _o(t,e){1&t&&(c.Xb(0,"div",3),c.Xb(1,"div",4),c.Xb(2,"span",5),c.xc(3,"Loading..."),c.Wb(),c.Wb(),c.Wb())}function Wo(t,e){if(1&t&&(c.Xb(0,"div",14),c.Xb(1,"div",15),c.xc(2),c.Wb(),c.Wb()),2&t){var n=c.hc(2);c.Hb(2),c.zc(" ",n.mensaje_inicial," ")}}function Xo(t,e){1&t&&(c.Xb(0,"span",26),c.xc(1,"*"),c.Wb())}function yo(t,e){if(1&t){var n=c.Yb();c.Vb(0),c.Xb(1,"button",27),c.fc("click",(function(){c.sc(n);var t=c.hc(2).$implicit,e=c.hc(3);return e._precontractual_functions_services.descargarDocumento(e._precontractual_functions_services.validarDocumento(e.solicitud,t.id))})),c.Tb(2,"i",28),c.Wb(),c.Ub()}}function ko(t,e){1&t&&c.Tb(0,"i",31)}function xo(t,e){1&t&&c.xc(0,"-")}function Co(t,e){if(1&t&&(c.vc(0,ko,1,0,"i",29),c.vc(1,xo,1,0,"ng-template",null,30,c.wc)),2&t){var n=c.rc(2),o=c.hc(2).$implicit;c.kc("ngIf",o.required)("ngIfElse",n)}}function Io(t,e){if(1&t&&(c.Xb(0,"tr"),c.Xb(1,"td"),c.xc(2),c.vc(3,Xo,2,0,"span",23),c.Wb(),c.Xb(4,"td"),c.vc(5,yo,3,0,"ng-container",24),c.vc(6,Co,3,2,"ng-template",null,25,c.wc),c.Wb(),c.Wb()),2&t){var n=c.rc(7),o=c.hc().$implicit,i=c.hc(3);c.Hb(2),c.yc(o.value),c.Hb(1),c.kc("ngIf",o.required),c.Hb(2),c.kc("ngIf",i._precontractual_functions_services.validarDocumento(i.solicitud,o.id,!0))("ngIfElse",n)}}function Ho(t,e){if(1&t&&(c.Vb(0),c.vc(1,Io,8,4,"tr",22),c.Ub()),2&t){var n=e.$implicit;c.Hb(1),c.kc("ngIf",n.id>=36&&n.id<=43)}}function Po(t,e){if(1&t&&(c.Xb(0,"div",16),c.Xb(1,"div",17),c.Xb(2,"table",18),c.Xb(3,"thead",19),c.Xb(4,"tr"),c.Xb(5,"th"),c.xc(6,"Documento Adjunto"),c.Wb(),c.Xb(7,"th"),c.xc(8,"Acciones"),c.Wb(),c.Wb(),c.Wb(),c.Xb(9,"tbody",20),c.vc(10,Ho,2,1,"ng-container",21),c.Wb(),c.Wb(),c.Wb(),c.Wb()),2&t){var n=c.hc(2);c.Hb(10),c.kc("ngForOf",n.global.tipos_documentos)}}function wo(t,e){if(1&t&&(c.Xb(0,"div",6),c.Xb(1,"div",7),c.Xb(2,"a",8),c.xc(3,"Regresar"),c.Wb(),c.Wb(),c.vc(4,Wo,3,1,"div",9),c.vc(5,Po,11,1,"div",10),c.Xb(6,"div",11),c.Xb(7,"button",12),c.Tb(8,"i",13),c.Wb(),c.Wb(),c.Wb()),2&t){var n=c.hc();c.Hb(4),c.kc("ngIf",n.mensaje_inicial),c.Hb(1),c.kc("ngIf",n.solicitud),c.Hb(2),c.Ib("data-target","#agregarDocumentoModal")}}function Do(t,e){if(1&t&&(c.Xb(0,"option",51),c.xc(1),c.Wb()),2&t){var n=c.hc().$implicit;c.lc("value",n.id),c.Hb(1),c.yc(n.value)}}function So(t,e){if(1&t&&(c.Vb(0),c.vc(1,Do,2,2,"option",50),c.Ub()),2&t){var n=e.$implicit;c.Hb(1),c.kc("ngIf",n.id>=36&&n.id<=43)}}function jo(t,e){if(1&t){var n=c.Yb();c.Xb(0,"div",32),c.Xb(1,"div",33),c.Xb(2,"div",34),c.Xb(3,"form",35,36),c.fc("ngSubmit",(function(){c.sc(n);var t=c.hc();return t.cargarDocumentoRequerido(t.documento_a_cargar,t.documentacion.id_documento)})),c.Xb(5,"div",37),c.Xb(6,"h4",38),c.xc(7,"Agregar Documento a la Solicitud"),c.Wb(),c.Xb(8,"button",39),c.xc(9,"\xd7"),c.Wb(),c.Wb(),c.Xb(10,"div",40),c.Xb(11,"div",41),c.Xb(12,"div",42),c.Xb(13,"label",43),c.xc(14,"Seleccione el documento"),c.Xb(15,"span",26),c.xc(16,"*"),c.Wb(),c.Wb(),c.Xb(17,"select",44),c.fc("ngModelChange",(function(t){return c.sc(n),c.hc().documentacion.id_documento=t})),c.vc(18,So,2,1,"ng-container",21),c.Wb(),c.Wb(),c.Wb(),c.Xb(19,"div",41),c.Xb(20,"div",42),c.Xb(21,"label",43),c.xc(22,"Documento adjunto"),c.Xb(23,"span",26),c.xc(24,"*"),c.Wb(),c.Wb(),c.Xb(25,"input",45),c.fc("change",(function(t){return c.sc(n),c.hc().documento_a_cargar=t.target.files[0]})),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(26,"div",46),c.Xb(27,"div",47),c.Xb(28,"button",48),c.fc("click",(function(){c.sc(n);var t=c.hc();return t.cargarDocumentoRequerido(t.documento_a_cargar,t.documentacion.id_documento)})),c.Tb(29,"i",28),c.xc(30," Adjuntar Documento"),c.Wb(),c.Xb(31,"button",49),c.fc("click",(function(){return c.sc(n),c.hc().configurarInformacionInicial()})),c.xc(32,"Cancelar"),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb()}if(2&t){var o=c.rc(4),i=c.hc();c.Hb(17),c.kc("ngModel",i.documentacion.id_documento),c.Hb(1),c.kc("ngForOf",i.global.tipos_documentos),c.Hb(10),c.kc("disabled",o.invalid||!i.documento_a_cargar)}}var Fo,Mo,Ao,Lo,Oo,Eo=((Lo=function(){function t(e,n,o,i,c){_classCallCheck(this,t),this._documentacion_service=e,this._file_upload_service=n,this._precontractual_functions_services=o,this._route=i,this._router=c,this.global=z.f}return _createClass(t,[{key:"ngOnInit",value:function(){this.obtenerInformacionInicial()}},{key:"cargarDocumentoRequerido",value:function(t,e){var n=this;if(this.solicitud.documentos&&this.solicitud.documentos.length>0){var o=!1,i=null;if(this.solicitud.documentos.forEach((function(t){t.id_documento==e&&(o=!0,i=t.id)})),o&&t)return void this._file_upload_service.cargarArchivo(t,"contratacion").then((function(t){"success"==t.status&&(n.documentacion.id=i,n.documentacion.documento=t.nombre_archivo,n.documentacion.id_documento=e,n._documentacion_service.actualizarDocumentoAdjunto(n.documentacion).subscribe((function(t){O.a.fire({position:"center",icon:"success",title:t.message,showConfirmButton:!0}),n._precontractual_functions_services.obtenerSolicitud(n.solicitud.id).then((function(t){n.solicitud=t}))})))})).catch((function(t){console.log(t)}))}this._file_upload_service.cargarArchivo(t,"contratacion").then((function(t){"success"==t.status&&(n.documentacion.documento=t.nombre_archivo,n.documentacion.id_documento=e,n._documentacion_service.crearDocumentoAdjunto(n.documentacion).subscribe((function(t){O.a.fire({position:"center",icon:"success",title:t.message,showConfirmButton:!0}),n._precontractual_functions_services.obtenerSolicitud(n.solicitud.id).then((function(t){n.solicitud=t}))})))})).catch((function(t){console.log(t)}))}},{key:"configurarInformacionInicial",value:function(){this.documentacion=new E(null,this.solicitud.id,null,null,3,1,null,null,null)}},{key:"obtenerInformacionInicial",value:function(){var t=this;this._route.params.subscribe((function(e){t.solicitud_id=e.id,Promise.all([t._precontractual_functions_services.obtenerSolicitud(t.solicitud_id)]).then((function(e){t.solicitud=e[0],t.configurarInformacionInicial(),7!=t.solicitud.estado&&(O.a.fire({position:"center",icon:"warning",title:"La solicitud no se ha finalizado y no puede agregar los documentos postcontractuales",showConfirmButton:!0}),t._router.navigate(["contratacion/precontractual/panel-juridica"])),t.bandera_inicial=!0})).catch((function(e){t.mensaje_inicial=e,t.bandera_inicial=!0}))}))}}]),t}()).\u0275fac=function(t){return new(t||Lo)(c.Sb(U),c.Sb(z.b),c.Sb(B),c.Sb(M.a),c.Sb(M.d))},Lo.\u0275cmp=c.Mb({type:Lo,selectors:[["app-poscontractual"]],decls:3,vars:3,consts:[["class","text-center",4,"ngIf"],["class","col-12 pr-0 pl-0",4,"ngIf"],["class","modal animated fadeIn faster","id","agregarDocumentoModal",4,"ngIf"],[1,"text-center"],["role","status",1,"spinner-grow","text-info"],[1,"sr-only"],[1,"col-12","pr-0","pl-0"],[1,"backLink","col","col-sm-12"],["routerLink","../../panel-juridica",1,"col-sm-12"],["class","col col-12 mt-2",4,"ngIf"],["class","tableContainer",4,"ngIf"],[1,"col","col-12","text-right"],["type","button","data-toggle","modal","title","Agregar Documento",1,"btn","btn-info","btn-circle","btn-lg"],[1,"fa","fa-upload"],[1,"col","col-12","mt-2"],["role","alert",1,"alert","alert-warning"],[1,"tableContainer"],[1,"table-responsive","tableContainerAll"],[1,"table","table-bordered"],[1,"thead_styles"],[1,"tbody_styles"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","required",4,"ngIf"],[4,"ngIf","ngIfElse"],["elseDocumento",""],[1,"required"],["type","button","title","Descargar Documento",1,"btn","btn-success","btn-circle","btn-sm",3,"click"],[1,"fa","fa-check"],["class","fa fa-times","style","color: red; font-size: 1rem",4,"ngIf","ngIfElse"],["elseValidarDocumento",""],[1,"fa","fa-times",2,"color","red","font-size","1rem"],["id","agregarDocumentoModal",1,"modal","animated","fadeIn","faster"],[1,"modal-dialog"],[1,"modal-content"],[1,"form-container",3,"ngSubmit"],["agregarDocumentoForm","ngForm"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close"],[1,"modal-body"],[1,"form-group"],[1,"col","col-sm-12"],["for","descripcion",1,"control-label","labelForm"],["id","estado_documento","name","estado_documento",1,"form-control","inputForm","custom-select",3,"ngModel","ngModelChange"],["type","file","id","documento_2","accept","application/pdf","required","",1,"form-control","inputForm","mt-2",3,"change"],[1,"modal-footer"],[1,"col","col-sm-12","text-right"],["type","submit","data-dismiss","modal",1,"btn","btn-success",3,"disabled","click"],["type","button","data-dismiss","modal",1,"btn","btn-inverse","ml-2",3,"click"],[3,"value",4,"ngIf"],[3,"value"]],template:function(t,e){1&t&&(c.vc(0,_o,4,0,"div",0),c.vc(1,wo,9,3,"div",1),c.vc(2,jo,33,3,"div",2)),2&t&&(c.kc("ngIf",!e.bandera_inicial),c.Hb(1),c.kc("ngIf",e.bandera_inicial),c.Hb(1),c.kc("ngIf",e.documentacion))},directives:[o.l,M.f,o.k,i.o,i.f,i.g,i.m,i.e,i.h,i.i,i.n],encapsulation:2}),Lo),Ro=((Ao=function(){function t(e,n){_classCallCheck(this,t),this._user_service=e,this.router=n}return _createClass(t,[{key:"canActivate",value:function(){var t=this._user_service.obtenerPermisosUsuario();if(t){for(var e=0;e<t.length;e++)if("CON_FINANCIERA"==t[e].cn)return!0;return this.router.navigate(["/contratacion"]),!1}return this.router.navigate(["/contratacion"]),!1}}]),t}()).\u0275fac=function(t){return new(t||Ao)(c.bc(z.e),c.bc(M.d))},Ao.\u0275prov=c.Ob({token:Ao,factory:Ao.\u0275fac,providedIn:"root"}),Ao),To=((Mo=function(){function t(e,n){_classCallCheck(this,t),this._user_service=e,this.router=n}return _createClass(t,[{key:"canActivate",value:function(){var t=this._user_service.obtenerPermisosUsuario();if(t){for(var e=0;e<t.length;e++)if("CON_JURIDICA"==t[e].cn)return!0;return this.router.navigate(["/contratacion"]),!1}return this.router.navigate(["/contratacion"]),!1}}]),t}()).\u0275fac=function(t){return new(t||Mo)(c.bc(z.e),c.bc(M.d))},Mo.\u0275prov=c.Ob({token:Mo,factory:Mo.\u0275fac,providedIn:"root"}),Mo),qo=((Fo=function(){function t(e,n){_classCallCheck(this,t),this._user_service=e,this.router=n}return _createClass(t,[{key:"canActivate",value:function(){var t=this._user_service.obtenerPermisosUsuario();if(t){for(var e=0;e<t.length;e++)if("CON_SOLICITUDES"==t[e].cn)return!0;return this.router.navigate(["/contratacion"]),!1}return this.router.navigate(["/contratacion"]),!1}}]),t}()).\u0275fac=function(t){return new(t||Fo)(c.bc(z.e),c.bc(M.d))},Fo.\u0275prov=c.Ob({token:Fo,factory:Fo.\u0275fac,providedIn:"root"}),Fo),zo=[{path:"",component:bo,data:{titulo:"Contrataci\xf3n Precontractual"}},{path:"panel-solicitudes",component:ro,data:{titulo:"Contrataci\xf3n Precontractual - Panel Solicitud"},canActivate:[qo]},{path:"nueva-solicitud",component:vn,data:{titulo:"Contrataci\xf3n Precontractual - Crear"},canActivate:[qo]},{path:"editar-solicitud/:id",component:Je,data:{titulo:"Contrataci\xf3n Precontractual - Editar"},canActivate:[qo]},{path:"panel-juridica",component:Mn,data:{titulo:"Contrataci\xf3n Precontractual - Panel Jur\xeddica"},canActivate:[To]},{path:"aprobacion-juridica/:id",component:Jt,data:{titulo:"Contrataci\xf3n Precontractual - Aprobaci\xf3n Jur\xeddica"},canActivate:[To]},{path:"vacunacion",component:ho,data:{titulo:"Vacunaci\xf3n Ministerio"},canActivate:[To]},{path:"panel-financiera",component:Bn,data:{titulo:"Contrataci\xf3n Precontractual - Panel Presupuesto"},canActivate:[Ro]},{path:"aprobacion-financiera/:id",component:oe,data:{titulo:"Contrataci\xf3n Precontractual - Aprobaci\xf3n Presupuesto"},canActivate:[Ro]},{path:"documentacion-postcontractual/:id",component:Eo,data:{titulo:"Contrataci\xf3n Precontractual - Documentaci\xf3n Postcontractual"},canActivate:[Ro]}],No=((Oo=_createClass((function t(){_classCallCheck(this,t)}))).\u0275mod=c.Qb({type:Oo}),Oo.\u0275inj=c.Pb({factory:function(t){return new(t||Oo)},imports:[[M.g.forChild(zo)],M.g]}),Oo),Uo=n("iTUp"),$o=n("PCNd");n.d(e,"PrecontractualModule",(function(){return Vo}));var Bo,Vo=((Bo=_createClass((function t(){_classCallCheck(this,t)}))).\u0275mod=c.Qb({type:Bo}),Bo.\u0275inj=c.Pb({factory:function(t){return new(t||Bo)},imports:[[o.b,F,No,i.b,Uo.a,$o.a]]}),Bo)}}]);