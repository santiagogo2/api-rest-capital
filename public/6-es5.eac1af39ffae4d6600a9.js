function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"2sxy":function(t,e,n){"use strict";n.r(e);var i=n("ofXK"),c=n("s7LF"),o=n("fXoL");function a(t,e){if(1&t){var n=o.Yb();o.Xb(0,"a",11),o.fc("keyup.enter",(function(){return o.sc(n),o.hc(3),o.rc(1).previous()}))("click",(function(){return o.sc(n),o.hc(3),o.rc(1).previous()})),o.xc(1),o.Xb(2,"span",12),o.xc(3),o.Wb(),o.Wb()}if(2&t){var i=o.hc(3);o.Ib("aria-label",i.previousLabel+" "+i.screenReaderPageLabel),o.Hb(1),o.zc(" ",i.previousLabel," "),o.Hb(2),o.yc(i.screenReaderPageLabel)}}function r(t,e){if(1&t&&(o.Xb(0,"span"),o.xc(1),o.Xb(2,"span",12),o.xc(3),o.Wb(),o.Wb()),2&t){var n=o.hc(3);o.Hb(1),o.zc(" ",n.previousLabel," "),o.Hb(2),o.yc(n.screenReaderPageLabel)}}function l(t,e){if(1&t&&(o.Xb(0,"li",8),o.vc(1,a,4,3,"a",9),o.vc(2,r,4,2,"span",10),o.Wb()),2&t){o.hc(2);var n=o.rc(1);o.Kb("disabled",n.isFirstPage()),o.Hb(1),o.kc("ngIf",1<n.getCurrent()),o.Hb(1),o.kc("ngIf",n.isFirstPage())}}function s(t,e){if(1&t){var n=o.Yb();o.Xb(0,"a",11),o.fc("keyup.enter",(function(){o.sc(n);var t=o.hc().$implicit;return o.hc(2),o.rc(1).setCurrent(t.value)}))("click",(function(){o.sc(n);var t=o.hc().$implicit;return o.hc(2),o.rc(1).setCurrent(t.value)})),o.Xb(1,"span",12),o.xc(2),o.Wb(),o.Xb(3,"span"),o.xc(4),o.ic(5,"number"),o.Wb(),o.Wb()}if(2&t){var i=o.hc().$implicit,c=o.hc(2);o.Hb(2),o.zc("",c.screenReaderPageLabel," "),o.Hb(2),o.yc("..."===i.label?i.label:o.jc(5,2,i.label,""))}}function u(t,e){if(1&t&&(o.Vb(0),o.Xb(1,"span",12),o.xc(2),o.Wb(),o.Xb(3,"span"),o.xc(4),o.ic(5,"number"),o.Wb(),o.Ub()),2&t){var n=o.hc().$implicit,i=o.hc(2);o.Hb(2),o.zc("",i.screenReaderCurrentLabel," "),o.Hb(2),o.yc("..."===n.label?n.label:o.jc(5,2,n.label,""))}}function b(t,e){if(1&t&&(o.Xb(0,"li"),o.vc(1,s,6,5,"a",9),o.vc(2,u,6,5,"ng-container",10),o.Wb()),2&t){var n=e.$implicit;o.hc(2);var i=o.rc(1);o.Kb("current",i.getCurrent()===n.value)("ellipsis","..."===n.label),o.Hb(1),o.kc("ngIf",i.getCurrent()!==n.value),o.Hb(1),o.kc("ngIf",i.getCurrent()===n.value)}}function d(t,e){if(1&t){var n=o.Yb();o.Xb(0,"a",11),o.fc("keyup.enter",(function(){return o.sc(n),o.hc(3),o.rc(1).next()}))("click",(function(){return o.sc(n),o.hc(3),o.rc(1).next()})),o.xc(1),o.Xb(2,"span",12),o.xc(3),o.Wb(),o.Wb()}if(2&t){var i=o.hc(3);o.Ib("aria-label",i.nextLabel+" "+i.screenReaderPageLabel),o.Hb(1),o.zc(" ",i.nextLabel," "),o.Hb(2),o.yc(i.screenReaderPageLabel)}}function f(t,e){if(1&t&&(o.Xb(0,"span"),o.xc(1),o.Xb(2,"span",12),o.xc(3),o.Wb(),o.Wb()),2&t){var n=o.hc(3);o.Hb(1),o.zc(" ",n.nextLabel," "),o.Hb(2),o.yc(n.screenReaderPageLabel)}}function p(t,e){if(1&t&&(o.Xb(0,"li",13),o.vc(1,d,4,3,"a",9),o.vc(2,f,4,2,"span",10),o.Wb()),2&t){o.hc(2);var n=o.rc(1);o.Kb("disabled",n.isLastPage()),o.Hb(1),o.kc("ngIf",!n.isLastPage()),o.Hb(1),o.kc("ngIf",n.isLastPage())}}function g(t,e){if(1&t&&(o.Xb(0,"ul",3),o.vc(1,l,3,4,"li",4),o.Xb(2,"li",5),o.xc(3),o.Wb(),o.vc(4,b,3,6,"li",6),o.vc(5,p,3,4,"li",7),o.Wb()),2&t){var n=o.hc(),i=o.rc(1);o.Kb("responsive",n.responsive),o.Ib("aria-label",n.screenReaderPaginationLabel),o.Hb(1),o.kc("ngIf",n.directionLinks),o.Hb(2),o.Ac(" ",i.getCurrent()," / ",i.getLastPage()," "),o.Hb(1),o.kc("ngForOf",i.pages)("ngForTrackBy",n.trackByIndex),o.Hb(1),o.kc("ngIf",n.directionLinks)}}var m=function(){function t(){this.change=new o.q,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}return t.prototype.defaultId=function(){return this.DEFAULT_ID},t.prototype.register=function(t){return null==t.id&&(t.id=this.DEFAULT_ID),this.instances[t.id]?this.updateInstance(t):(this.instances[t.id]=t,!0)},t.prototype.updateInstance=function(t){var e=!1;for(var n in this.instances[t.id])t[n]!==this.instances[t.id][n]&&(this.instances[t.id][n]=t[n],e=!0);return e},t.prototype.getCurrentPage=function(t){if(this.instances[t])return this.instances[t].currentPage},t.prototype.setCurrentPage=function(t,e){if(this.instances[t]){var n=this.instances[t];e<=Math.ceil(n.totalItems/n.itemsPerPage)&&1<=e&&(this.instances[t].currentPage=e,this.change.emit(t))}},t.prototype.setTotalItems=function(t,e){this.instances[t]&&0<=e&&(this.instances[t].totalItems=e,this.change.emit(t))},t.prototype.setItemsPerPage=function(t,e){this.instances[t]&&(this.instances[t].itemsPerPage=e,this.change.emit(t))},t.prototype.getInstance=function(t){return void 0===t&&(t=this.DEFAULT_ID),this.instances[t]?this.clone(this.instances[t]):{}},t.prototype.clone=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Ob({token:t,factory:function(e){return t.\u0275fac(e)}}),t}(),v=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},h=Number.MAX_SAFE_INTEGER,_=function(){function t(t){this.service=t,this.state={}}return t.prototype.transform=function(t,e){if(!(t instanceof Array)){var n=e.id||this.service.defaultId();return this.state[n]?this.state[n].slice:t}var i,c,o=e.totalItems&&e.totalItems!==t.length,a=this.createInstance(t,e),r=a.id,l=a.itemsPerPage,s=this.service.register(a);if(!o&&t instanceof Array){if(this.stateIsIdentical(r,t,i=(a.currentPage-1)*(l=+l||h),c=i+l))return this.state[r].slice;var u=t.slice(i,c);return this.saveState(r,t,u,i,c),this.service.change.emit(r),u}return s&&this.service.change.emit(r),this.saveState(r,t,t,i,c),t},t.prototype.createInstance=function(t,e){return this.checkConfig(e),{id:null!=e.id?e.id:this.service.defaultId(),itemsPerPage:+e.itemsPerPage||0,currentPage:+e.currentPage||1,totalItems:+e.totalItems||t.length}},t.prototype.checkConfig=function(t){var e=["itemsPerPage","currentPage"].filter((function(e){return!(e in t)}));if(0<e.length)throw new Error("PaginatePipe: Argument is missing the following required properties: "+e.join(", "))},t.prototype.saveState=function(t,e,n,i,c){this.state[t]={collection:e,size:e.length,slice:n,start:i,end:c}},t.prototype.stateIsIdentical=function(t,e,n,i){var c=this.state[t];return!!c&&!(c.size!==e.length||c.start!==n||c.end!==i)&&c.slice.every((function(t,i){return t===e[n+i]}))},(t=function(t,e,n,i){var c,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(c=t[r])&&(a=(o<3?c(a):o>3?c(e,n,a):c(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}([v("design:paramtypes",[m])],t)).\u0275fac=function(e){return new(e||t)(o.Sb(m))},t.\u0275pipe=o.Rb({name:"paginate",type:t,pure:!1}),t}(),W=function(t,e,n,i){var c,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(c=t[r])&&(a=(o<3?c(a):o>3?c(e,n,a):c(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},X=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};function k(t){return!!t&&"false"!==t}var y,x,C,I,H,P,D=function(){function t(){this.maxSize=7,this.previousLabel="Previous",this.nextLabel="Next",this.screenReaderPaginationLabel="Pagination",this.screenReaderPageLabel="page",this.screenReaderCurrentLabel="You're on page",this.pageChange=new o.q,this.pageBoundsCorrection=new o.q,this._directionLinks=!0,this._autoHide=!1,this._responsive=!1}return Object.defineProperty(t.prototype,"directionLinks",{get:function(){return this._directionLinks},set:function(t){this._directionLinks=k(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoHide",{get:function(){return this._autoHide},set:function(t){this._autoHide=k(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"responsive",{get:function(){return this._responsive},set:function(t){this._responsive=k(t)},enumerable:!0,configurable:!0}),t.prototype.trackByIndex=function(t){return t},W([Object(o.v)(),X("design:type",String)],t.prototype,"id",void 0),W([Object(o.v)(),X("design:type",Number)],t.prototype,"maxSize",void 0),W([Object(o.v)(),X("design:type",Boolean),X("design:paramtypes",[Boolean])],t.prototype,"directionLinks",null),W([Object(o.v)(),X("design:type",Boolean),X("design:paramtypes",[Boolean])],t.prototype,"autoHide",null),W([Object(o.v)(),X("design:type",Boolean),X("design:paramtypes",[Boolean])],t.prototype,"responsive",null),W([Object(o.v)(),X("design:type",String)],t.prototype,"previousLabel",void 0),W([Object(o.v)(),X("design:type",String)],t.prototype,"nextLabel",void 0),W([Object(o.v)(),X("design:type",String)],t.prototype,"screenReaderPaginationLabel",void 0),W([Object(o.v)(),X("design:type",String)],t.prototype,"screenReaderPageLabel",void 0),W([Object(o.v)(),X("design:type",String)],t.prototype,"screenReaderCurrentLabel",void 0),W([Object(o.G)(),X("design:type",o.q)],t.prototype,"pageChange",void 0),W([Object(o.G)(),X("design:type",o.q)],t.prototype,"pageBoundsCorrection",void 0),t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Mb({type:t,selectors:[["pagination-controls"]],inputs:{maxSize:"maxSize",previousLabel:"previousLabel",nextLabel:"nextLabel",screenReaderPaginationLabel:"screenReaderPaginationLabel",screenReaderPageLabel:"screenReaderPageLabel",screenReaderCurrentLabel:"screenReaderCurrentLabel",directionLinks:"directionLinks",autoHide:"autoHide",responsive:"responsive",id:"id"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},decls:3,vars:3,consts:[[3,"id","maxSize","pageChange","pageBoundsCorrection"],["p","paginationApi"],["class","ngx-pagination",3,"responsive",4,"ngIf"],[1,"ngx-pagination"],["class","pagination-previous",3,"disabled",4,"ngIf"],[1,"small-screen"],[3,"current","ellipsis",4,"ngFor","ngForOf","ngForTrackBy"],["class","pagination-next",3,"disabled",4,"ngIf"],[1,"pagination-previous"],["tabindex","0",3,"keyup.enter","click",4,"ngIf"],[4,"ngIf"],["tabindex","0",3,"keyup.enter","click"],[1,"show-for-sr"],[1,"pagination-next"]],template:function(t,e){if(1&t&&(o.Xb(0,"pagination-template",0,1),o.fc("pageChange",(function(t){return e.pageChange.emit(t)}))("pageBoundsCorrection",(function(t){return e.pageBoundsCorrection.emit(t)})),o.vc(2,g,6,9,"ul",2),o.Wb()),2&t){var n=o.rc(1);o.kc("id",e.id)("maxSize",e.maxSize),o.Hb(2),o.kc("ngIf",!(e.autoHide&&n.pages.length<=1))}},directives:function(){return[F,i.l,i.k]},pipes:function(){return[i.e]},styles:["\n.ngx-pagination {\n  margin-left: 0;\n  margin-bottom: 1rem; }\n  .ngx-pagination::before, .ngx-pagination::after {\n    content: ' ';\n    display: table; }\n  .ngx-pagination::after {\n    clear: both; }\n  .ngx-pagination li {\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    -ms-user-select: none;\n    margin-right: 0.0625rem;\n    border-radius: 0; }\n  .ngx-pagination li {\n    display: inline-block; }\n  .ngx-pagination a,\n  .ngx-pagination button {\n    color: #0a0a0a; \n    display: block;\n    padding: 0.1875rem 0.625rem;\n    border-radius: 0; }\n    .ngx-pagination a:hover,\n    .ngx-pagination button:hover {\n      background: #e6e6e6; }\n  .ngx-pagination .current {\n    padding: 0.1875rem 0.625rem;\n    background: #2199e8;\n    color: #fefefe;\n    cursor: default; }\n  .ngx-pagination .disabled {\n    padding: 0.1875rem 0.625rem;\n    color: #cacaca;\n    cursor: default; } \n    .ngx-pagination .disabled:hover {\n      background: transparent; }\n  .ngx-pagination a, .ngx-pagination button {\n    cursor: pointer; }\n\n.ngx-pagination .pagination-previous a::before,\n.ngx-pagination .pagination-previous.disabled::before { \n  content: '\xab';\n  display: inline-block;\n  margin-right: 0.5rem; }\n\n.ngx-pagination .pagination-next a::after,\n.ngx-pagination .pagination-next.disabled::after {\n  content: '\xbb';\n  display: inline-block;\n  margin-left: 0.5rem; }\n\n.ngx-pagination .show-for-sr {\n  position: absolute !important;\n  width: 1px;\n  height: 1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0); }\n.ngx-pagination .small-screen {\n  display: none; }\n@media screen and (max-width: 601px) {\n  .ngx-pagination.responsive .small-screen {\n    display: inline-block; } \n  .ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next) {\n    display: none; }\n}\n  "],encapsulation:2,changeDetection:0}),t}(),S=function(t,e,n,i){var c,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var r=t.length-1;r>=0;r--)(c=t[r])&&(a=(o<3?c(a):o>3?c(e,n,a):c(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},j=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},F=function(){function t(t,e){var n=this;this.service=t,this.changeDetectorRef=e,this.maxSize=7,this.pageChange=new o.q,this.pageBoundsCorrection=new o.q,this.pages=[],this.changeSub=this.service.change.subscribe((function(t){n.id===t&&(n.updatePageLinks(),n.changeDetectorRef.markForCheck(),n.changeDetectorRef.detectChanges())}))}return t.prototype.ngOnInit=function(){void 0===this.id&&(this.id=this.service.defaultId()),this.updatePageLinks()},t.prototype.ngOnChanges=function(t){this.updatePageLinks()},t.prototype.ngOnDestroy=function(){this.changeSub.unsubscribe()},t.prototype.previous=function(){this.checkValidId(),this.setCurrent(this.getCurrent()-1)},t.prototype.next=function(){this.checkValidId(),this.setCurrent(this.getCurrent()+1)},t.prototype.isFirstPage=function(){return 1===this.getCurrent()},t.prototype.isLastPage=function(){return this.getLastPage()===this.getCurrent()},t.prototype.setCurrent=function(t){this.pageChange.emit(t)},t.prototype.getCurrent=function(){return this.service.getCurrentPage(this.id)},t.prototype.getLastPage=function(){var t=this.service.getInstance(this.id);return t.totalItems<1?1:Math.ceil(t.totalItems/t.itemsPerPage)},t.prototype.getTotalItems=function(){return this.service.getInstance(this.id).totalItems},t.prototype.checkValidId=function(){null==this.service.getInstance(this.id).id&&console.warn('PaginationControlsDirective: the specified id "'+this.id+'" does not match any registered PaginationInstance')},t.prototype.updatePageLinks=function(){var t=this,e=this.service.getInstance(this.id),n=this.outOfBoundCorrection(e);n!==e.currentPage?setTimeout((function(){t.pageBoundsCorrection.emit(n),t.pages=t.createPageArray(e.currentPage,e.itemsPerPage,e.totalItems,t.maxSize)})):this.pages=this.createPageArray(e.currentPage,e.itemsPerPage,e.totalItems,this.maxSize)},t.prototype.outOfBoundCorrection=function(t){var e=Math.ceil(t.totalItems/t.itemsPerPage);return e<t.currentPage&&0<e?e:t.currentPage<1?1:t.currentPage},t.prototype.createPageArray=function(t,e,n,i){i=+i;for(var c=[],o=Math.max(Math.ceil(n/e),1),a=Math.ceil(i/2),r=t<=a,l=o-a<t,s=!r&&!l,u=i<o,b=1;b<=o&&b<=i;){var d=this.calculatePageNumber(b,t,i,o);c.push({label:u&&(2===b&&(s||l)||b===i-1&&(s||r))?"...":d,value:d}),b++}return c},t.prototype.calculatePageNumber=function(t,e,n,i){var c=Math.ceil(n/2);return t===n?i:1===t?t:n<i?i-c<e?i-n+t:c<e?e-c+t:t:t},S([Object(o.v)(),j("design:type",String)],t.prototype,"id",void 0),S([Object(o.v)(),j("design:type",Number)],t.prototype,"maxSize",void 0),S([Object(o.G)(),j("design:type",o.q)],t.prototype,"pageChange",void 0),S([Object(o.G)(),j("design:type",o.q)],t.prototype,"pageBoundsCorrection",void 0),(t=S([j("design:paramtypes",[m,o.i])],t)).\u0275fac=function(e){return new(e||t)(o.Sb(m),o.Sb(o.i))},t.\u0275dir=o.Nb({type:t,selectors:[["pagination-template"],["","pagination-template",""]],inputs:{maxSize:"maxSize",id:"id"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},exportAs:["paginationApi"],features:[o.Fb]}),t}(),M=function(){function t(){}return t.\u0275mod=o.Qb({type:t}),t.\u0275inj=o.Pb({factory:function(e){return new(e||t)},providers:[m],imports:[[i.b]]}),t}(),w=n("iInd"),A=n("PSD3"),L=n.n(A),R=_createClass((function t(e,n,i,c,o,a,r,l,s,u,b){_classCallCheck(this,t),this.id=e,this.precontractual_id=n,this.id_documento=i,this.documento=c,this.etapa_contractual=o,this.fecha_vigencia=a,this.observacion=r,this.estado=l,this.created_by=s,this.createdAt=u,this.updatedAt=b})),O=_createClass((function t(e,n,i,c,o,a,r){_classCallCheck(this,t),this.id=e,this.precontractual_id=n,this.observaciones=i,this.estado=c,this.created_by=o,this.createdAt=a,this.updateddAt=r})),E=_createClass((function t(e,n,i,c,o,a,r,l,s,u,b,d){_classCallCheck(this,t),this.id=e,this.precontractual_id=n,this.descripcion=i,this.documento=c,this.motivo=o,this.tipo_certificado=a,this.estado=r,this.solicitud_precontractual=l,this.documentos=s,this.created_by=u,this.createdAt=b,this.updatedAt=d})),T=_createClass((function t(e,n,i,c,o,a,r,l,s,u,b,d,f,p,g,m,v,h,_,W){_classCallCheck(this,t),this.id=e,this.primer_nombre=n,this.segundo_nombre=i,this.primer_apellido=c,this.segundo_apellido=o,this.correo_electronico=a,this.cargo=r,this.area_solicitante=l,this.descripcion_solicitud=s,this.tipo_contrato=u,this.documento_adjunto=b,this.estado=d,this.fecha_respuesta=f,this.observaciones_juridica=p,this.fecha_comite_contratacion=g,this.documentos=m,this.presupuesto=v,this.created_by=h,this.createdAt=_,this.updatedAt=W})),q=n("K+9L"),z=n("IheW"),N=((P=function(){function t(e){_classCallCheck(this,t),this.http=e,this.url=q.f.url}return _createClass(t,[{key:"actualizarDocumentoAdjunto",value:function(t){return this.http.put(this.url+"contratacion/documentacion/adicional/"+t.id,t)}},{key:"actualizarEstadoDocumentoAdjunto",value:function(t){return this.http.put("".concat(this.url,"contratacion/documentacion/adicional/actualizarEstadoDocumentoAdjunto/").concat(t.id),t)}},{key:"crearDocumentoAdjunto",value:function(t){return this.http.post(this.url+"contratacion/documentacion",t)}}]),t}()).\u0275fac=function(t){return new(t||P)(o.bc(z.b))},P.\u0275prov=o.Ob({token:P,factory:P.\u0275fac,providedIn:"root"}),P),U=((H=function(){function t(e){_classCallCheck(this,t),this.http=e,this.url=q.f.url,this.headers={}}return _createClass(t,[{key:"actualizarEstadoSolicitudPrecontractual",value:function(t,e){return this.http.get("".concat(this.url,"contratacion/precontractual/adicionales/actualizarEstadoSolicitudPrecontractual/").concat(t,"/").concat(e))}},{key:"actualizarSolicitudPrecontractual",value:function(t){return this.http.put(this.url+"contratacion/precontractual/"+t.id,t,this.headers)}},{key:"crearSolicitudPrecontractual",value:function(t){return this.http.post(this.url+"contratacion/precontractual",t,this.headers)}},{key:"eliminarSolicitudPrecontractual",value:function(t){return this.http.delete(this.url+"contratacion/precontractual/"+t,this.headers)}},{key:"obtenerSolicitud",value:function(t){return this.http.get(this.url+"contratacion/precontractual/"+t,this.headers)}},{key:"obtenerSolicitudesActivas",value:function(){return this.http.get(this.url+"contratacion/precontractual/adicionales/obtenerSolicitudesActivas",this.headers)}},{key:"obtenerSolicitudesJuridica",value:function(){return this.http.get(this.url+"contratacion/precontractual/adicionales/obtenerSolicitudesJuridica",this.headers)}},{key:"obtenerSolicitudesPrecontractuales",value:function(){return this.http.get(this.url+"contratacion/precontractual",this.headers)}},{key:"obtenerSolicitudesPrecontractualesPorUsuario",value:function(){return this.http.get(this.url+"contratacion/precontractual/adicionales/obtenerSolicitudesPrecontractualesPorUsuario",this.headers)}}]),t}()).\u0275fac=function(t){return new(t||H)(o.bc(z.b))},H.\u0275prov=o.Ob({token:H,factory:H.\u0275fac,providedIn:"root"}),H),$=((I=function(){function t(e,n){_classCallCheck(this,t),this._file_upload_service=e,this._precontractual_service=n}return _createClass(t,[{key:"descargarDocumento",value:function(t){this._file_upload_service.descargarDocumento(t,"contratacion").subscribe((function(e){window.open("".concat(q.f.url,"upload/contratacion/").concat(t))}))}},{key:"obtenerSolicitud",value:function(t){var e=this;return new Promise((function(n,i){e._precontractual_service.obtenerSolicitud(t).subscribe((function(t){n(t.precontractual)}),(function(t){i(t)}))}))}},{key:"validarDocumento",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t.documentos&&t.documentos.length>0){var i=null;if(t.documentos.forEach((function(t){t.id_documento==e&&(i=t.documento)})),i)return!!n||i}return!n&&""}},{key:"validarEstadoDocumento",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=!0,c=null;return t&&t.length>0&&t.forEach((function(t){t.id_documento==e&&(c=t.estado,3==t.estado&&(i=!1))})),n?c:i}}]),t}()).\u0275fac=function(t){return new(t||I)(o.bc(q.b),o.bc(U))},I.\u0275prov=o.Ob({token:I,factory:I.\u0275fac,providedIn:"root"}),I),B=((C=function(){function t(e){_classCallCheck(this,t),this.http=e,this.url=q.f.url}return _createClass(t,[{key:"actualizarSolicitudPresupuestal",value:function(t){return this.http.put("".concat(this.url,"contratacion/presupuesto/").concat(t.id),t)}},{key:"crearCDPCRPPresupuesto",value:function(t){return this.http.post("".concat(this.url,"contratacion/presupuesto"),t)}},{key:"obtenerSolicitudesActivas",value:function(){return this.http.get("".concat(this.url,"contratacion/presupuesto/adicionales/obtenerSolicitudesActivas"))}},{key:"obtenerSolicitudPresupuesto",value:function(t){return this.http.get("".concat(this.url,"contratacion/presupuesto/").concat(t))}}]),t}()).\u0275fac=function(t){return new(t||C)(o.bc(z.b))},C.\u0275prov=o.Ob({token:C,factory:C.\u0275fac,providedIn:"root"}),C),V=((x=function(){function t(e){_classCallCheck(this,t),this.http=e,this.url=q.f.url,this.url_login="https://paiwebapi.paiweb.gov.co/api/login",this.url_service="https://paiwebws.paiweb.gov.co:8082",this.headers={}}return _createClass(t,[{key:"iniciarSesionWebService",value:function(){return this.http.post(this.url_login,{tipoIdentificacion:"CC",Identificacion:"1193533679",Password:"Laura291218."})}},{key:"guardarDatosWebService",value:function(t,e){var n=(new z.d).set("Authorization","Bearer ".concat(e));return t.NroDocumento=t.NroDocumento.toString(),this.http.post("/api/interop/RegSolicitudCambioEstrategia",t,{headers:n})}},{key:"guardarLogWebService",value:function(t){return this.http.post("".concat(this.url,"usuarios/vacunacion/webservice"),t)}}]),t}()).\u0275fac=function(t){return new(t||x)(o.bc(z.b))},x.\u0275prov=o.Ob({token:x,factory:x.\u0275fac,providedIn:"root"}),x),Y=((y=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"transform",value:function(t,e){var n="-";return t?(q.f[e].forEach((function(e){e.id==t&&(e.name||e.value)&&(e.name&&(n=e.name),e.value&&(n=e.value))})),n):n}}]),t}()).\u0275fac=function(t){return new(t||y)},y.\u0275pipe=o.Rb({name:"global",type:y,pure:!0}),y);function J(t,e){1&t&&(o.Xb(0,"div",5),o.Xb(1,"div",6),o.Xb(2,"span",7),o.xc(3,"Loading..."),o.Wb(),o.Wb(),o.Wb())}function Z(t,e){if(1&t&&(o.Xb(0,"div",14),o.Xb(1,"div",15),o.xc(2),o.Wb(),o.Wb()),2&t){var n=o.hc(2);o.Hb(2),o.zc(" ",n.mensaje_inicial," ")}}function G(t,e){if(1&t){var n=o.Yb();o.Xb(0,"button",55),o.fc("click",(function(){o.sc(n);var t=o.hc(3);return t._precontractual_functions_services.descargarDocumento(t.solicitud.documento_adjunto)})),o.xc(1),o.Wb()}if(2&t){var i=o.hc(3);o.Hb(1),o.yc(i.solicitud.documento_adjunto)}}function K(t,e){if(1&t){var n=o.Yb();o.Xb(0,"tr"),o.Xb(1,"td"),o.xc(2,"CDP"),o.Xb(3,"span",41),o.xc(4,"*"),o.Wb(),o.Wb(),o.Xb(5,"td"),o.xc(6),o.ic(7,"date"),o.Wb(),o.Xb(8,"td"),o.xc(9,"-"),o.Wb(),o.Xb(10,"td"),o.xc(11),o.ic(12,"global"),o.Wb(),o.Xb(13,"td"),o.Xb(14,"button",62),o.fc("click",(function(){o.sc(n);var t=o.hc().$implicit;return o.hc(4)._precontractual_functions_services.descargarDocumento(t.documento)})),o.Tb(15,"i",63),o.Wb(),o.Wb(),o.Wb()}if(2&t){var i=o.hc().$implicit;o.Hb(6),o.yc(o.jc(7,2,i.createdAt,"dd/MM/yyyy")),o.Hb(5),o.yc(o.jc(12,5,i.estado,"estados_presupuesto"))}}function Q(t,e){if(1&t&&(o.Vb(0),o.vc(1,K,16,8,"tr",13),o.Ub()),2&t){var n=e.$implicit;o.Hb(1),o.kc("ngIf",1==n.tipo_certificado&&2==n.estado)}}function tt(t,e){1&t&&(o.Xb(0,"span",41),o.xc(1,"*"),o.Wb())}function et(t,e){if(1&t&&(o.Vb(0),o.xc(1),o.ic(2,"date"),o.Ub()),2&t){var n=o.hc(2).$implicit;o.Hb(1),o.zc(" ",o.jc(2,1,n.fecha_vigencia,"dd/MM/yyyy")," ")}}function nt(t,e){1&t&&o.xc(0,"-")}function it(t,e){if(1&t){var n=o.Yb();o.Xb(0,"span",68),o.Xb(1,"button",69),o.fc("click",(function(){o.sc(n);var t=o.hc(2).$implicit;return o.hc(6).documento_seleccionado=t})),o.Tb(2,"i",70),o.Wb(),o.Wb()}2&t&&(o.Hb(1),o.Ib("data-target","#editarEstadoDocumento"))}function ct(t,e){if(1&t){var n=o.Yb();o.Vb(0),o.Xb(1,"td"),o.xc(2),o.ic(3,"date"),o.Wb(),o.Xb(4,"td"),o.vc(5,et,3,4,"ng-container",65),o.vc(6,nt,1,0,"ng-template",null,66,o.wc),o.Wb(),o.Xb(8,"td"),o.xc(9),o.ic(10,"global"),o.Wb(),o.Xb(11,"td"),o.Xb(12,"span"),o.Xb(13,"button",62),o.fc("click",(function(){o.sc(n);var t=o.hc().$implicit;return o.hc(6)._precontractual_functions_services.descargarDocumento(t.documento)})),o.Tb(14,"i",63),o.Wb(),o.Wb(),o.vc(15,it,3,1,"span",67),o.Wb(),o.Ub()}if(2&t){var i=o.rc(7),c=o.hc().$implicit,a=o.hc(6);o.Hb(2),o.yc(o.jc(3,5,c.createdAt,"dd/MM/yyyy")),o.Hb(3),o.kc("ngIf",c.fecha_vigencia)("ngIfElse",i),o.Hb(4),o.yc(o.jc(10,8,c.estado,"estados_documentacion")),o.Hb(6),o.kc("ngIf",!a.documento_preloader||!a.validarDocumentosAprovados()||!a.bandera_disabled)}}function ot(t,e){if(1&t&&(o.Vb(0),o.vc(1,ct,16,11,"ng-container",13),o.Ub()),2&t){var n=e.$implicit,i=o.hc(2).$implicit;o.Hb(1),o.kc("ngIf",n.id_documento==i.id)}}function at(t,e){1&t&&(o.Vb(0),o.Tb(1,"i",72),o.Ub())}function rt(t,e){1&t&&o.xc(0," - ")}function lt(t,e){if(1&t&&(o.Vb(0),o.Xb(1,"td",71),o.vc(2,at,2,0,"ng-container",65),o.vc(3,rt,1,0,"ng-template",null,66,o.wc),o.Wb(),o.Ub()),2&t){var n=o.rc(4),i=o.hc(2).$implicit,c=o.hc(4);o.Hb(2),o.kc("ngIf",i.required&&(i.required==c.solicitud.tipo_contrato||!0===i.required))("ngIfElse",n)}}function st(t,e){if(1&t&&(o.Xb(0,"tr"),o.Xb(1,"td"),o.xc(2),o.vc(3,tt,2,0,"span",64),o.Wb(),o.vc(4,ot,2,1,"ng-container",61),o.vc(5,lt,5,2,"ng-container",13),o.Wb()),2&t){var n=o.hc().$implicit,i=o.hc(4);o.Hb(2),o.yc(n.value),o.Hb(1),o.kc("ngIf",n.required&&(n.required==i.solicitud.tipo_contrato||!0===n.required)),o.Hb(1),o.kc("ngForOf",i.solicitud.documentos),o.Hb(1),o.kc("ngIf",!1===i._precontractual_functions_services.validarDocumento(i.solicitud,n.id,!0))}}function ut(t,e){if(1&t&&(o.Vb(0),o.vc(1,st,6,4,"tr",13),o.Ub()),2&t){var n=e.$implicit,i=o.hc(4);o.Hb(1),o.kc("ngIf",(n.tipo_contrato==i.solicitud.tipo_contrato||!n.tipo_contrato)&&n.id<=28)}}function bt(t,e){if(1&t&&(o.Vb(0),o.Xb(1,"h3",17),o.xc(2,"Documentos"),o.Wb(),o.Xb(3,"div",56),o.Xb(4,"div",57),o.Xb(5,"table",58),o.Xb(6,"thead",59),o.Xb(7,"tr"),o.Xb(8,"th"),o.xc(9,"Documento Adjunto"),o.Wb(),o.Xb(10,"th"),o.xc(11,"Fecha de Cargue"),o.Wb(),o.Xb(12,"th"),o.xc(13,"Vigencia"),o.Wb(),o.Xb(14,"th"),o.xc(15,"Estado"),o.Wb(),o.Xb(16,"th"),o.xc(17,"Acciones"),o.Wb(),o.Wb(),o.Wb(),o.Xb(18,"tbody",60),o.vc(19,Q,2,1,"ng-container",61),o.vc(20,ut,2,1,"ng-container",61),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Ub()),2&t){var n=o.hc(3);o.Hb(19),o.kc("ngForOf",n.solicitud.presupuesto),o.Hb(1),o.kc("ngForOf",n.global.tipos_documentos)}}function dt(t,e){if(1&t&&(o.Xb(0,"textarea",83),o.xc(1),o.Wb()),2&t){var n=o.hc(5);o.Hb(1),o.yc(n.CRP.descripcion)}}function ft(t,e){if(1&t&&(o.Xb(0,"textarea",83),o.xc(1),o.Wb()),2&t){var n=o.hc(5);o.Hb(1),o.yc(n.CRP.motivo)}}function pt(t,e){if(1&t){var n=o.Yb();o.Xb(0,"button",55),o.fc("click",(function(){o.sc(n);var t=o.hc(5);return t._precontractual_functions_services.descargarDocumento(t.CRP.documento)})),o.xc(1),o.Wb()}if(2&t){var i=o.hc(5);o.Hb(1),o.yc(i.CRP.documento)}}var gt=function(t,e){return{"btn-danger":t,"btn-success":e}};function mt(t,e){if(1&t&&(o.Vb(0),o.Xb(1,"span",81),o.xc(2),o.ic(3,"global"),o.Wb(),o.vc(4,dt,2,1,"textarea",82),o.vc(5,ft,2,1,"textarea",82),o.vc(6,pt,2,1,"button",36),o.Ub()),2&t){var n=o.hc(4);o.Hb(1),o.kc("ngClass",o.oc(8,gt,1==n.CRP.estado,2==n.CRP.estado)),o.Hb(1),o.yc(o.jc(3,5,n.CRP.estado,"estados_presupuesto")),o.Hb(2),o.kc("ngIf",1==n.CRP.estado),o.Hb(1),o.kc("ngIf",2==n.CRP.estado),o.Hb(1),o.kc("ngIf",n.CRP.documento)}}function vt(t,e){1&t&&(o.Xb(0,"button",84),o.Tb(1,"i",85),o.xc(2," Solicitar CRP"),o.Wb()),2&t&&o.Ib("data-target","#crearCDPCRPPresupuestoModal")}function ht(t,e){1&t&&(o.Xb(0,"span",41),o.xc(1,"*"),o.Wb())}function _t(t,e){if(1&t){var n=o.Yb();o.Vb(0),o.Xb(1,"button",87),o.fc("click",(function(){o.sc(n);var t=o.hc(2).$implicit,e=o.hc(4);return e._precontractual_functions_services.descargarDocumento(e._precontractual_functions_services.validarDocumento(e.solicitud,t.id))})),o.Tb(2,"i",88),o.Wb(),o.Ub()}}function Wt(t,e){1&t&&o.Tb(0,"i",72)}function Xt(t,e){1&t&&o.xc(0,"-")}function kt(t,e){if(1&t&&(o.vc(0,Wt,1,0,"i",89),o.vc(1,Xt,1,0,"ng-template",null,90,o.wc)),2&t){var n=o.rc(2),i=o.hc(2).$implicit;o.kc("ngIf",i.required)("ngIfElse",n)}}function yt(t,e){if(1&t&&(o.Xb(0,"tr"),o.Xb(1,"td"),o.xc(2),o.vc(3,ht,2,0,"span",64),o.Wb(),o.Xb(4,"td"),o.vc(5,_t,3,0,"ng-container",65),o.vc(6,kt,3,2,"ng-template",null,86,o.wc),o.Wb(),o.Wb()),2&t){var n=o.rc(7),i=o.hc().$implicit,c=o.hc(4);o.Hb(2),o.yc(i.value),o.Hb(1),o.kc("ngIf",i.required),o.Hb(2),o.kc("ngIf",c._precontractual_functions_services.validarDocumento(c.solicitud,i.id,!0))("ngIfElse",n)}}function xt(t,e){if(1&t&&(o.Vb(0),o.vc(1,yt,8,4,"tr",13),o.Ub()),2&t){var n=e.$implicit;o.Hb(1),o.kc("ngIf",n.id>=29&&n.id<=34)}}function Ct(t,e){if(1&t&&(o.Vb(0),o.Xb(1,"div",73),o.Xb(2,"div",74),o.vc(3,mt,7,11,"ng-container",13),o.vc(4,vt,3,1,"button",75),o.Wb(),o.Wb(),o.Xb(5,"div",76),o.Xb(6,"small"),o.xc(7,"Los documentos marcados con el s\xedmbolo "),o.Tb(8,"i",72),o.xc(9," son obligatorios para finalizar la solicitud"),o.Wb(),o.Wb(),o.Xb(10,"div",56),o.Xb(11,"div",57),o.Xb(12,"table",58),o.Xb(13,"thead",59),o.Xb(14,"tr"),o.Xb(15,"th"),o.xc(16,"Documento Adjunto"),o.Wb(),o.Xb(17,"th"),o.xc(18,"Acciones"),o.Wb(),o.Wb(),o.Wb(),o.Xb(19,"tbody",60),o.vc(20,xt,2,1,"ng-container",77),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Xb(21,"div",78),o.Xb(22,"button",79),o.Tb(23,"i",80),o.Wb(),o.Wb(),o.Ub()),2&t){var n=o.hc(3);o.Hb(3),o.kc("ngIf",n.CRP),o.Hb(1),o.kc("ngIf",!n.CRP),o.Hb(16),o.kc("ngForOf",n.global.tipos_documentos),o.Hb(2),o.Ib("data-target","#agregarDocumentoModal")}}function It(t,e){1&t&&(o.Xb(0,"option",91),o.xc(1,"APROBADO"),o.Wb())}function Ht(t,e){1&t&&(o.Xb(0,"option",92),o.xc(1,"DEVULETO"),o.Wb())}function Pt(t,e){1&t&&(o.Xb(0,"option",93),o.xc(1,"PENDIENTE"),o.Wb())}function Dt(t,e){1&t&&(o.Xb(0,"option",94),o.xc(1,"FINALIZADO"),o.Wb())}var St=function(t){return{"is-invalid":t}};function jt(t,e){if(1&t){var n=o.Yb();o.Xb(0,"div",19),o.Xb(1,"label",95),o.xc(2,"Fecha de presentaci\xf3n comit\xe9 de contrataci\xf3n"),o.Xb(3,"span",41),o.xc(4,"*"),o.Wb(),o.Wb(),o.Xb(5,"input",96,97),o.fc("ngModelChange",(function(t){return o.sc(n),o.hc(3).solicitud.fecha_comite_contratacion=t})),o.Wb(),o.Wb()}if(2&t){var i=o.rc(6),c=o.hc(3);o.Hb(5),o.kc("ngClass",o.nc(4,St,i.invalid))("ngModel",c.solicitud.fecha_comite_contratacion)("min",c._global_service.obtenerFechaActual())("disabled",c.bandera_disabled)}}function Ft(t,e){if(1&t){var n=o.Yb();o.Xb(0,"div",18),o.Xb(1,"div",35),o.Xb(2,"label",98),o.xc(3,"Observaciones"),o.Xb(4,"span",41),o.xc(5,"*"),o.Wb(),o.Wb(),o.Xb(6,"textarea",99,100),o.fc("ngModelChange",(function(t){return o.sc(n),o.hc(3).solicitud.observaciones_juridica=t})),o.Wb(),o.Wb(),o.Wb()}if(2&t){var i=o.rc(7),c=o.hc(3);o.Hb(6),o.kc("ngClass",o.nc(2,St,i.invalid))("ngModel",c.solicitud.observaciones_juridica)}}function Mt(t,e){if(1&t&&(o.Xb(0,"button",101),o.Tb(1,"i",88),o.xc(2," Enviar"),o.Wb()),2&t){o.hc();var n=o.rc(39);o.kc("disabled",n.invalid)}}var wt=function(t){return{"col-md-6 d-inline-block":t}};function At(t,e){if(1&t){var n=o.Yb();o.Vb(0),o.Xb(1,"div",16),o.Xb(2,"h3",17),o.xc(3,"Datos del Solicitante"),o.Wb(),o.Xb(4,"div",18),o.Xb(5,"div",19),o.Xb(6,"label",20),o.xc(7,"Nombres y Apellidos"),o.Wb(),o.Tb(8,"input",21),o.Wb(),o.Xb(9,"div",19),o.Xb(10,"label",22),o.xc(11,"Cargo"),o.Wb(),o.Tb(12,"input",23),o.Wb(),o.Wb(),o.Xb(13,"div",18),o.Xb(14,"div",24),o.Xb(15,"label",25),o.xc(16,"\xc1rea"),o.Wb(),o.Tb(17,"input",26),o.ic(18,"global"),o.Wb(),o.Xb(19,"div",27),o.Xb(20,"label",28),o.xc(21,"Correo electr\xf3nico"),o.Wb(),o.Tb(22,"input",29),o.Wb(),o.Xb(23,"div",30),o.Xb(24,"label",31),o.xc(25,"Tipo de contrato"),o.Wb(),o.Tb(26,"input",32),o.ic(27,"global"),o.Wb(),o.Wb(),o.Xb(28,"h3",17),o.xc(29,"Descripci\xf3n"),o.Wb(),o.Xb(30,"div",18),o.Xb(31,"div",33),o.Xb(32,"textarea",34),o.xc(33),o.Wb(),o.Wb(),o.Xb(34,"div",35),o.vc(35,G,2,1,"button",36),o.Wb(),o.Wb(),o.Wb(),o.vc(36,bt,21,2,"ng-container",13),o.vc(37,Ct,24,4,"ng-container",13),o.Xb(38,"form",37,38),o.fc("ngSubmit",(function(){o.sc(n);var t=o.rc(39);return o.hc(2).onSubmit(t)})),o.Xb(40,"h3",17),o.xc(41,"Respuesta"),o.Wb(),o.Xb(42,"div",16),o.Xb(43,"div",18),o.Xb(44,"div",39),o.Xb(45,"label",40),o.xc(46,"Estado Solicitud"),o.Xb(47,"span",41),o.xc(48,"*"),o.Wb(),o.Wb(),o.Xb(49,"select",42,43),o.fc("ngModelChange",(function(t){return o.sc(n),o.hc(2).solicitud.estado=t})),o.vc(51,It,2,0,"option",44),o.Xb(52,"option",45),o.xc(53,"ANULADO"),o.Wb(),o.vc(54,Ht,2,0,"option",46),o.vc(55,Pt,2,0,"option",47),o.vc(56,Dt,2,0,"option",48),o.Wb(),o.Wb(),o.vc(57,jt,7,6,"div",49),o.Wb(),o.vc(58,Ft,8,4,"div",50),o.Wb(),o.Xb(59,"div",51),o.Xb(60,"div",52),o.vc(61,Mt,3,1,"button",53),o.Xb(62,"button",54),o.fc("click",(function(){return o.sc(n),o.hc(2).cancelarSolicitud()})),o.xc(63,"Cancelar"),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Ub()}if(2&t){var i=o.rc(50),c=o.hc(2);o.Hb(8),o.lc("value",c.nombre_completo),o.Hb(4),o.lc("value",c.solicitud.cargo),o.Hb(5),o.lc("value",o.jc(18,20,c.solicitud.area_solicitante,"areas_contratacion")),o.Hb(5),o.lc("value",c.solicitud.correo_electronico),o.Hb(4),o.lc("value",o.jc(27,23,c.solicitud.tipo_contrato,"tipos_contratos")),o.Hb(7),o.yc(c.solicitud.descripcion_solicitud),o.Hb(2),o.kc("ngIf",!c.documento_adjunto&&c.solicitud.documento_adjunto),o.Hb(1),o.kc("ngIf",c.solicitud.documentos&&c.solicitud.documentos.length>0),o.Hb(1),o.kc("ngIf",c.validarDocumentosAprovados()),o.Hb(7),o.kc("ngClass",o.nc(26,wt,3==c.solicitud.estado||c.solicitud.fecha_comite_contratacion)),o.Hb(5),o.kc("ngClass",o.nc(28,St,i.invalid))("ngModel",c.solicitud.estado)("disabled",c.bandera_disabled),o.Hb(2),o.kc("ngIf",c.solicitud.fecha_comite_contratacion&&!c.validarDocumentosContractualesRequeridos()),o.Hb(3),o.kc("ngIf",!c.solicitud.fecha_comite_contratacion),o.Hb(1),o.kc("ngIf",c.solicitud.documentos.length<=0),o.Hb(1),o.kc("ngIf",c.validarDocumentosContractualesRequeridos()),o.Hb(1),o.kc("ngIf",3==c.solicitud.estado||c.solicitud.fecha_comite_contratacion),o.Hb(1),o.kc("ngIf",2==c.solicitud.estado||4==c.solicitud.estado),o.Hb(3),o.kc("ngIf",!c.bandera_disabled)}}function Lt(t,e){if(1&t&&(o.Xb(0,"div",8),o.Xb(1,"div",9),o.Xb(2,"a",10),o.xc(3,"Regresar"),o.Wb(),o.Wb(),o.Xb(4,"div",11),o.vc(5,Z,3,1,"div",12),o.vc(6,At,64,30,"ng-container",13),o.Wb(),o.Wb()),2&t){var n=o.hc();o.Hb(5),o.kc("ngIf",n.mensaje_inicial),o.Hb(1),o.kc("ngIf",n.solicitud)}}function Rt(t,e){if(1&t){var n=o.Yb();o.Xb(0,"div",102),o.Xb(1,"div",103),o.Xb(2,"div",104),o.Xb(3,"form",105,106),o.fc("ngSubmit",(function(){o.sc(n);var t=o.rc(4);return o.hc().crearCDPCRPPresupuesto(t)})),o.Xb(5,"div",107),o.Xb(6,"h4",108),o.xc(7,"Fromulario Solicitud CRP"),o.Wb(),o.Xb(8,"button",109),o.xc(9,"\xd7"),o.Wb(),o.Wb(),o.Xb(10,"div",110),o.Xb(11,"div",18),o.Xb(12,"div",33),o.Xb(13,"label",111),o.xc(14,"Descripci\xf3n de la solicitud"),o.Xb(15,"span",41),o.xc(16,"*"),o.Wb(),o.Wb(),o.Xb(17,"textarea",112,113),o.fc("ngModelChange",(function(t){return o.sc(n),o.hc().presupuesto.descripcion=t})),o.Wb(),o.Wb(),o.Wb(),o.Xb(19,"div",18),o.Xb(20,"div",33),o.Xb(21,"label",111),o.xc(22,"Documento adjunto"),o.Wb(),o.Xb(23,"input",114),o.fc("change",(function(t){return o.sc(n),o.hc().cargarDocumentoRequerido(t.target.files[0],38)})),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Xb(24,"div",115),o.Xb(25,"div",52),o.Xb(26,"button",116),o.fc("click",(function(){o.sc(n);var t=o.rc(4);return o.hc().crearCDPCRPPresupuesto(t)})),o.Tb(27,"i",88),o.xc(28," Solicitar"),o.Wb(),o.Xb(29,"button",117),o.xc(30,"Cancelar"),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Wb()}if(2&t){var i=o.rc(4),c=o.rc(18),a=o.hc();o.Hb(17),o.kc("ngClass",o.nc(3,St,c.invalid))("ngModel",a.presupuesto.descripcion),o.Hb(9),o.kc("disabled",i.invalid)}}function Ot(t,e){if(1&t&&(o.Xb(0,"option",124),o.xc(1),o.Wb()),2&t){var n=o.hc().$implicit;o.lc("value",n.id),o.Hb(1),o.yc(n.value)}}function Et(t,e){if(1&t&&(o.Vb(0),o.vc(1,Ot,2,2,"option",123),o.Ub()),2&t){var n=e.$implicit;o.Hb(1),o.kc("ngIf",n.id>=29&&n.id<=34)}}function Tt(t,e){if(1&t){var n=o.Yb();o.Xb(0,"div",118),o.Xb(1,"div",103),o.Xb(2,"div",104),o.Xb(3,"form",105,119),o.fc("ngSubmit",(function(){o.sc(n);var t=o.hc();return t.cargarDocumentoRequerido(t.documento_a_cargar,t.documentacion.id_documento)})),o.Xb(5,"div",107),o.Xb(6,"h4",108),o.xc(7,"Agregar Documento a la Solicitud"),o.Wb(),o.Xb(8,"button",109),o.xc(9,"\xd7"),o.Wb(),o.Wb(),o.Xb(10,"div",110),o.Xb(11,"div",18),o.Xb(12,"div",33),o.Xb(13,"label",111),o.xc(14,"Seleccione el documento"),o.Xb(15,"span",41),o.xc(16,"*"),o.Wb(),o.Wb(),o.Xb(17,"select",120),o.fc("ngModelChange",(function(t){return o.sc(n),o.hc().documentacion.id_documento=t})),o.vc(18,Et,2,1,"ng-container",61),o.Wb(),o.Wb(),o.Wb(),o.Xb(19,"div",18),o.Xb(20,"div",33),o.Xb(21,"label",111),o.xc(22,"Documento adjunto"),o.Xb(23,"span",41),o.xc(24,"*"),o.Wb(),o.Wb(),o.Xb(25,"input",121),o.fc("change",(function(t){return o.sc(n),o.hc().documento_a_cargar=t.target.files[0]})),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Xb(26,"div",115),o.Xb(27,"div",52),o.Xb(28,"button",116),o.fc("click",(function(){o.sc(n);var t=o.hc();return t.cargarDocumentoRequerido(t.documento_a_cargar,t.documentacion.id_documento)})),o.Tb(29,"i",88),o.xc(30," Adjuntar Documento"),o.Wb(),o.Xb(31,"button",122),o.fc("click",(function(){return o.sc(n),o.hc().configurarInformacionInicial()})),o.xc(32,"Cancelar"),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Wb()}if(2&t){var i=o.rc(4),c=o.hc();o.Hb(17),o.kc("ngModel",c.documentacion.id_documento),o.Hb(1),o.kc("ngForOf",c.global.tipos_documentos),o.Hb(10),o.kc("disabled",i.invalid||!c.documento_a_cargar)}}function qt(t,e){if(1&t&&(o.Xb(0,"option",124),o.xc(1),o.Wb()),2&t){var n=e.$implicit;o.lc("value",n.id),o.Hb(1),o.yc(n.value)}}function zt(t,e){if(1&t){var n=o.Yb();o.Xb(0,"div",18),o.Xb(1,"div",33),o.Xb(2,"label",129),o.xc(3,"Fecha de vigencia"),o.Xb(4,"span",41),o.xc(5,"*"),o.Wb(),o.Wb(),o.Xb(6,"input",130,131),o.fc("ngModelChange",(function(t){return o.sc(n),o.hc(2).documento_seleccionado.fecha_vigencia=t})),o.Wb(),o.Wb(),o.Wb()}if(2&t){var i=o.rc(7),c=o.hc(2);o.Hb(6),o.kc("ngClass",o.nc(3,St,i.invalid))("ngModel",c.documento_seleccionado.fecha_vigencia)("min",c._global_service.obtenerFechaActual())}}function Nt(t,e){if(1&t){var n=o.Yb();o.Xb(0,"div",18),o.Xb(1,"div",33),o.Xb(2,"label",132),o.xc(3,"Observaci\xf3n"),o.Xb(4,"span",41),o.xc(5,"*"),o.Wb(),o.Wb(),o.Xb(6,"textarea",133,134),o.fc("ngModelChange",(function(t){return o.sc(n),o.hc(2).documento_seleccionado.observacion=t})),o.Wb(),o.Wb(),o.Wb()}if(2&t){var i=o.rc(7),c=o.hc(2);o.Hb(6),o.kc("ngClass",o.nc(2,St,i.invalid))("ngModel",c.documento_seleccionado.observacion)}}function Ut(t,e){if(1&t){var n=o.Yb();o.Xb(0,"div",125),o.Xb(1,"div",103),o.Xb(2,"div",104),o.Xb(3,"form",105,126),o.fc("ngSubmit",(function(){o.sc(n);var t=o.hc();return t.actualizarEstadoDocumentoAdjunto(t.documento_seleccionado)})),o.Xb(5,"div",107),o.Xb(6,"h4",108),o.xc(7,"Editar el Estado del Documento"),o.Wb(),o.Xb(8,"button",109),o.xc(9,"\xd7"),o.Wb(),o.Wb(),o.Xb(10,"div",110),o.Xb(11,"div",18),o.Xb(12,"div",33),o.Xb(13,"label",127),o.xc(14,"Seleccione el estado del documento"),o.Xb(15,"span",41),o.xc(16,"*"),o.Wb(),o.Wb(),o.Xb(17,"select",120),o.fc("ngModelChange",(function(t){return o.sc(n),o.hc().documento_seleccionado.estado=t})),o.vc(18,qt,2,2,"option",128),o.Wb(),o.Wb(),o.Wb(),o.vc(19,zt,8,5,"div",50),o.vc(20,Nt,8,4,"div",50),o.Wb(),o.Xb(21,"div",115),o.Xb(22,"div",52),o.Xb(23,"button",116),o.fc("click",(function(){o.sc(n);var t=o.hc();return t.actualizarEstadoDocumentoAdjunto(t.documento_seleccionado)})),o.Tb(24,"i",88),o.xc(25," Editar Estado"),o.Wb(),o.Xb(26,"button",122),o.fc("click",(function(){return o.sc(n),o.hc().configurarInformacionInicial()})),o.xc(27,"Cancelar"),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Wb()}if(2&t){var i=o.rc(4),c=o.hc();o.Hb(17),o.kc("ngModel",c.documento_seleccionado.estado),o.Hb(1),o.kc("ngForOf",c.global.estados_documentacion),o.Hb(1),o.kc("ngIf",3==c.documento_seleccionado.estado),o.Hb(1),o.kc("ngIf",2==c.documento_seleccionado.estado),o.Hb(3),o.kc("disabled",i.invalid)}}var $t,Bt=(($t=function(){function t(e,n,i,c,o,a,r,l){_classCallCheck(this,t),this._documentacion_service=e,this._file_upload_service=n,this._global_service=i,this._precontractual_functions_services=c,this._precontractual_service=o,this._presupuesto_service=a,this._route=r,this._router=l,this.bandera_inicial=!1,this.global=q.f}return _createClass(t,[{key:"ngOnInit",value:function(){this.obtenerInformacionInicial()}},{key:"actualizarEstadoDocumentoAdjunto",value:function(t){var e=this;this.documento_preloader=!0,this._documentacion_service.actualizarEstadoDocumentoAdjunto(t).subscribe((function(t){L.a.fire({position:"center",icon:"success",title:t.message,showConfirmButton:!0}),e.documento_preloader=!1,e.validarDocumentosAprovados()}))}},{key:"cancelarSolicitud",value:function(){this._router.navigate(["./contratacion/precontractual/panel-juridica"])}},{key:"cargarDocumentoRequerido",value:function(t,e){var n=this;if(this.documentacion.etapa_contractual=2,this.documentacion.estado=1,this.solicitud.documentos&&this.solicitud.documentos.length>0){var i=!1,c=null;if(this.solicitud.documentos.forEach((function(t){t.id_documento==e&&(i=!0,c=t.id)})),i&&t)return void this._file_upload_service.cargarArchivo(t,"contratacion").then((function(t){"success"==t.status&&(n.documentacion.id=c,n.documentacion.documento=t.nombre_archivo,n.documentacion.id_documento=e,n._documentacion_service.actualizarDocumentoAdjunto(n.documentacion).subscribe((function(t){L.a.fire({position:"center",icon:"success",title:t.message,showConfirmButton:!0}),n._precontractual_functions_services.obtenerSolicitud(n.solicitud.id).then((function(t){n.solicitud=t}))})))})).catch((function(t){console.log(t)}))}this._file_upload_service.cargarArchivo(t,"contratacion").then((function(t){"success"==t.status&&(n.documentacion.documento=t.nombre_archivo,n.documentacion.id_documento=e,n._documentacion_service.crearDocumentoAdjunto(n.documentacion).subscribe((function(t){L.a.fire({position:"center",icon:"success",title:t.message,showConfirmButton:!0}),n._precontractual_functions_services.obtenerSolicitud(n.solicitud.id).then((function(t){n.solicitud=t}))})))})).catch((function(t){console.log(t)}))}},{key:"clasificarDocumentos",value:function(t){var e=this,n=null;return this.global.tipos_documentos.forEach((function(i){i.id==t&&(i.tipo_contrato?i.tipo_contrato==e.solicitud.tipo_contrato&&(n=i.value):n=i.value)})),n}},{key:"configurarInformacionInicial",value:function(){var t=this;this.solicitud.presupuesto&&this.solicitud.presupuesto.length>0&&this.solicitud.presupuesto.forEach((function(e){2==e.tipo_certificado&&(t.CRP=e)})),this.presupuesto=this.CRP?this.CRP:new E(null,this.solicitud.id,null,null,null,2,null,null,null,null,null,null),this.documentacion=new R(null,this.solicitud.id,null,null,2,null,null,null,null,null,null),this.documento_seleccionado=new R(null,this.solicitud.id,null,null,2,null,null,null,null,null,null)}},{key:"crearCDPCRPPresupuesto",value:function(t){var e=this;this._presupuesto_service.crearCDPCRPPresupuesto(this.presupuesto).subscribe((function(n){L.a.fire({position:"center",icon:"success",title:n.message,showConfirmButton:!0}),t.reset(),e._precontractual_functions_services.obtenerSolicitud(e.solicitud.id).then((function(t){e.solicitud=t,e.configurarInformacionInicial()}))}))}},{key:"obtenerInformacionInicial",value:function(){var t=this;this._route.params.subscribe((function(e){var n=e.id;t.solicitud_id=n,Promise.all([t._precontractual_functions_services.obtenerSolicitud(n)]).then((function(e){t.solicitud=e[0],t.bandera_disabled=7==t.solicitud.estado,t.configurarInformacionInicial(),t.validarDocumentacionCompleta(),t.nombre_completo=t.solicitud.primer_nombre+" "+(t.solicitud.segundo_nombre?t.solicitud.segundo_nombre+" ":"")+t.solicitud.primer_apellido+" "+(t.solicitud.segundo_apellido?t.solicitud.segundo_apellido+" ":""),t.bandera_inicial=!0})).catch((function(e){t.mensaje_inicial=e,t.bandera_inicial=!0}))}))}},{key:"onSubmit",value:function(t){var e=this;this._precontractual_service.actualizarSolicitudPrecontractual(this.solicitud).subscribe((function(n){L.a.fire({position:"center",icon:"success",title:n.message,showConfirmButton:!0}),t.reset(),e.cancelarSolicitud()}))}},{key:"validarDocumentacionCompleta",value:function(){var t=this;if(this.solicitud.documentos&&this.solicitud.documentos.length>0){var e=[];return this.global.tipos_documentos.forEach((function(n){n.required&&(1==n.required||n.required==t.solicitud.tipo_contrato)&&n.id<=28&&(n.tipo_contrato?n.tipo_contrato==t.solicitud.tipo_contrato&&e.push(n):e.push(n))})),e}}},{key:"validarDocumentosAprovados",value:function(){var t=this;if(console.log(this.solicitud),this.solicitud.documentos&&this.solicitud.documentos.length>0){var e=!0,n=this.validarDocumentacionCompleta();if(this.solicitud.documentos.forEach((function(t){3!=t.estado&&1==t.etapa_contractual&&2!=t.id_documento&&(e=!1)})),e){var i=!1;return this.solicitud.presupuesto.forEach((function(t){1==t.tipo_certificado&&2==t.estado&&(i=!0)})),!!i&&(n.forEach((function(n){var i=!1;t.solicitud.documentos.forEach((function(t){n.id==t.id_documento&&(i=!0)})),e=i?e:i})),e)}return!1}return!1}},{key:"validarDocumentosContractualesRequeridos",value:function(){var t=this,e=!0;return this.global.tipos_documentos.forEach((function(n){n.id>=29&&n.id<=37&&n.required&&0==t.solicitud.documentos.filter((function(t){if(t.id_documento==n.id)return!0})).length&&(e=!1)})),e}}]),t}()).\u0275fac=function(t){return new(t||$t)(o.Sb(N),o.Sb(q.b),o.Sb(q.c),o.Sb($),o.Sb(U),o.Sb(B),o.Sb(w.a),o.Sb(w.d))},$t.\u0275cmp=o.Mb({type:$t,selectors:[["app-aprobacion-juridica"]],decls:5,vars:5,consts:[["class","text-center",4,"ngIf"],["class","col-lg-12 pr-0 pl-0",4,"ngIf"],["class","modal animated fadeIn faster","id","crearCDPCRPPresupuestoModal",4,"ngIf"],["class","modal animated fadeIn faster","id","agregarDocumentoModal",4,"ngIf"],["class","modal animated fadeIn faster","id","editarEstadoDocumento",4,"ngIf"],[1,"text-center"],["role","status",1,"spinner-grow","text-info"],[1,"sr-only"],[1,"col-lg-12","pr-0","pl-0"],[1,"backLink","col","col-sm-12"],["routerLink","/contratacion/precontractual/panel-juridica",1,"col-sm-12"],[1,"formContainer"],["class","col col-12 mt-2",4,"ngIf"],[4,"ngIf"],[1,"col","col-12","mt-2"],["role","alert",1,"alert","alert-warning"],[1,"form-body"],[1,"subtitle"],[1,"form-group"],[1,"col","col-sm-12","col-md-6","d-inline-block"],["for","nombres_apellidos",1,"control-label","labelForm"],["type","text","id","nombres_apellidos","name","nombres_apellidos","disabled","",1,"form-control","inputForm",3,"value"],["for","cargo",1,"control-label","labelForm"],["type","text","id","cargo","name","cargo","disabled","",1,"form-control","inputForm",3,"value"],[1,"col","col-sm-12","col-md-4","d-inline-block"],["for","area_solicitante",1,"control-label","labelForm"],["type","text","id","area_solicitante","name","area_solicitante","disabled","",1,"form-control","inputForm",3,"value"],[1,"col","col-sm-12","col-md-5","d-inline-block"],["for","correo_electronico",1,"control-label","labelForm"],["type","text","id","correo_electronico","name","correo_electronico","disabled","",1,"form-control","inputForm",3,"value"],[1,"col","col-sm-12","col-md-3","d-inline-block"],["for","tipo_contrato",1,"control-label","labelForm"],["type","text","id","tipo_contrato","name","tipo_contrato","disabled","",1,"form-control","inputForm",3,"value"],[1,"col","col-sm-12"],["name","descripcion_solicitud","id","descripcion_solicitud","rows","3","disabled","",1,"form-control","inputForm"],[1,"col","col-12"],["type","button","class","btn btn-waves-effect waves-light btn-rounded btn-sm btn-success mt-2 d-block",3,"click",4,"ngIf"],[3,"ngSubmit"],["juridicaForm","ngForm"],[1,"col","col-sm-12","d-inline-block",3,"ngClass"],["for","estado_solicitud",1,"control-label","labelForm"],[1,"required"],["id","estado_solicitud","name","estado_solicitud","required","",1,"form-control","inputForm","custom-select",3,"ngClass","ngModel","disabled","ngModelChange"],["estado_solicitud","ngModel"],["value","6",4,"ngIf"],["value","2"],["value","4",4,"ngIf"],["value","3",4,"ngIf"],["value","7",4,"ngIf"],["class","col col-sm-12 col-md-6 d-inline-block",4,"ngIf"],["class","form-group",4,"ngIf"],[1,"form-actions"],[1,"col","col-sm-12","text-right"],["type","submit","class","btn btn-success",3,"disabled",4,"ngIf"],["type","button",1,"btn","btn-inverse","ml-2",3,"click"],["type","button",1,"btn","btn-waves-effect","waves-light","btn-rounded","btn-sm","btn-success","mt-2","d-block",3,"click"],[1,"tableContainer"],[1,"table-responsive","tableContainerAll"],[1,"table","table-bordered"],[1,"thead_styles"],[1,"tbody_styles"],[4,"ngFor","ngForOf"],["type","button","title","Descargar Documento",1,"btn","btn-info","btn-circle","btn-sm",3,"click"],[1,"fa","fa-download"],["class","required",4,"ngIf"],[4,"ngIf","ngIfElse"],["elseTemplate",""],["class","ml-1",4,"ngIf"],[1,"ml-1"],["type","button","title","Editar Estado","data-toggle","modal",1,"btn","btn-warning","btn-circle","btn-sm",3,"click"],[1,"fa","fa-pencil"],["colspan","4"],[1,"fa","fa-times",2,"color","red","font-size","1rem"],[1,"form-group",2,"margin-bottom","15px"],[1,"col","col-sm-12","pl-0","pr-0"],["type","button","class","btn btn-waves-effect waves-light btn-rounded btn-sm btn-warning mt-2 d-block","title","Agregar CDP","data-toggle","modal",4,"ngIf"],[1,"infoNote"],[4,"ngFor","ngForNdex","ngForOf"],[1,"col","col-12","text-right"],["type","button","data-toggle","modal","title","Agregar Documento",1,"btn","btn-info","btn-circle","btn-lg"],[1,"fa","fa-upload"],[1,"btn","btn-sm","mb-2","d-inline-block",2,"margin-left","0 !important",3,"ngClass"],["name","descripcion","id","descripcion","rows","3","class","form-control inputForm","disabled","",4,"ngIf"],["name","descripcion","id","descripcion","rows","3","disabled","",1,"form-control","inputForm"],["type","button","title","Agregar CDP","data-toggle","modal",1,"btn","btn-waves-effect","waves-light","btn-rounded","btn-sm","btn-warning","mt-2","d-block"],[1,"fa","fa-plus"],["elseDocumento",""],["type","button","title","Descargar Documento",1,"btn","btn-success","btn-circle","btn-sm",3,"click"],[1,"fa","fa-check"],["class","fa fa-times","style","color: red; font-size: 1rem",4,"ngIf","ngIfElse"],["elseValidarDocumento",""],["value","6"],["value","4"],["value","3"],["value","7"],["for","fecha_comite_contratacion",1,"control-label","labelForm"],["type","date","id","fecha_comite_contratacion","name","fecha_comite_contratacion","required","",1,"form-control","inputForm",3,"ngClass","ngModel","min","disabled","ngModelChange"],["fecha_comite_contratacion","ngModel"],["for","observaciones",1,"control-label","labelForm"],["name","observaciones","id","observaciones","rows","3","minlength","15","maxlength","100","placeholder","Diligencie la observaci\xf3n que tenga en relaci\xf3n con la solicitud","required","",1,"form-control","inputForm",3,"ngClass","ngModel","ngModelChange"],["observaciones","ngModel"],["type","submit",1,"btn","btn-success",3,"disabled"],["id","crearCDPCRPPresupuestoModal",1,"modal","animated","fadeIn","faster"],[1,"modal-dialog"],[1,"modal-content"],[1,"form-container",3,"ngSubmit"],["datosCRPForm","ngForm"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close"],[1,"modal-body"],["for","descripcion",1,"control-label","labelForm"],["name","descripcion","id","descripcion","rows","3","minlength","15","maxlength","100","placeholder","Diligencie la descripci\xf3n de la solicitud del CRP (m\xe1ximo 100 caracteres)","required","",1,"form-control","inputForm",3,"ngClass","ngModel","ngModelChange"],["descripcion","ngModel"],["type","file","id","documento_38","accept","application/pdf","required","",1,"form-control","inputForm","mt-2",3,"change"],[1,"modal-footer"],["type","submit","data-dismiss","modal",1,"btn","btn-success",3,"disabled","click"],["type","button","data-dismiss","modal",1,"btn","btn-inverse","ml-2"],["id","agregarDocumentoModal",1,"modal","animated","fadeIn","faster"],["agregarDocumentoForm","ngForm"],["id","estado_documento","name","estado_documento",1,"form-control","inputForm","custom-select",3,"ngModel","ngModelChange"],["type","file","id","documento_2","accept","application/pdf","required","",1,"form-control","inputForm","mt-2",3,"change"],["type","button","data-dismiss","modal",1,"btn","btn-inverse","ml-2",3,"click"],[3,"value",4,"ngIf"],[3,"value"],["id","editarEstadoDocumento",1,"modal","animated","fadeIn","faster"],["editarEstadoForm","ngForm"],["for","estado_documento",1,"control-label","labelForm"],[3,"value",4,"ngFor","ngForOf"],["for","fecha_vigencia",1,"control-label","labelForm"],["type","date","id","fecha_vigencia","name","fecha_vigencia","required","",1,"form-control","inputForm",3,"ngClass","ngModel","min","ngModelChange"],["fecha_vigencia","ngModel"],["for","observacion",1,"control-label","labelForm"],["name","observacion","id","observacion","rows","3","minlength","15","maxlength","100","placeholder","Diligencie la observaci\xf3n que tenga del rechazo del documento","required","",1,"form-control","inputForm",3,"ngClass","ngModel","ngModelChange"],["observacion","ngModel"]],template:function(t,e){1&t&&(o.vc(0,J,4,0,"div",0),o.vc(1,Lt,7,2,"div",1),o.vc(2,Rt,31,5,"div",2),o.vc(3,Tt,33,3,"div",3),o.vc(4,Ut,28,5,"div",4)),2&t&&(o.kc("ngIf",!e.bandera_inicial),o.Hb(1),o.kc("ngIf",e.bandera_inicial),o.Hb(1),o.kc("ngIf",e.bandera_inicial&&e.presupuesto),o.Hb(1),o.kc("ngIf",e.documentacion),o.Hb(1),o.kc("ngIf",e.documento_seleccionado))},directives:[i.l,w.f,c.o,c.f,c.g,i.j,c.m,c.l,c.e,c.h,c.i,c.n,i.k,c.a,c.d,c.c],pipes:[Y,i.d],encapsulation:2}),$t);function Vt(t,e){1&t&&(o.Xb(0,"div",2),o.Xb(1,"div",3),o.Xb(2,"span",4),o.xc(3,"Loading..."),o.Wb(),o.Wb(),o.Wb())}function Yt(t,e){if(1&t&&(o.Xb(0,"div",11),o.Xb(1,"div",12),o.xc(2),o.Wb(),o.Wb()),2&t){var n=o.hc(2);o.Hb(2),o.zc(" ",n.mensaje_inicial," ")}}function Jt(t,e){if(1&t){var n=o.Yb();o.Xb(0,"button",47),o.fc("click",(function(){o.sc(n);var t=o.hc(3);return t.descargarDocumento(t.documento_solicitud)})),o.xc(1),o.Wb()}if(2&t){var i=o.hc(3);o.Hb(1),o.yc(i.documento_solicitud)}}var Zt=function(t){return{"is-invalid":t}};function Gt(t,e){if(1&t){var n=o.Yb();o.Vb(0),o.Xb(1,"div",13),o.Xb(2,"h3",14),o.xc(3,"Datos del Solicitante"),o.Wb(),o.Xb(4,"div",15),o.Xb(5,"div",16),o.Xb(6,"label",17),o.xc(7,"Nombres y Apellidos"),o.Wb(),o.Tb(8,"input",18),o.Wb(),o.Xb(9,"div",16),o.Xb(10,"label",19),o.xc(11,"Cargo"),o.Wb(),o.Tb(12,"input",20),o.Wb(),o.Wb(),o.Xb(13,"div",15),o.Xb(14,"div",21),o.Xb(15,"label",22),o.xc(16,"\xc1rea"),o.Wb(),o.Tb(17,"input",23),o.ic(18,"global"),o.Wb(),o.Xb(19,"div",24),o.Xb(20,"label",25),o.xc(21,"Correo electr\xf3nico"),o.Wb(),o.Tb(22,"input",26),o.Wb(),o.Xb(23,"div",27),o.Xb(24,"label",28),o.xc(25,"Tipo de contrato"),o.Wb(),o.Tb(26,"input",29),o.ic(27,"global"),o.Wb(),o.Wb(),o.Xb(28,"h3",14),o.xc(29,"Descripci\xf3n"),o.Wb(),o.Xb(30,"div",15),o.Xb(31,"div",30),o.Xb(32,"textarea",31),o.xc(33),o.Wb(),o.Wb(),o.Xb(34,"div",32),o.vc(35,Jt,2,1,"button",33),o.Wb(),o.Wb(),o.Wb(),o.Xb(36,"form",34,35),o.fc("ngSubmit",(function(){o.sc(n);var t=o.rc(37);return o.hc(2).onSubmit(t)})),o.Xb(38,"h3",14),o.xc(39,"Respuesta"),o.Wb(),o.Xb(40,"div",13),o.Xb(41,"div",15),o.Xb(42,"div",32),o.Xb(43,"label",36),o.xc(44,"Observaciones"),o.Xb(45,"span",37),o.xc(46,"*"),o.Wb(),o.Wb(),o.Xb(47,"textarea",38,39),o.fc("ngModelChange",(function(t){return o.sc(n),o.hc(2).presupuesto.motivo=t})),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Xb(49,"div",15),o.Xb(50,"div",32),o.Xb(51,"label",40),o.xc(52,"Documento Adjunto"),o.Xb(53,"span",37),o.xc(54,"*"),o.Wb(),o.Wb(),o.Xb(55,"input",41),o.fc("change",(function(t){return o.sc(n),o.hc(2).documento_adjunto=t.target.files[0]})),o.Wb(),o.Wb(),o.Wb(),o.Xb(56,"div",42),o.Xb(57,"div",43),o.Xb(58,"button",44),o.Tb(59,"i",45),o.xc(60," Enviar"),o.Wb(),o.Xb(61,"button",46),o.fc("click",(function(){return o.sc(n),o.hc(2).cancelarSolicitud()})),o.xc(62,"Cancelar"),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Ub()}if(2&t){var i=o.rc(37),c=o.rc(48),a=o.hc(2);o.Hb(8),o.lc("value",a.nombre_completo),o.Hb(4),o.lc("value",a.presupuesto.solicitud_precontractual.cargo),o.Hb(5),o.lc("value",o.jc(18,10,a.presupuesto.solicitud_precontractual.area_solicitante,"areas_contratacion")),o.Hb(5),o.lc("value",a.presupuesto.solicitud_precontractual.correo_electronico),o.Hb(4),o.lc("value",o.jc(27,13,a.presupuesto.solicitud_precontractual.tipo_contrato,"tipos_contratos")),o.Hb(7),o.yc(a.presupuesto.solicitud_precontractual.descripcion_solicitud),o.Hb(2),o.kc("ngIf",a.documento_solicitud),o.Hb(12),o.kc("ngClass",o.nc(16,Zt,c.invalid))("ngModel",a.presupuesto.motivo),o.Hb(11),o.kc("disabled",i.invalid||!a.documento_adjunto)}}function Kt(t,e){if(1&t&&(o.Xb(0,"div",5),o.Xb(1,"div",6),o.Xb(2,"a",7),o.xc(3,"Regresar"),o.Wb(),o.Wb(),o.Xb(4,"div",8),o.vc(5,Yt,3,1,"div",9),o.vc(6,Gt,63,18,"ng-container",10),o.Wb(),o.Wb()),2&t){var n=o.hc();o.Hb(5),o.kc("ngIf",n.mensaje_inicial),o.Hb(1),o.kc("ngIf",n.presupuesto)}}var Qt,te=((Qt=function(){function t(e,n,i,c){_classCallCheck(this,t),this._file_upload_service=e,this._presupuesto_service=n,this._route=i,this._router=c,this.bandera_inicial=!1,this.global=q.f}return _createClass(t,[{key:"ngOnInit",value:function(){this.obtenerInformacionInicial()}},{key:"cancelarSolicitud",value:function(){this._router.navigate(["./contratacion/precontractual/panel-financiera"])}},{key:"descargarDocumento",value:function(t){this._file_upload_service.descargarDocumento(t,"contratacion").subscribe((function(e){window.open("".concat(q.f.url,"upload/contratacion/").concat(t))}))}},{key:"obtenerInformacionInicial",value:function(){var t=this;this._route.params.subscribe((function(e){t.presupuesto_id=e.id,Promise.all([t.obtenerSolicitudPresupuesto(t.presupuesto_id)]).then((function(e){t.presupuesto=e[0],t.nombre_completo=t.presupuesto.solicitud_precontractual.primer_nombre+" "+(t.presupuesto.solicitud_precontractual.segundo_nombre?t.presupuesto.solicitud_precontractual.segundo_nombre+" ":"")+t.presupuesto.solicitud_precontractual.primer_apellido+" "+(t.presupuesto.solicitud_precontractual.segundo_apellido?t.presupuesto.solicitud_precontractual.segundo_apellido+" ":""),t.bandera_inicial=!0,t.presupuesto.documentos&&t.presupuesto.documentos.length>0&&t.presupuesto.documentos.forEach((function(e){2==e.id_documento&&(t.documento_solicitud=e.documento)}))})).catch((function(e){t.mensaje_inicial=e,t.bandera_inicial=!0}))}))}},{key:"obtenerSolicitudPresupuesto",value:function(t){var e=this;return new Promise((function(n,i){e._presupuesto_service.obtenerSolicitudPresupuesto(t).subscribe((function(t){n(t.presupuesto)}),(function(t){i(t)}))}))}},{key:"onSubmit",value:function(t){var e=this;this.presupuesto.estado=2,this._file_upload_service.cargarArchivo(this.documento_adjunto,"contratacion").then((function(n){"success"==n.status&&(e.presupuesto.documento=n.nombre_archivo,e._presupuesto_service.actualizarSolicitudPresupuestal(e.presupuesto).subscribe((function(n){L.a.fire({position:"center",icon:"success",title:n.message,showConfirmButton:!0}),t.reset(),e.cancelarSolicitud()})))})).catch((function(t){console.log(t)}))}}]),t}()).\u0275fac=function(t){return new(t||Qt)(o.Sb(q.b),o.Sb(B),o.Sb(w.a),o.Sb(w.d))},Qt.\u0275cmp=o.Mb({type:Qt,selectors:[["app-aprobacion-financiera"]],decls:2,vars:2,consts:[["class","text-center",4,"ngIf"],["class","col-lg-12 pr-0 pl-0",4,"ngIf"],[1,"text-center"],["role","status",1,"spinner-grow","text-info"],[1,"sr-only"],[1,"col-lg-12","pr-0","pl-0"],[1,"backLink","col","col-sm-12"],["routerLink","/contratacion/precontractual/panel-juridica",1,"col-sm-12"],[1,"formContainer"],["class","col col-12 mt-2",4,"ngIf"],[4,"ngIf"],[1,"col","col-12","mt-2"],["role","alert",1,"alert","alert-warning"],[1,"form-body"],[1,"subtitle"],[1,"form-group"],[1,"col","col-sm-12","col-md-6","d-inline-block"],["for","nombres_apellidos",1,"control-label","labelForm"],["type","text","id","nombres_apellidos","name","nombres_apellidos","disabled","",1,"form-control","inputForm",3,"value"],["for","cargo",1,"control-label","labelForm"],["type","text","id","cargo","name","cargo","disabled","",1,"form-control","inputForm",3,"value"],[1,"col","col-sm-12","col-md-4","d-inline-block"],["for","area_solicitante",1,"control-label","labelForm"],["type","text","id","area_solicitante","name","area_solicitante","disabled","",1,"form-control","inputForm",3,"value"],[1,"col","col-sm-12","col-md-5","d-inline-block"],["for","correo_electronico",1,"control-label","labelForm"],["type","text","id","correo_electronico","name","correo_electronico","disabled","",1,"form-control","inputForm",3,"value"],[1,"col","col-sm-12","col-md-3","d-inline-block"],["for","tipo_contrato",1,"control-label","labelForm"],["type","text","id","tipo_contrato","name","tipo_contrato","disabled","",1,"form-control","inputForm",3,"value"],[1,"col","col-sm-12"],["name","descripcion_solicitud","id","descripcion_solicitud","rows","3","disabled","",1,"form-control","inputForm"],[1,"col","col-12"],["type","button","class","btn btn-waves-effect waves-light btn-rounded btn-sm btn-success mt-2 d-block",3,"click",4,"ngIf"],[3,"ngSubmit"],["presupuestoForm","ngForm"],["for","observaciones",1,"control-label","labelForm"],[1,"required"],["name","observaciones","id","observaciones","rows","3","minlength","15","maxlength","100","placeholder","Diligencie la observaci\xf3n que tenga en relaci\xf3n con la solicitud presupuestal","required","",1,"form-control","inputForm",3,"ngClass","ngModel","ngModelChange"],["observaciones","ngModel"],["for","documento_adjunto",1,"control-label","labelForm"],["type","file","id","documento_adjunto","accept","application/pdf",1,"form-control","inputForm",3,"change"],[1,"form-actions"],[1,"col","col-sm-12","text-right"],["type","submit",1,"btn","btn-success",3,"disabled"],[1,"fa","fa-check"],["type","button",1,"btn","btn-inverse","ml-2",3,"click"],["type","button",1,"btn","btn-waves-effect","waves-light","btn-rounded","btn-sm","btn-success","mt-2","d-block",3,"click"]],template:function(t,e){1&t&&(o.vc(0,Vt,4,0,"div",0),o.vc(1,Kt,7,2,"div",1)),2&t&&(o.kc("ngIf",!e.bandera_inicial),o.Hb(1),o.kc("ngIf",e.bandera_inicial))},directives:[i.l,w.f,c.o,c.f,c.g,c.a,c.d,c.c,c.l,i.j,c.e,c.h],pipes:[Y],encapsulation:2}),Qt);function ee(t,e){if(1&t&&(o.Xb(0,"textarea",40),o.xc(1),o.Wb()),2&t){var n=o.hc(3);o.Hb(1),o.yc(n.CDP.descripcion)}}function ne(t,e){if(1&t&&(o.Xb(0,"textarea",40),o.xc(1),o.Wb()),2&t){var n=o.hc(3);o.Hb(1),o.yc(n.CDP.motivo)}}function ie(t,e){if(1&t){var n=o.Yb();o.Xb(0,"button",41),o.fc("click",(function(){o.sc(n);var t=o.hc(3);return t.descargarDocumento(t.CDP.documento)})),o.xc(1),o.Wb()}if(2&t){var i=o.hc(3);o.Hb(1),o.yc(i.CDP.documento)}}var ce=function(t,e){return{"btn-danger":t,"btn-success":e}};function oe(t,e){if(1&t&&(o.Vb(0),o.Xb(1,"span",37),o.xc(2),o.ic(3,"global"),o.Wb(),o.vc(4,ee,2,1,"textarea",38),o.vc(5,ne,2,1,"textarea",38),o.vc(6,ie,2,1,"button",39),o.Ub()),2&t){var n=o.hc(2);o.Hb(1),o.kc("ngClass",o.oc(8,ce,1==n.CDP.estado,2==n.CDP.estado)),o.Hb(1),o.yc(o.jc(3,5,n.CDP.estado,"estados_presupuesto")),o.Hb(2),o.kc("ngIf",1==n.CDP.estado),o.Hb(1),o.kc("ngIf",2==n.CDP.estado),o.Hb(1),o.kc("ngIf",n.CDP.documento)}}function ae(t,e){1&t&&(o.Xb(0,"button",42),o.Tb(1,"i",43),o.xc(2," Solicitar CDP"),o.Wb()),2&t&&o.Ib("data-target","#crearCDPCRPPresupuestoModal")}function re(t,e){1&t&&(o.Xb(0,"span",26),o.xc(1,"*"),o.Wb())}function le(t,e){1&t&&(o.Vb(0),o.Tb(1,"i",49),o.Ub())}function se(t,e){1&t&&o.Tb(0,"i",33)}var ue=function(t){return{"btn-danger":t}};function be(t,e){if(1&t){var n=o.Yb();o.Vb(0),o.Xb(1,"button",47),o.fc("click",(function(){o.sc(n);var t=o.hc(2).$implicit,e=o.hc(2);return e.descargarDocumento(e.validarDocumento(e.solicitud.documentos,t.id))})),o.vc(2,le,2,0,"ng-container",45),o.vc(3,se,1,0,"ng-template",null,48,o.wc),o.Wb(),o.Ub()}if(2&t){var i=o.rc(4),c=o.hc(2).$implicit,a=o.hc(2);o.Hb(1),o.kc("ngClass",o.nc(3,ue,2==a.validarEstadoDocumento(a.solicitud.documentos,c.id,!0))),o.Hb(1),o.kc("ngIf",2==a.validarEstadoDocumento(a.solicitud.documentos,c.id,!0))("ngIfElse",i)}}function de(t,e){1&t&&o.Tb(0,"i",6)}function fe(t,e){1&t&&o.xc(0,"-")}function pe(t,e){if(1&t&&(o.vc(0,de,1,0,"i",50),o.vc(1,fe,1,0,"ng-template",null,51,o.wc)),2&t){var n=o.rc(2),i=o.hc(2).$implicit,c=o.hc(2);o.kc("ngIf",!0===i.required||i.required==c.solicitud.tipo_contrato)("ngIfElse",n)}}function ge(t,e){if(1&t){var n=o.Yb();o.Xb(0,"span"),o.Xb(1,"button",52),o.fc("click",(function(){o.sc(n);var t=o.hc(2).$implicit,e=o.hc(2);return e.observacion=e.configurarObservacion(e.solicitud.documentos,t.id)})),o.Tb(2,"i",53),o.Wb(),o.Wb()}2&t&&(o.Hb(1),o.Ib("data-target","#verObservacion"))}function me(t,e){if(1&t&&(o.Xb(0,"tr"),o.Xb(1,"td"),o.xc(2),o.vc(3,re,2,0,"span",44),o.Wb(),o.Xb(4,"td"),o.vc(5,be,5,5,"ng-container",45),o.vc(6,pe,3,2,"ng-template",null,46,o.wc),o.Wb(),o.Xb(8,"td"),o.Xb(9,"span"),o.xc(10),o.ic(11,"global"),o.Wb(),o.vc(12,ge,3,1,"span",0),o.Wb(),o.Wb()),2&t){var n=o.rc(7),i=o.hc().$implicit,c=o.hc(2);o.Hb(2),o.yc(i.value),o.Hb(1),o.kc("ngIf",i.required&&(i.required==c.solicitud.tipo_contrato||!0===i.required)),o.Hb(2),o.kc("ngIf",c.validarDocumento(c.solicitud.documentos,i.id,!0))("ngIfElse",n),o.Hb(5),o.yc(o.jc(11,6,c.validarEstadoDocumento(c.solicitud.documentos,i.id,!0),"estados_documentacion")),o.Hb(2),o.kc("ngIf",2==c.validarEstadoDocumento(c.solicitud.documentos,i.id,!0))}}function ve(t,e){if(1&t&&(o.Vb(0),o.vc(1,me,13,9,"tr",0),o.Ub()),2&t){var n=e.$implicit,i=o.hc(2);o.Hb(1),o.kc("ngIf",(n.tipo_contrato==i.solicitud.tipo_contrato||!n.tipo_contrato)&&n.id<=28)}}function he(t,e){1&t&&(o.Xb(0,"div",54),o.Xb(1,"button",55),o.Tb(2,"i",56),o.Wb(),o.Wb()),2&t&&(o.Hb(1),o.Ib("data-target","#agregarDocumentoModal"))}function _e(t,e){if(1&t&&(o.Xb(0,"option",64),o.xc(1),o.Wb()),2&t){var n=e.$implicit;o.lc("value",n.id),o.Hb(1),o.yc(n.value)}}function We(t,e){if(1&t){var n=o.Yb();o.Xb(0,"div",57),o.Xb(1,"div",15),o.Xb(2,"div",16),o.Xb(3,"form",17,58),o.fc("ngSubmit",(function(){o.sc(n);var t=o.hc(2);return t.cargarDocumentoRequerido(t.documento_a_cargar,t.documentacion.id_documento)})),o.Xb(5,"div",19),o.Xb(6,"h4",20),o.xc(7,"Agregar Documento a la Solicitud"),o.Wb(),o.Xb(8,"button",21),o.xc(9,"\xd7"),o.Wb(),o.Wb(),o.Xb(10,"div",22),o.Xb(11,"div",23),o.Xb(12,"div",24),o.Xb(13,"label",25),o.xc(14,"Seleccione el documento"),o.Xb(15,"span",26),o.xc(16,"*"),o.Wb(),o.Wb(),o.Xb(17,"select",59),o.fc("ngModelChange",(function(t){return o.sc(n),o.hc(2).documentacion.id_documento=t})),o.vc(18,_e,2,2,"option",60),o.Wb(),o.Wb(),o.Wb(),o.Xb(19,"div",23),o.Xb(20,"div",24),o.Xb(21,"label",61),o.xc(22,"Documento adjunto"),o.Xb(23,"span",26),o.xc(24,"*"),o.Wb(),o.Wb(),o.Xb(25,"input",62),o.fc("change",(function(t){return o.sc(n),o.hc(2).documento_a_cargar=t.target.files[0]})),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Xb(26,"div",30),o.Xb(27,"div",31),o.Xb(28,"button",32),o.fc("click",(function(){o.sc(n);var t=o.hc(2);return t.cargarDocumentoRequerido(t.documento_a_cargar,t.documentacion.id_documento)})),o.Tb(29,"i",33),o.xc(30," Adjuntar Documento"),o.Wb(),o.Xb(31,"button",63),o.fc("click",(function(){return o.sc(n),o.hc(2).configurarInformacionInicial()})),o.xc(32,"Cancelar"),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Wb()}if(2&t){var i=o.rc(4),c=o.hc(2);o.Hb(17),o.kc("ngModel",c.documentacion.id_documento),o.Hb(1),o.kc("ngForOf",c.tipos_documentos),o.Hb(10),o.kc("disabled",i.invalid||!c.documento_a_cargar)}}function Xe(t,e){if(1&t){var n=o.Yb();o.Xb(0,"div",65),o.Xb(1,"div",15),o.Xb(2,"div",16),o.Xb(3,"div",19),o.Xb(4,"h4",20),o.xc(5,"Observaci\xf3n del Rechazo del Documento"),o.Wb(),o.Xb(6,"button",21),o.xc(7,"\xd7"),o.Wb(),o.Wb(),o.Xb(8,"div",22),o.Xb(9,"div",23),o.Xb(10,"div",24),o.Xb(11,"label",66),o.xc(12,"Observaci\xf3n"),o.Xb(13,"span",26),o.xc(14,"*"),o.Wb(),o.Wb(),o.Xb(15,"textarea",67),o.xc(16),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Xb(17,"div",30),o.Xb(18,"div",31),o.Xb(19,"button",63),o.fc("click",(function(){return o.sc(n),o.hc(2).observacion=null})),o.xc(20,"Cancelar"),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Wb()}if(2&t){var i=o.hc(2);o.Hb(16),o.yc(i.observacion)}}var ke=function(t){return{"is-invalid":t}};function ye(t,e){if(1&t){var n=o.Yb();o.Vb(0),o.Xb(1,"h3",1),o.xc(2,"Adjuntar Documentaci\xf3n"),o.Wb(),o.Xb(3,"div",2),o.Xb(4,"div",3),o.vc(5,oe,7,11,"ng-container",0),o.vc(6,ae,3,1,"button",4),o.Wb(),o.Wb(),o.Xb(7,"div",5),o.Xb(8,"small"),o.xc(9,"Los documentos marcados con el s\xedmbolo "),o.Tb(10,"i",6),o.xc(11," son obligatorios para finalizar la solicitud"),o.Wb(),o.Wb(),o.Xb(12,"div",7),o.Xb(13,"div",8),o.Xb(14,"table",9),o.Xb(15,"thead",10),o.Xb(16,"tr"),o.Xb(17,"th"),o.xc(18,"Documento Adjunto"),o.Wb(),o.Xb(19,"th"),o.xc(20,"Acciones"),o.Wb(),o.Xb(21,"th"),o.xc(22,"Estado"),o.Wb(),o.Wb(),o.Wb(),o.Xb(23,"tbody",11),o.vc(24,ve,2,1,"ng-container",12),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.vc(25,he,3,1,"div",13),o.Xb(26,"div",14),o.Xb(27,"div",15),o.Xb(28,"div",16),o.Xb(29,"form",17,18),o.fc("ngSubmit",(function(){o.sc(n);var t=o.rc(30);return o.hc().crearCDPCRPPresupuesto(t)})),o.Xb(31,"div",19),o.Xb(32,"h4",20),o.xc(33,"Solicitud de CDP"),o.Wb(),o.Xb(34,"button",21),o.xc(35,"\xd7"),o.Wb(),o.Wb(),o.Xb(36,"div",22),o.Xb(37,"div",23),o.Xb(38,"div",24),o.Xb(39,"label",25),o.xc(40,"Descripci\xf3n de la solicitud"),o.Xb(41,"span",26),o.xc(42,"*"),o.Wb(),o.Wb(),o.Xb(43,"textarea",27,28),o.fc("ngModelChange",(function(t){return o.sc(n),o.hc().presupuesto.descripcion=t})),o.Wb(),o.Wb(),o.Wb(),o.Xb(45,"div",23),o.Xb(46,"div",24),o.Xb(47,"label",25),o.xc(48,"Documento adjunto"),o.Wb(),o.Xb(49,"input",29),o.fc("change",(function(t){return o.sc(n),o.hc().cargarDocumentoRequerido(t.target.files[0],2)})),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Xb(50,"div",30),o.Xb(51,"div",31),o.Xb(52,"button",32),o.fc("click",(function(){o.sc(n);var t=o.rc(30);return o.hc().crearCDPCRPPresupuesto(t)})),o.Tb(53,"i",33),o.xc(54," Solicitar"),o.Wb(),o.Xb(55,"button",34),o.xc(56,"Cancelar"),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.vc(57,We,33,3,"div",35),o.vc(58,Xe,21,1,"div",36),o.Ub()}if(2&t){var i=o.rc(30),c=o.rc(44),a=o.hc();o.Hb(5),o.kc("ngIf",a.CDP),o.Hb(1),o.kc("ngIf",!a.CDP),o.Hb(18),o.kc("ngForOf",a.global.tipos_documentos),o.Hb(1),o.kc("ngIf",7!=a.solicitud.estado),o.Hb(18),o.kc("ngClass",o.nc(9,ke,c.invalid))("ngModel",a.presupuesto.descripcion),o.Hb(9),o.kc("disabled",i.invalid),o.Hb(5),o.kc("ngIf",a.tipos_documentos),o.Hb(1),o.kc("ngIf",a.observacion)}}var xe,Ce=((xe=function(){function t(e,n,i,c,o,a){_classCallCheck(this,t),this._documentacion_service=e,this._file_upload_service=n,this._global_service=i,this._precontractual_service=c,this._presupuesto_service=o,this._router=a,this.global=q.f}return _createClass(t,[{key:"ngOnInit",value:function(){this.configurarInformacionInicial()}},{key:"cancelarSolicitud",value:function(){this._router.navigate(["./contratacion/precontractual/panel-solicitudes"])}},{key:"cargarDocumentoRequerido",value:function(t,e){var n=this;if(this.solicitud.documentos&&this.solicitud.documentos.length>0){var i=!1,c=null,o=null;if(this.solicitud.documentos.forEach((function(t){t.id_documento==e&&(i=!0,c=t.id,o=t.estado)})),3==o&&L.a.fire({position:"center",icon:"warning",title:"El documento ya ha sido aprobado y no puede ser modificado",showConfirmButton:!0}),i&&t)return void this._file_upload_service.cargarArchivo(t,"contratacion").then((function(t){"success"==t.status&&(n.documentacion.id=c,n.documentacion.documento=t.nombre_archivo,n.documentacion.id_documento=e,n._documentacion_service.actualizarDocumentoAdjunto(n.documentacion).subscribe((function(t){L.a.fire({position:"center",icon:"success",title:t.message,showConfirmButton:!0}),n.documento_a_cargar=null,n.configurarInformacionInicial(),n.obtenerSolicitud(n.solicitud.id)})))})).catch((function(t){console.log(t)}))}this._file_upload_service.cargarArchivo(t,"contratacion").then((function(t){"success"==t.status&&(n.documentacion.documento=t.nombre_archivo,n.documentacion.id_documento=e,n._documentacion_service.crearDocumentoAdjunto(n.documentacion).subscribe((function(t){L.a.fire({position:"center",icon:"success",title:t.message,showConfirmButton:!0}),n.obtenerSolicitud(n.solicitud.id)})),document.getElementById("documento_adjunto").value="")})).catch((function(t){console.log(t)}))}},{key:"configurarInformacionInicial",value:function(){var t=this;this.documentacion=new R(null,this.solicitud.id,null,null,1,null,null,null,null),this.solicitud.presupuesto&&this.solicitud.presupuesto.length>0&&this.solicitud.presupuesto.forEach((function(e){1==e.tipo_certificado&&(t.CDP=e)})),this.presupuesto=this.CDP?this.CDP:new E(null,this.solicitud.id,null,null,null,1,null,null,null),this.documentos_cargados=6==this.solicitud.estado,this.documento_a_cargar=null,this.formaterTiposDocumento()}},{key:"configurarObservacion",value:function(t,e){var n=null;return t.forEach((function(t){t.id_documento==e&&(n=t.observacion)})),n}},{key:"crearCDPCRPPresupuesto",value:function(t){var e=this;this._presupuesto_service.crearCDPCRPPresupuesto(this.presupuesto).subscribe((function(n){L.a.fire({position:"center",icon:"success",title:n.message,showConfirmButton:!0}),t.reset(),e.obtenerSolicitud(e.solicitud.id)}))}},{key:"descargarDocumento",value:function(t){this._file_upload_service.descargarDocumento(t,"contratacion").subscribe((function(e){window.open("".concat(q.f.url,"upload/contratacion/").concat(t))}))}},{key:"formaterTiposDocumento",value:function(){var t=this,e=[];this.global.tipos_documentos.forEach((function(n){(n.tipo_contrato==t.solicitud.tipo_contrato||!n.tipo_contrato)&&n.id<=28&&e.push(n)})),this.solicitud.documentos.forEach((function(t){for(var n=0;n<e.length;n++)if(t.id_documento==e[n].id&&3==t.estado){e.splice(n,1);break}})),this.tipos_documentos=e}},{key:"obtenerSolicitud",value:function(t){var e=this;this._precontractual_service.obtenerSolicitud(t).subscribe((function(t){e.solicitud=t.precontractual,e.formaterTiposDocumento(),e.configurarInformacionInicial()}),(function(t){L.a.fire({position:"center",icon:"error",title:t,showConfirmButton:!0})}))}},{key:"onSubmit",value:function(){}},{key:"validarDocumento",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t&&t.length>0){var i=null;if(t.forEach((function(t){t.id_documento==e&&(i=t.documento)})),i)return!!n||i}return!n&&""}},{key:"validarEstadoDocumento",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=!0,c=null;return t&&t.length>0&&t.forEach((function(t){t.id_documento==e&&(c=t.estado,3==t.estado&&(i=!1))})),n?c:i}}]),t}()).\u0275fac=function(t){return new(t||xe)(o.Sb(N),o.Sb(q.b),o.Sb(q.c),o.Sb(U),o.Sb(B),o.Sb(w.d))},xe.\u0275cmp=o.Mb({type:xe,selectors:[["app-agregar-documentos"]],inputs:{solicitud:"solicitud"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"subtitle"],[1,"form-group",2,"margin-bottom","15px"],[1,"col","col-sm-12","pl-0","pr-0"],["type","button","class","btn btn-waves-effect waves-light btn-rounded btn-sm btn-warning mt-2 d-block","title","Agregar CDP","data-toggle","modal",4,"ngIf"],[1,"infoNote"],[1,"fa","fa-times",2,"color","red","font-size","1rem"],[1,"tableContainer"],[1,"table-responsive","tableContainerAll"],[1,"table","table-bordered"],[1,"thead_styles"],[1,"tbody_styles"],[4,"ngFor","ngForOf"],["class","col col-12 text-right",4,"ngIf"],["id","crearCDPCRPPresupuestoModal",1,"modal","animated","fadeIn","faster"],[1,"modal-dialog"],[1,"modal-content"],[1,"form-container",3,"ngSubmit"],["datosCDPForm","ngForm"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close"],[1,"modal-body"],[1,"form-group"],[1,"col","col-sm-12"],["for","descripcion",1,"control-label","labelForm"],[1,"required"],["name","descripcion","id","descripcion","rows","3","minlength","15","maxlength","100","placeholder","Diligencie la descripci\xf3n de la solicitud del CDP (m\xe1ximo 100 caracteres)","required","",1,"form-control","inputForm",3,"ngClass","ngModel","ngModelChange"],["descripcion","ngModel"],["type","file","id","documento_2","accept","application/pdf","required","",1,"form-control","inputForm","mt-2",3,"change"],[1,"modal-footer"],[1,"col","col-sm-12","text-right"],["type","submit","data-dismiss","modal",1,"btn","btn-success",3,"disabled","click"],[1,"fa","fa-check"],["type","button","data-dismiss","modal",1,"btn","btn-inverse","ml-2"],["class","modal animated fadeIn faster","id","agregarDocumentoModal",4,"ngIf"],["class","modal animated fadeIn faster","id","verObservacion",4,"ngIf"],[1,"btn","btn-sm","mb-2","d-inline-block",2,"margin-left","0 !important",3,"ngClass"],["name","descripcion","id","descripcion","rows","3","class","form-control inputForm","disabled","",4,"ngIf"],["type","button","class","btn btn-waves-effect waves-light btn-rounded btn-sm btn-info mt-2 d-block",3,"click",4,"ngIf"],["name","descripcion","id","descripcion","rows","3","disabled","",1,"form-control","inputForm"],["type","button",1,"btn","btn-waves-effect","waves-light","btn-rounded","btn-sm","btn-info","mt-2","d-block",3,"click"],["type","button","title","Agregar CDP","data-toggle","modal",1,"btn","btn-waves-effect","waves-light","btn-rounded","btn-sm","btn-warning","mt-2","d-block"],[1,"fa","fa-plus"],["class","required",4,"ngIf"],[4,"ngIf","ngIfElse"],["elseDocumento",""],["type","button","title","Descargar Documento",1,"btn","btn-success","btn-circle","btn-sm",3,"ngClass","click"],["elseTemplate",""],[1,"fa","fa-times"],["class","fa fa-times","style","color: red; font-size: 1rem",4,"ngIf","ngIfElse"],["elseValidarDocumento",""],["type","button","title","Ver la Observaci\xf3n del Rechazo","data-toggle","modal",1,"btn","btn-warning","btn-sm","ml-1",3,"click"],[1,"fa","fa-pencil"],[1,"col","col-12","text-right"],["type","button","data-toggle","modal","title","Agregar Documento",1,"btn","btn-info","btn-circle","btn-lg"],[1,"fa","fa-upload"],["id","agregarDocumentoModal",1,"modal","animated","fadeIn","faster"],["agregarDocumentoForm","ngForm"],["id","estado_documento","name","estado_documento",1,"form-control","inputForm","custom-select",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["for","documento_adjunto",1,"control-label","labelForm"],["type","file","id","documento_adjunto","accept","application/pdf","required","",1,"form-control","inputForm","mt-2",3,"change"],["type","button","data-dismiss","modal",1,"btn","btn-inverse","ml-2",3,"click"],[3,"value"],["id","verObservacion",1,"modal","animated","fadeIn","faster"],["for","observacion",1,"control-label","labelForm"],["name","observacion","id","observacion","rows","3","disabled","",1,"form-control","inputForm"]],template:function(t,e){1&t&&o.vc(0,ye,59,11,"ng-container",0),2&t&&o.kc("ngIf",e.solicitud)},directives:[i.l,i.k,c.o,c.f,c.g,c.a,c.d,c.c,c.l,i.j,c.e,c.h,c.m,c.i,c.n],pipes:[Y],encapsulation:2}),xe);function Ie(t,e){1&t&&(o.Xb(0,"div",2),o.Xb(1,"div",3),o.Xb(2,"span",4),o.xc(3,"Loading..."),o.Wb(),o.Wb(),o.Wb())}function He(t,e){if(1&t&&(o.Xb(0,"div",12),o.Xb(1,"div",13),o.xc(2),o.Wb(),o.Wb()),2&t){var n=o.hc(2);o.Hb(2),o.zc(" ",n.mensaje_inicial," ")}}function Pe(t,e){if(1&t&&(o.Xb(0,"option",55),o.xc(1),o.Wb()),2&t){var n=e.$implicit;o.lc("value",n.id),o.Hb(1),o.yc(n.value)}}function De(t,e){if(1&t&&(o.Xb(0,"div",56),o.Xb(1,"label",57),o.xc(2,"Seleccione el t\xedpo de contrato"),o.Xb(3,"span",21),o.xc(4,"*"),o.Wb(),o.Wb(),o.Tb(5,"input",58),o.ic(6,"global"),o.Wb()),2&t){var n=o.hc(3);o.Hb(5),o.lc("value",o.jc(6,1,n.solicitud.tipo_contrato,"tipos_contratos"))}}function Se(t,e){if(1&t){var n=o.Yb();o.Xb(0,"label",61),o.Xb(1,"input",62,63),o.fc("ngModelChange",(function(t){return o.sc(n),o.hc(4).solicitud.tipo_contrato=t})),o.Wb(),o.Tb(3,"span",64),o.Xb(4,"span",65),o.xc(5),o.Wb(),o.Wb()}if(2&t){var i=e.$implicit,c=o.hc(4);o.Hb(1),o.lc("id",i.value),o.lc("value",i.id),o.kc("checked",c.solicitud.tipo_contrato==i.id)("ngModel",c.solicitud.tipo_contrato)("disabled",c.bandera_disabled),o.Hb(4),o.yc(i.value)}}function je(t,e){if(1&t&&(o.Xb(0,"div",18),o.Xb(1,"div",50),o.Xb(2,"label",57),o.xc(3,"Seleccione el t\xedpo de contrato"),o.Xb(4,"span",21),o.xc(5,"*"),o.Wb(),o.Wb(),o.Xb(6,"div",59),o.vc(7,Se,6,6,"label",60),o.Wb(),o.Wb(),o.Wb()),2&t){var n=o.hc(3);o.Hb(7),o.kc("ngForOf",n.global.tipos_contratos)}}function Fe(t,e){1&t&&(o.Xb(0,"div",47),o.Xb(1,"a",67),o.xc(2,"F62 \u2013 LJ Formato Informe Previo Administrativo para Comit\xe9 de Contrataci\xf3n"),o.Wb(),o.Wb())}function Me(t,e){1&t&&(o.Xb(0,"div",47),o.Xb(1,"a",68),o.xc(2,"F64 \u2013 LJ Formato Informe Previo Asistencial para Comit\xe9 de Contrataci\xf3n"),o.Wb(),o.Wb())}function we(t,e){if(1&t&&(o.Xb(0,"div",18),o.vc(1,Fe,3,0,"div",66),o.vc(2,Me,3,0,"div",66),o.Wb()),2&t){var n=o.hc(3);o.Hb(1),o.kc("ngIf",1==n.solicitud.tipo_contrato),o.Hb(1),o.kc("ngIf",2==n.solicitud.tipo_contrato)}}function Ae(t,e){if(1&t){var n=o.Yb();o.Xb(0,"input",69),o.fc("change",(function(t){return o.sc(n),o.hc(3).cambiarDocumento(t.target.files[0])})),o.Wb()}}function Le(t,e){if(1&t){var n=o.Yb();o.Xb(0,"button",70),o.fc("click",(function(){return o.sc(n),o.hc(3).descargarDocumento()})),o.xc(1),o.Wb()}if(2&t){var i=o.hc(3);o.Hb(1),o.yc(i.solicitud.documento_adjunto)}}function Re(t,e){1&t&&(o.Xb(0,"label",51),o.xc(1,"Observaciones"),o.Wb())}function Oe(t,e){if(1&t&&(o.Xb(0,"div",18),o.Xb(1,"div",50),o.vc(2,Re,2,0,"label",71),o.Xb(3,"textarea",72),o.xc(4),o.Wb(),o.Wb(),o.Wb()),2&t){var n=o.hc(3);o.Hb(2),o.kc("ngIf",4==n.solicitud.estado),o.Hb(2),o.yc(n.solicitud.observaciones_juridica)}}function Ee(t,e){if(1&t){var n=o.Yb();o.Xb(0,"div",73),o.Xb(1,"div",74),o.Xb(2,"button",75),o.Tb(3,"i",76),o.xc(4," Enviar"),o.Wb(),o.Xb(5,"button",77),o.fc("click",(function(){return o.sc(n),o.hc(3).cancelarSolicitud()})),o.xc(6,"Cancelar"),o.Wb(),o.Wb(),o.Wb()}if(2&t){o.hc();var i=o.rc(1),c=o.hc(2);o.Hb(2),o.kc("disabled",i.invalid||null==c.solicitud.tipo_contrato||null==c.solicitud.tipo_contrato||!c.documento_adjunto&&!c.solicitud.documento_adjunto)}}var Te=function(t){return{"is-invalid":t}},qe=function(t,e){return{"col-sm-6":t,"col-sm-12":e}};function ze(t,e){if(1&t){var n=o.Yb();o.Xb(0,"form",14,15),o.fc("ngSubmit",(function(){o.sc(n);var t=o.rc(1);return o.hc(2).onSubmit(t)})),o.Xb(2,"div",16),o.Xb(3,"h3",17),o.xc(4,"Datos del Solicitante"),o.Wb(),o.Xb(5,"div",18),o.Xb(6,"div",19),o.Xb(7,"label",20),o.xc(8,"Primer Nombre"),o.Xb(9,"span",21),o.xc(10,"*"),o.Wb(),o.Wb(),o.Xb(11,"input",22,23),o.fc("ngModelChange",(function(t){return o.sc(n),o.hc(2).solicitud.primer_nombre=t}))("ngModelChange",(function(t){o.sc(n);var e=o.hc(2);return e.solicitud.primer_nombre=e._global_service.upperCase(t)})),o.Wb(),o.Wb(),o.Xb(13,"div",19),o.Xb(14,"label",24),o.xc(15,"Segundo Nombre"),o.Wb(),o.Xb(16,"input",25,26),o.fc("ngModelChange",(function(t){return o.sc(n),o.hc(2).solicitud.segundo_nombre=t}))("ngModelChange",(function(t){o.sc(n);var e=o.hc(2);return e.solicitud.segundo_nombre=e._global_service.upperCase(t)})),o.Wb(),o.Wb(),o.Xb(18,"div",19),o.Xb(19,"label",27),o.xc(20,"Primer Apellido"),o.Xb(21,"span",21),o.xc(22,"*"),o.Wb(),o.Wb(),o.Xb(23,"input",28,29),o.fc("ngModelChange",(function(t){return o.sc(n),o.hc(2).solicitud.primer_apellido=t}))("ngModelChange",(function(t){o.sc(n);var e=o.hc(2);return e.solicitud.primer_apellido=e._global_service.upperCase(t)})),o.Wb(),o.Wb(),o.Xb(25,"div",19),o.Xb(26,"label",30),o.xc(27,"Segundo Apellido"),o.Wb(),o.Xb(28,"input",31,32),o.fc("ngModelChange",(function(t){return o.sc(n),o.hc(2).solicitud.segundo_apellido=t}))("ngModelChange",(function(t){o.sc(n);var e=o.hc(2);return e.solicitud.segundo_apellido=e._global_service.upperCase(t)})),o.Wb(),o.Wb(),o.Wb(),o.Xb(30,"div",18),o.Xb(31,"div",33),o.Xb(32,"label",34),o.xc(33,"Cargo"),o.Xb(34,"span",21),o.xc(35,"*"),o.Wb(),o.Wb(),o.Xb(36,"input",35,36),o.fc("ngModelChange",(function(t){return o.sc(n),o.hc(2).solicitud.cargo=t}))("ngModelChange",(function(t){o.sc(n);var e=o.hc(2);return e.solicitud.cargo=e._global_service.upperCase(t)})),o.Wb(),o.Wb(),o.Xb(38,"div",33),o.Xb(39,"label",37),o.xc(40,"\xc1rea"),o.Xb(41,"span",21),o.xc(42,"*"),o.Wb(),o.Wb(),o.Xb(43,"select",38,39),o.fc("ngModelChange",(function(t){return o.sc(n),o.hc(2).solicitud.area_solicitante=t})),o.vc(45,Pe,2,2,"option",40),o.Wb(),o.Wb(),o.Wb(),o.Xb(46,"div",18),o.Xb(47,"div",41),o.Xb(48,"label",42),o.xc(49,"Correo electr\xf3nico"),o.Xb(50,"span",21),o.xc(51,"*"),o.Wb(),o.Wb(),o.Xb(52,"input",43,44),o.fc("ngModelChange",(function(t){return o.sc(n),o.hc(2).solicitud.correo_electronico=t})),o.Wb(),o.Wb(),o.vc(54,De,7,4,"div",45),o.Wb(),o.vc(55,je,8,1,"div",46),o.Xb(56,"h3",17),o.xc(57,"Descripci\xf3n"),o.Xb(58,"span",21),o.xc(59,"*"),o.Wb(),o.Wb(),o.Xb(60,"div",18),o.Xb(61,"div",47),o.Xb(62,"textarea",48,49),o.fc("ngModelChange",(function(t){return o.sc(n),o.hc(2).solicitud.descripcion_solicitud=t})),o.Wb(),o.Wb(),o.Wb(),o.vc(64,we,3,2,"div",46),o.Xb(65,"div",18),o.Xb(66,"div",50),o.Xb(67,"label",51),o.xc(68,"Documento Adjunto"),o.Xb(69,"span",21),o.xc(70,"*"),o.Wb(),o.Wb(),o.vc(71,Ae,1,0,"input",52),o.vc(72,Le,2,1,"button",53),o.Wb(),o.Wb(),o.vc(73,Oe,5,2,"div",46),o.Wb(),o.vc(74,Ee,7,1,"div",54),o.Wb()}if(2&t){var i=o.rc(12),c=o.rc(17),a=o.rc(24),r=o.rc(29),l=o.rc(37),s=o.rc(44),u=o.rc(53),b=o.rc(63),d=o.hc(2);o.Hb(11),o.kc("ngClass",o.nc(33,Te,i.invalid))("ngModel",d.solicitud.primer_nombre)("disabled",d.bandera_disabled),o.Hb(5),o.kc("ngClass",o.nc(35,Te,c.invalid))("ngModel",d.solicitud.segundo_nombre)("disabled",d.bandera_disabled),o.Hb(7),o.kc("ngClass",o.nc(37,Te,a.invalid))("ngModel",d.solicitud.primer_apellido)("disabled",d.bandera_disabled),o.Hb(5),o.kc("ngClass",o.nc(39,Te,r.invalid))("ngModel",d.solicitud.segundo_apellido)("disabled",d.bandera_disabled),o.Hb(8),o.kc("ngClass",o.nc(41,Te,l.invalid))("ngModel",d.solicitud.cargo)("disabled",d.bandera_disabled),o.Hb(7),o.kc("ngClass",o.nc(43,Te,s.invalid))("ngModel",d.solicitud.area_solicitante)("disabled",d.bandera_disabled),o.Hb(2),o.kc("ngForOf",d.global.areas_contratacion),o.Hb(2),o.kc("ngClass",o.oc(45,qe,d.bandera_disabled,!d.bandera_disabled)),o.Hb(5),o.kc("ngClass",o.nc(48,Te,u.invalid))("ngModel",d.solicitud.correo_electronico)("disabled",d.bandera_disabled),o.Hb(2),o.kc("ngIf",d.bandera_disabled),o.Hb(1),o.kc("ngIf",!d.bandera_disabled),o.Hb(7),o.kc("ngClass",o.nc(50,Te,b.invalid))("ngModel",d.solicitud.descripcion_solicitud)("disabled",d.bandera_disabled),o.Hb(2),o.kc("ngIf",d.solicitud.tipo_contrato&&!d.bandera_disabled),o.Hb(7),o.kc("ngIf",!d.bandera_disabled||4==d.solicitud.estado),o.Hb(1),o.kc("ngIf",!d.documento_adjunto&&d.solicitud.documento_adjunto),o.Hb(1),o.kc("ngIf",d.solicitud.observaciones_juridica),o.Hb(1),o.kc("ngIf",!d.bandera_disabled||4==d.solicitud.estado)}}function Ne(t,e){if(1&t&&(o.Vb(0),o.Tb(1,"app-agregar-documentos",78),o.Ub()),2&t){var n=o.hc(2);o.Hb(1),o.kc("solicitud",n.solicitud)}}function Ue(t,e){if(1&t&&(o.Xb(0,"div",5),o.Xb(1,"div",6),o.Xb(2,"a",7),o.xc(3,"Regresar"),o.Wb(),o.Wb(),o.Xb(4,"div",8),o.vc(5,He,3,1,"div",9),o.vc(6,ze,75,52,"form",10),o.vc(7,Ne,2,1,"ng-container",11),o.Wb(),o.xc(8),o.Wb()),2&t){var n=o.hc();o.Hb(5),o.kc("ngIf",n.mensaje_inicial),o.Hb(1),o.kc("ngIf",n.solicitud),o.Hb(1),o.kc("ngIf",6==n.solicitud.estado||7==n.solicitud.estado),o.Hb(1),o.zc(" ",n.configurarCheckInput(),"\n")}}var $e,Be=(($e=function(){function t(e,n,i,c,o){_classCallCheck(this,t),this._file_upload_service=e,this._global_service=n,this._precontractual_service=i,this._route=c,this._router=o,this.global=q.f,this.bandera_disabled=!0,this.bandera_inicial=!1,this.bandera_juridica=!1,this.mensaje_inicial=null}return _createClass(t,[{key:"ngOnInit",value:function(){this.mensaje_inicial=null,this.obtenerInformacionInicial()}},{key:"cambiarDocumento",value:function(t){this.documento_adjunto=t}},{key:"cancelarSolicitud",value:function(){this._router.navigate(["./contratacion/precontractual/panel-solicitudes"])}},{key:"descargarDocumento",value:function(){var t=this;this._file_upload_service.descargarDocumento(this.solicitud.documento_adjunto,"contratacion").subscribe((function(e){window.open("".concat(q.f.url,"upload/contratacion/").concat(t.solicitud.documento_adjunto))}))}},{key:"guardarObservacionJuridica",value:function(t){}},{key:"obtenerInformacionInicial",value:function(){var t=this;this._route.params.subscribe((function(e){Promise.all([t.obtenerSolicitud(e.id)]).then((function(e){t.solicitud=e[0],1!=t.solicitud.estado||t.solicitud.observaciones_juridica||(t.bandera_disabled=!1),t.bandera_inicial=!0})).catch((function(e){t.mensaje_inicial=e,t.bandera_inicial=!0}))}))}},{key:"obtenerSolicitud",value:function(t){var e=this;return new Promise((function(n,i){e._precontractual_service.obtenerSolicitud(t).subscribe((function(t){n(t.precontractual)}),(function(t){i(t)}))}))}},{key:"onSubmit",value:function(t){var e=this;this.documento_adjunto?this._file_upload_service.cargarArchivo(this.documento_adjunto,"contratacion").then((function(n){"success"==n.status&&(e.solicitud.documento_adjunto=n.nombre_archivo,e.solicitud.observaciones_juridica=null,e._precontractual_service.actualizarSolicitudPrecontractual(e.solicitud).subscribe((function(n){L.a.fire({position:"center",icon:"success",title:"Se ha actualizado la solicitud con el n\xfamero de consecutivo "+e.solicitud.id,showConfirmButton:!0}),t.reset(),e.cancelarSolicitud()})))})).catch((function(t){console.log(t)})):this._precontractual_service.actualizarSolicitudPrecontractual(this.solicitud).subscribe((function(n){L.a.fire({position:"center",icon:"success",title:"Se ha actualizado la solicitud con el n\xfamero de consecutivo "+e.solicitud.id,showConfirmButton:!0}),t.reset(),e.cancelarSolicitud()}))}},{key:"configurarCheckInput",value:function(){for(var t=0;t<this.global.tipos_contratos.length;t++)if(this.solicitud.tipo_contrato==this.global.tipos_contratos[t].id){var e=document.getElementById(this.global.tipos_contratos[t].value);e&&(e.checked=!0);break}}}]),t}()).\u0275fac=function(t){return new(t||$e)(o.Sb(q.b),o.Sb(q.c),o.Sb(U),o.Sb(w.a),o.Sb(w.d))},$e.\u0275cmp=o.Mb({type:$e,selectors:[["app-editar-solicitud"]],decls:2,vars:2,consts:[["class","text-center",4,"ngIf"],["class","col-lg-12 pr-0 pl-0",4,"ngIf"],[1,"text-center"],["role","status",1,"spinner-grow","text-info"],[1,"sr-only"],[1,"col-lg-12","pr-0","pl-0"],[1,"backLink","col","col-sm-12"],["routerLink","/contratacion/precontractual/panel-solicitudes",1,"col-sm-12"],[1,"formContainer"],["class","col col-12 mt-2",4,"ngIf"],[3,"ngSubmit",4,"ngIf"],[4,"ngIf"],[1,"col","col-12","mt-2"],["role","alert",1,"alert","alert-warning"],[3,"ngSubmit"],["solicitudForm","ngForm"],[1,"form-body"],[1,"subtitle"],[1,"form-group"],[1,"col","col-sm-12","col-md-3","d-inline-block"],["for","primer_nombre",1,"control-label","labelForm"],[1,"required"],["type","text","id","primer_nombre","name","primer_nombre","maxlength","60","pattern","[a-zA-Z\xc0-\xff ]+","required","",1,"form-control","inputForm",3,"ngClass","ngModel","disabled","ngModelChange"],["primer_nombre","ngModel"],["for","segundo_nombre",1,"control-label","labelForm"],["type","text","id","segundo_nombre","name","segundo_nombre","maxlength","60","pattern","[a-zA-Z\xc0-\xff ]+",1,"form-control","inputForm",3,"ngClass","ngModel","disabled","ngModelChange"],["segundo_nombre","ngModel"],["for","primer_apellido",1,"control-label","labelForm"],["type","text","id","primer_apellido","name","primer_apellido","maxlength","60","pattern","[a-zA-Z\xc0-\xff ]+","required","",1,"form-control","inputForm",3,"ngClass","ngModel","disabled","ngModelChange"],["primer_apellido","ngModel"],["for","segundo_apellido",1,"control-label","labelForm"],["type","text","id","segundo_apellido","name","segundo_apellido","maxlength","60","pattern","[a-zA-Z\xc0-\xff ]+",1,"form-control","inputForm",3,"ngClass","ngModel","disabled","ngModelChange"],["segundo_apellido","ngModel"],[1,"col","col-sm-12","col-md-6","d-inline-block"],["for","cargo",1,"control-label","labelForm"],["type","text","id","cargo","name","cargo","maxlength","60","required","",1,"form-control","inputForm",3,"ngClass","ngModel","disabled","ngModelChange"],["cargo","ngModel"],["for","area_solicitante",1,"control-label","labelForm"],["id","area_solicitante","name","area_solicitante","required","",1,"form-control","inputForm","custom-select",3,"ngClass","ngModel","disabled","ngModelChange"],["area_solicitante","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"col","d-inline-block",3,"ngClass"],["for","correo_electronico",1,"control-label","labelForm"],["type","text","id","correo_electronico","name","correo_electronico","maxlength","255","placeholder","ejemplo@capitalsalud.gov.co","pattern","[a-zA-Z0-9._%+-]+@capitalsalud.gov.co","required","",1,"form-control","inputForm",3,"ngClass","ngModel","disabled","ngModelChange"],["correo_electronico","ngModel"],["class","col col-sm-6 d-inline-block",4,"ngIf"],["class","form-group",4,"ngIf"],[1,"col","col-sm-12"],["name","descripcion_solicitud","id","descripcion_solicitud","rows","3","minlength","15","maxlength","100","placeholder","Diligencia la solicitud (m\xe1ximo 100 caracteres)","required","",1,"form-control","inputForm",3,"ngClass","ngModel","disabled","ngModelChange"],["descripcion_solicitud","ngModel"],[1,"col","col-12"],["for","documento_adjunto",1,"control-label","labelForm"],["type","file","class","form-control inputForm","id","documento_adjunto","accept","application/pdf",3,"change",4,"ngIf"],["type","button","class","btn btn-waves-effect waves-light btn-rounded btn-sm btn-success mt-2 d-block",3,"click",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"value"],[1,"col","col-sm-6","d-inline-block"],[1,"control-label","labelForm"],["type","text","id","tipo_contrato","name","tipo_contrato","disabled","",1,"form-control","inputForm",3,"value"],[1,"form-check"],["class","custom-control custom-radio",4,"ngFor","ngForOf"],[1,"custom-control","custom-radio"],["name","tipo_contrato","type","radio",1,"custom-control-input",3,"id","checked","value","ngModel","disabled","ngModelChange"],["tipo_contrato","ngModel"],[1,"custom-control-indicator"],[1,"custom-control-description"],["class","col col-sm-12",4,"ngIf"],["href","https://red.capitalsalud.gov.co/wp-content/uploads/2021/08/F62-LJ.docx","target","_blank",1,"btn","waves-effect","waves-light","btn-rounded","btn-sm","btn-info"],["href","https://red.capitalsalud.gov.co/wp-content/uploads/2021/08/F64-LJ.docx","target","_blank",1,"btn","waves-effect","waves-light","btn-rounded","btn-sm","btn-info"],["type","file","id","documento_adjunto","accept","application/pdf",1,"form-control","inputForm",3,"change"],["type","button",1,"btn","btn-waves-effect","waves-light","btn-rounded","btn-sm","btn-success","mt-2","d-block",3,"click"],["for","documento_adjunto","class","control-label labelForm",4,"ngIf"],["name","observaciones","id","observaciones","rows","3","disabled","",1,"form-control","inputForm"],[1,"form-actions"],[1,"col","col-sm-12","text-right"],["type","submit",1,"btn","btn-success",3,"disabled"],[1,"fa","fa-check"],["type","button",1,"btn","btn-inverse","ml-2",3,"click"],[3,"solicitud"]],template:function(t,e){1&t&&(o.vc(0,Ie,4,0,"div",0),o.vc(1,Ue,9,4,"div",1)),2&t&&(o.kc("ngIf",!e.bandera_inicial),o.Hb(1),o.kc("ngIf",e.bandera_inicial))},directives:[i.l,w.f,c.o,c.f,c.g,c.a,c.c,c.j,c.l,i.j,c.e,c.h,c.m,i.k,c.d,c.i,c.n,c.k,Ce],pipes:[Y],encapsulation:2}),$e);function Ve(t,e){1&t&&(o.Xb(0,"div",2),o.Xb(1,"div",3),o.Xb(2,"span",4),o.xc(3,"Loading..."),o.Wb(),o.Wb(),o.Wb())}function Ye(t,e){if(1&t&&(o.Xb(0,"div",12),o.Xb(1,"div",13),o.xc(2),o.Wb(),o.Wb()),2&t){var n=o.hc(2);o.Hb(2),o.zc(" ",n.mensaje_inicial," ")}}function Je(t,e){if(1&t&&(o.Xb(0,"option",55),o.xc(1),o.Wb()),2&t){var n=e.$implicit;o.lc("value",n.id),o.Hb(1),o.yc(n.value)}}function Ze(t,e){if(1&t&&(o.Xb(0,"div",56),o.Xb(1,"label",57),o.xc(2,"Seleccione el t\xedpo de contrato"),o.Xb(3,"span",21),o.xc(4,"*"),o.Wb(),o.Wb(),o.Tb(5,"input",58),o.ic(6,"global"),o.Wb()),2&t){var n=o.hc(3);o.Hb(5),o.lc("value",o.jc(6,1,n.solicitud.tipo_contrato,"tipos_contratos"))}}function Ge(t,e){if(1&t){var n=o.Yb();o.Xb(0,"label",61),o.Xb(1,"input",62,63),o.fc("ngModelChange",(function(t){return o.sc(n),o.hc(4).solicitud.tipo_contrato=t})),o.Wb(),o.Tb(3,"span",64),o.Xb(4,"span",65),o.xc(5),o.Wb(),o.Wb()}if(2&t){var i=e.$implicit,c=o.hc(4);o.Hb(1),o.lc("id",i.value),o.lc("value",i.id),o.kc("checked",c.solicitud.tipo_contrato==i.id)("ngModel",c.solicitud.tipo_contrato)("disabled",c.bandera_disabled),o.Hb(4),o.yc(i.value)}}function Ke(t,e){if(1&t&&(o.Xb(0,"div",18),o.Xb(1,"div",50),o.Xb(2,"label",57),o.xc(3,"Seleccione el t\xedpo de contrato"),o.Xb(4,"span",21),o.xc(5,"*"),o.Wb(),o.Wb(),o.Xb(6,"div",59),o.vc(7,Ge,6,6,"label",60),o.Wb(),o.Wb(),o.Wb()),2&t){var n=o.hc(3);o.Hb(7),o.kc("ngForOf",n.global.tipos_contratos)}}function Qe(t,e){1&t&&(o.Xb(0,"div",47),o.Xb(1,"a",67),o.xc(2,"F62 \u2013 LJ Formato Informe Previo Administrativo para Comit\xe9 de Contrataci\xf3n"),o.Wb(),o.Wb())}function tn(t,e){1&t&&(o.Xb(0,"div",47),o.Xb(1,"a",68),o.xc(2,"F64 \u2013 LJ Formato Informe Previo Asistencial para Comit\xe9 de Contrataci\xf3n"),o.Wb(),o.Wb())}function en(t,e){if(1&t&&(o.Xb(0,"div",18),o.vc(1,Qe,3,0,"div",66),o.vc(2,tn,3,0,"div",66),o.Wb()),2&t){var n=o.hc(3);o.Hb(1),o.kc("ngIf",1==n.solicitud.tipo_contrato),o.Hb(1),o.kc("ngIf",2==n.solicitud.tipo_contrato)}}function nn(t,e){if(1&t){var n=o.Yb();o.Xb(0,"input",69),o.fc("change",(function(t){return o.sc(n),o.hc(3).cambiarDocumento(t.target.files[0])})),o.Wb()}}function cn(t,e){if(1&t){var n=o.Yb();o.Xb(0,"button",70),o.fc("click",(function(){return o.sc(n),o.hc(3).descargarDocumento()})),o.xc(1),o.Wb()}if(2&t){var i=o.hc(3);o.Hb(1),o.yc(i.solicitud.documento_adjunto)}}function on(t,e){1&t&&(o.Xb(0,"label",51),o.xc(1,"Observaciones"),o.Wb())}function an(t,e){if(1&t&&(o.Xb(0,"div",18),o.Xb(1,"div",50),o.vc(2,on,2,0,"label",71),o.Xb(3,"textarea",72),o.xc(4),o.Wb(),o.Wb(),o.Wb()),2&t){var n=o.hc(3);o.Hb(2),o.kc("ngIf",4==n.solicitud.estado),o.Hb(2),o.yc(n.solicitud.observaciones_juridica)}}function rn(t,e){if(1&t){var n=o.Yb();o.Xb(0,"div",73),o.Xb(1,"div",74),o.Xb(2,"button",75),o.Tb(3,"i",76),o.xc(4," Enviar"),o.Wb(),o.Xb(5,"button",77),o.fc("click",(function(){return o.sc(n),o.hc(3).cancelarSolicitud()})),o.xc(6,"Cancelar"),o.Wb(),o.Wb(),o.Wb()}if(2&t){o.hc();var i=o.rc(1),c=o.hc(2);o.Hb(2),o.kc("disabled",i.invalid||null==c.solicitud.tipo_contrato||null==c.solicitud.tipo_contrato||!c.documento_adjunto&&!c.solicitud.documento_adjunto)}}var ln=function(t){return{"is-invalid":t}},sn=function(t,e){return{"col-sm-6":t,"col-sm-12":e}};function un(t,e){if(1&t){var n=o.Yb();o.Xb(0,"form",14,15),o.fc("ngSubmit",(function(){o.sc(n);var t=o.rc(1);return o.hc(2).onSubmit(t)})),o.Xb(2,"div",16),o.Xb(3,"h3",17),o.xc(4,"Datos del Solicitante"),o.Wb(),o.Xb(5,"div",18),o.Xb(6,"div",19),o.Xb(7,"label",20),o.xc(8,"Primer Nombre"),o.Xb(9,"span",21),o.xc(10,"*"),o.Wb(),o.Wb(),o.Xb(11,"input",22,23),o.fc("ngModelChange",(function(t){return o.sc(n),o.hc(2).solicitud.primer_nombre=t}))("ngModelChange",(function(t){o.sc(n);var e=o.hc(2);return e.solicitud.primer_nombre=e._global_service.upperCase(t)})),o.Wb(),o.Wb(),o.Xb(13,"div",19),o.Xb(14,"label",24),o.xc(15,"Segundo Nombre"),o.Wb(),o.Xb(16,"input",25,26),o.fc("ngModelChange",(function(t){return o.sc(n),o.hc(2).solicitud.segundo_nombre=t}))("ngModelChange",(function(t){o.sc(n);var e=o.hc(2);return e.solicitud.segundo_nombre=e._global_service.upperCase(t)})),o.Wb(),o.Wb(),o.Xb(18,"div",19),o.Xb(19,"label",27),o.xc(20,"Primer Apellido"),o.Xb(21,"span",21),o.xc(22,"*"),o.Wb(),o.Wb(),o.Xb(23,"input",28,29),o.fc("ngModelChange",(function(t){return o.sc(n),o.hc(2).solicitud.primer_apellido=t}))("ngModelChange",(function(t){o.sc(n);var e=o.hc(2);return e.solicitud.primer_apellido=e._global_service.upperCase(t)})),o.Wb(),o.Wb(),o.Xb(25,"div",19),o.Xb(26,"label",30),o.xc(27,"Segundo Apellido"),o.Wb(),o.Xb(28,"input",31,32),o.fc("ngModelChange",(function(t){return o.sc(n),o.hc(2).solicitud.segundo_apellido=t}))("ngModelChange",(function(t){o.sc(n);var e=o.hc(2);return e.solicitud.segundo_apellido=e._global_service.upperCase(t)})),o.Wb(),o.Wb(),o.Wb(),o.Xb(30,"div",18),o.Xb(31,"div",33),o.Xb(32,"label",34),o.xc(33,"Cargo"),o.Xb(34,"span",21),o.xc(35,"*"),o.Wb(),o.Wb(),o.Xb(36,"input",35,36),o.fc("ngModelChange",(function(t){return o.sc(n),o.hc(2).solicitud.cargo=t}))("ngModelChange",(function(t){o.sc(n);var e=o.hc(2);return e.solicitud.cargo=e._global_service.upperCase(t)})),o.Wb(),o.Wb(),o.Xb(38,"div",33),o.Xb(39,"label",37),o.xc(40,"\xc1rea"),o.Xb(41,"span",21),o.xc(42,"*"),o.Wb(),o.Wb(),o.Xb(43,"select",38,39),o.fc("ngModelChange",(function(t){return o.sc(n),o.hc(2).solicitud.area_solicitante=t})),o.vc(45,Je,2,2,"option",40),o.Wb(),o.Wb(),o.Wb(),o.Xb(46,"div",18),o.Xb(47,"div",41),o.Xb(48,"label",42),o.xc(49,"Correo electr\xf3nico"),o.Xb(50,"span",21),o.xc(51,"*"),o.Wb(),o.Wb(),o.Xb(52,"input",43,44),o.fc("ngModelChange",(function(t){return o.sc(n),o.hc(2).solicitud.correo_electronico=t})),o.Wb(),o.Wb(),o.vc(54,Ze,7,4,"div",45),o.Wb(),o.vc(55,Ke,8,1,"div",46),o.Xb(56,"h3",17),o.xc(57,"Descripci\xf3n"),o.Xb(58,"span",21),o.xc(59,"*"),o.Wb(),o.Wb(),o.Xb(60,"div",18),o.Xb(61,"div",47),o.Xb(62,"textarea",48,49),o.fc("ngModelChange",(function(t){return o.sc(n),o.hc(2).solicitud.descripcion_solicitud=t})),o.Wb(),o.Wb(),o.Wb(),o.vc(64,en,3,2,"div",46),o.Xb(65,"div",18),o.Xb(66,"div",50),o.Xb(67,"label",51),o.xc(68,"Documento Adjunto"),o.Xb(69,"span",21),o.xc(70,"*"),o.Wb(),o.Wb(),o.vc(71,nn,1,0,"input",52),o.vc(72,cn,2,1,"button",53),o.Wb(),o.Wb(),o.vc(73,an,5,2,"div",46),o.Wb(),o.vc(74,rn,7,1,"div",54),o.Wb()}if(2&t){var i=o.rc(12),c=o.rc(17),a=o.rc(24),r=o.rc(29),l=o.rc(37),s=o.rc(44),u=o.rc(53),b=o.rc(63),d=o.hc(2);o.Hb(11),o.kc("ngClass",o.nc(33,ln,i.invalid))("ngModel",d.solicitud.primer_nombre)("disabled",d.bandera_disabled),o.Hb(5),o.kc("ngClass",o.nc(35,ln,c.invalid))("ngModel",d.solicitud.segundo_nombre)("disabled",d.bandera_disabled),o.Hb(7),o.kc("ngClass",o.nc(37,ln,a.invalid))("ngModel",d.solicitud.primer_apellido)("disabled",d.bandera_disabled),o.Hb(5),o.kc("ngClass",o.nc(39,ln,r.invalid))("ngModel",d.solicitud.segundo_apellido)("disabled",d.bandera_disabled),o.Hb(8),o.kc("ngClass",o.nc(41,ln,l.invalid))("ngModel",d.solicitud.cargo)("disabled",d.bandera_disabled),o.Hb(7),o.kc("ngClass",o.nc(43,ln,s.invalid))("ngModel",d.solicitud.area_solicitante)("disabled",d.bandera_disabled),o.Hb(2),o.kc("ngForOf",d.global.areas_contratacion),o.Hb(2),o.kc("ngClass",o.oc(45,sn,d.bandera_disabled,!d.bandera_disabled)),o.Hb(5),o.kc("ngClass",o.nc(48,ln,u.invalid))("ngModel",d.solicitud.correo_electronico)("disabled",d.bandera_disabled),o.Hb(2),o.kc("ngIf",d.bandera_disabled),o.Hb(1),o.kc("ngIf",!d.bandera_disabled),o.Hb(7),o.kc("ngClass",o.nc(50,ln,b.invalid))("ngModel",d.solicitud.descripcion_solicitud)("disabled",d.bandera_disabled),o.Hb(2),o.kc("ngIf",d.solicitud.tipo_contrato&&!d.bandera_disabled),o.Hb(7),o.kc("ngIf",!d.bandera_disabled||4==d.solicitud.estado),o.Hb(1),o.kc("ngIf",!d.documento_adjunto&&d.solicitud.documento_adjunto),o.Hb(1),o.kc("ngIf",d.solicitud.observaciones_juridica),o.Hb(1),o.kc("ngIf",!d.bandera_disabled||4==d.solicitud.estado)}}function bn(t,e){if(1&t&&(o.Vb(0),o.Tb(1,"app-agregar-documentos",78),o.Ub()),2&t){var n=o.hc(2);o.Hb(1),o.kc("solicitud",n.solicitud)}}function dn(t,e){if(1&t&&(o.Xb(0,"div",5),o.Xb(1,"div",6),o.Xb(2,"a",7),o.xc(3,"Regresar"),o.Wb(),o.Wb(),o.Xb(4,"div",8),o.vc(5,Ye,3,1,"div",9),o.vc(6,un,75,52,"form",10),o.vc(7,bn,2,1,"ng-container",11),o.Wb(),o.xc(8),o.Wb()),2&t){var n=o.hc();o.Hb(5),o.kc("ngIf",n.mensaje_inicial),o.Hb(1),o.kc("ngIf",n.solicitud),o.Hb(1),o.kc("ngIf",6==n.solicitud.estado||7==n.solicitud.estado),o.Hb(1),o.zc(" ",n.configurarCheckInput(),"\n")}}var fn,pn=((fn=function(){function t(e,n,i,c){_classCallCheck(this,t),this._file_upload_service=e,this._global_service=n,this._precontractual_service=i,this._router=c,this.bandera_disabled=!1,this.bandera_inicial=!0,this.bandera_juridica=!1,this.mensaje_inicial=null,this.solicitud=null,this.global=q.f}return _createClass(t,[{key:"ngOnInit",value:function(){this.obtenerValoresInicial()}},{key:"cambiarDocumento",value:function(t){this.documento_adjunto=t}},{key:"cancelarSolicitud",value:function(){this.configurarInformacionInicial(),this._router.navigate(["./contratacion/precontractual/panel-solicitudes"])}},{key:"configurarCheckInput",value:function(){}},{key:"configurarInformacionInicial",value:function(){this.solicitud=new T(null,null,null,null,null,null,null,null,null,null,null,null,null,null),this.observaciones_juridica=new O(null,null,null,null,null,null)}},{key:"descargarDocumento",value:function(){var t=this;this._file_upload_service.descargarDocumento(this.solicitud.documento_adjunto,"contratacion").subscribe((function(e){window.open("".concat(q.f.url,"upload/contratacion/").concat(t.solicitud.documento_adjunto))}))}},{key:"guardarObservacionJuridica",value:function(t){}},{key:"obtenerValoresInicial",value:function(){this.configurarInformacionInicial()}},{key:"onSubmit",value:function(t){var e=this;this._file_upload_service.cargarArchivo(this.documento_adjunto,"contratacion").then((function(n){"success"==n.status&&(e.solicitud.documento_adjunto=n.nombre_archivo,e._precontractual_service.crearSolicitudPrecontractual(e.solicitud).subscribe((function(n){L.a.fire({position:"center",icon:"success",title:"Se ha creado la solicitud precontractual correctamente en el sistema con el n\xfamero de consectuvo "+n.precontractual.id,showConfirmButton:!0}),t.reset(),e.cancelarSolicitud()})))})).catch((function(t){console.log(t)}))}}]),t}()).\u0275fac=function(t){return new(t||fn)(o.Sb(q.b),o.Sb(q.c),o.Sb(U),o.Sb(w.d))},fn.\u0275cmp=o.Mb({type:fn,selectors:[["app-nueva-solicitud"]],decls:2,vars:2,consts:[["class","text-center",4,"ngIf"],["class","col-lg-12 pr-0 pl-0",4,"ngIf"],[1,"text-center"],["role","status",1,"spinner-grow","text-info"],[1,"sr-only"],[1,"col-lg-12","pr-0","pl-0"],[1,"backLink","col","col-sm-12"],["routerLink","/contratacion/precontractual/panel-solicitudes",1,"col-sm-12"],[1,"formContainer"],["class","col col-12 mt-2",4,"ngIf"],[3,"ngSubmit",4,"ngIf"],[4,"ngIf"],[1,"col","col-12","mt-2"],["role","alert",1,"alert","alert-warning"],[3,"ngSubmit"],["solicitudForm","ngForm"],[1,"form-body"],[1,"subtitle"],[1,"form-group"],[1,"col","col-sm-12","col-md-3","d-inline-block"],["for","primer_nombre",1,"control-label","labelForm"],[1,"required"],["type","text","id","primer_nombre","name","primer_nombre","maxlength","60","pattern","[a-zA-Z\xc0-\xff ]+","required","",1,"form-control","inputForm",3,"ngClass","ngModel","disabled","ngModelChange"],["primer_nombre","ngModel"],["for","segundo_nombre",1,"control-label","labelForm"],["type","text","id","segundo_nombre","name","segundo_nombre","maxlength","60","pattern","[a-zA-Z\xc0-\xff ]+",1,"form-control","inputForm",3,"ngClass","ngModel","disabled","ngModelChange"],["segundo_nombre","ngModel"],["for","primer_apellido",1,"control-label","labelForm"],["type","text","id","primer_apellido","name","primer_apellido","maxlength","60","pattern","[a-zA-Z\xc0-\xff ]+","required","",1,"form-control","inputForm",3,"ngClass","ngModel","disabled","ngModelChange"],["primer_apellido","ngModel"],["for","segundo_apellido",1,"control-label","labelForm"],["type","text","id","segundo_apellido","name","segundo_apellido","maxlength","60","pattern","[a-zA-Z\xc0-\xff ]+",1,"form-control","inputForm",3,"ngClass","ngModel","disabled","ngModelChange"],["segundo_apellido","ngModel"],[1,"col","col-sm-12","col-md-6","d-inline-block"],["for","cargo",1,"control-label","labelForm"],["type","text","id","cargo","name","cargo","maxlength","60","required","",1,"form-control","inputForm",3,"ngClass","ngModel","disabled","ngModelChange"],["cargo","ngModel"],["for","area_solicitante",1,"control-label","labelForm"],["id","area_solicitante","name","area_solicitante","required","",1,"form-control","inputForm","custom-select",3,"ngClass","ngModel","disabled","ngModelChange"],["area_solicitante","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"col","d-inline-block",3,"ngClass"],["for","correo_electronico",1,"control-label","labelForm"],["type","text","id","correo_electronico","name","correo_electronico","maxlength","255","placeholder","ejemplo@capitalsalud.gov.co","pattern","[a-zA-Z0-9._%+-]+@capitalsalud.gov.co","required","",1,"form-control","inputForm",3,"ngClass","ngModel","disabled","ngModelChange"],["correo_electronico","ngModel"],["class","col col-sm-6 d-inline-block",4,"ngIf"],["class","form-group",4,"ngIf"],[1,"col","col-sm-12"],["name","descripcion_solicitud","id","descripcion_solicitud","rows","3","minlength","15","maxlength","100","placeholder","Diligencia la solicitud (m\xe1ximo 100 caracteres)","required","",1,"form-control","inputForm",3,"ngClass","ngModel","disabled","ngModelChange"],["descripcion_solicitud","ngModel"],[1,"col","col-12"],["for","documento_adjunto",1,"control-label","labelForm"],["type","file","class","form-control inputForm","id","documento_adjunto","accept","application/pdf",3,"change",4,"ngIf"],["type","button","class","btn btn-waves-effect waves-light btn-rounded btn-sm btn-success mt-2 d-block",3,"click",4,"ngIf"],["class","form-actions",4,"ngIf"],[3,"value"],[1,"col","col-sm-6","d-inline-block"],[1,"control-label","labelForm"],["type","text","id","tipo_contrato","name","tipo_contrato","disabled","",1,"form-control","inputForm",3,"value"],[1,"form-check"],["class","custom-control custom-radio",4,"ngFor","ngForOf"],[1,"custom-control","custom-radio"],["name","tipo_contrato","type","radio",1,"custom-control-input",3,"id","checked","value","ngModel","disabled","ngModelChange"],["tipo_contrato","ngModel"],[1,"custom-control-indicator"],[1,"custom-control-description"],["class","col col-sm-12",4,"ngIf"],["href","https://red.capitalsalud.gov.co/wp-content/uploads/2021/08/F62-LJ.docx","target","_blank",1,"btn","waves-effect","waves-light","btn-rounded","btn-sm","btn-info"],["href","https://red.capitalsalud.gov.co/wp-content/uploads/2021/08/F64-LJ.docx","target","_blank",1,"btn","waves-effect","waves-light","btn-rounded","btn-sm","btn-info"],["type","file","id","documento_adjunto","accept","application/pdf",1,"form-control","inputForm",3,"change"],["type","button",1,"btn","btn-waves-effect","waves-light","btn-rounded","btn-sm","btn-success","mt-2","d-block",3,"click"],["for","documento_adjunto","class","control-label labelForm",4,"ngIf"],["name","observaciones","id","observaciones","rows","3","disabled","",1,"form-control","inputForm"],[1,"form-actions"],[1,"col","col-sm-12","text-right"],["type","submit",1,"btn","btn-success",3,"disabled"],[1,"fa","fa-check"],["type","button",1,"btn","btn-inverse","ml-2",3,"click"],[3,"solicitud"]],template:function(t,e){1&t&&(o.vc(0,Ve,4,0,"div",0),o.vc(1,dn,9,4,"div",1)),2&t&&(o.kc("ngIf",!e.bandera_inicial),o.Hb(1),o.kc("ngIf",e.bandera_inicial))},directives:[i.l,w.f,c.o,c.f,c.g,c.a,c.c,c.j,c.l,i.j,c.e,c.h,c.m,i.k,c.d,c.i,c.n,c.k,Ce],pipes:[Y],encapsulation:2}),fn);function gn(t,e){1&t&&(o.Xb(0,"div",2),o.Xb(1,"div",3),o.Xb(2,"span",4),o.xc(3,"Loading..."),o.Wb(),o.Wb(),o.Wb())}function mn(t,e){if(1&t&&(o.Xb(0,"div",10),o.Xb(1,"div",11),o.xc(2),o.Wb(),o.Wb()),2&t){var n=o.hc(2);o.Hb(2),o.zc(" ",n.mensaje_inicial," ")}}function vn(t,e){if(1&t){var n=o.Yb();o.Xb(0,"div",19),o.Xb(1,"pagination-controls",20),o.fc("pageChange",(function(t){return o.sc(n),o.hc(3).cambiarPagina(t)})),o.Wb(),o.Wb()}}function hn(t,e){if(1&t&&(o.Xb(0,"td"),o.xc(1),o.ic(2,"date"),o.Wb()),2&t){var n=o.hc().$implicit;o.Hb(1),o.yc(o.jc(2,1,n.fecha_respuesta,"dd/MM/yyyy"))}}function _n(t,e){1&t&&(o.Xb(0,"td"),o.xc(1,"-"),o.Wb())}function Wn(t,e){if(1&t&&(o.Xb(0,"td"),o.xc(1),o.ic(2,"date"),o.Wb()),2&t){var n=o.hc().$implicit;o.Hb(1),o.yc(o.jc(2,1,n.fecha_comite_contratacion,"dd/MM/yyyy"))}}function Xn(t,e){1&t&&(o.Xb(0,"td"),o.xc(1,"-"),o.Wb())}var kn=function(t){return["../documentacion-postcontractual/",t]};function yn(t,e){if(1&t&&(o.Xb(0,"button",26),o.Tb(1,"i",27),o.Wb()),2&t){var n=o.hc().$implicit;o.kc("routerLink",o.nc(1,kn,n.id))}}var xn=function(t,e,n,i){return{death:t,regular:e,bad:n,good:i}},Cn=function(t){return["../aprobacion-juridica/",t]};function In(t,e){if(1&t&&(o.Xb(0,"tr",21),o.Xb(1,"td"),o.xc(2),o.Wb(),o.Xb(3,"td"),o.xc(4),o.ic(5,"global"),o.Wb(),o.Xb(6,"td"),o.xc(7),o.Wb(),o.Xb(8,"td"),o.xc(9),o.ic(10,"date"),o.Wb(),o.Xb(11,"td"),o.xc(12),o.ic(13,"global"),o.Wb(),o.vc(14,hn,3,4,"td",22),o.vc(15,_n,2,0,"td",22),o.vc(16,Wn,3,4,"td",22),o.vc(17,Xn,2,0,"td",22),o.Xb(18,"td",2),o.Xb(19,"button",23),o.Tb(20,"i",24),o.Wb(),o.vc(21,yn,2,3,"button",25),o.Wb(),o.Wb()),2&t){var n=e.$implicit;o.kc("ngClass",o.pc(21,xn,2==n.estado,3==n.estado,4==n.estado,6==n.estado)),o.Hb(2),o.yc(n.id),o.Hb(2),o.yc(o.jc(5,12,n.area_solicitante,"areas_contratacion")),o.Hb(3),o.yc(n.descripcion_solicitud),o.Hb(2),o.yc(o.jc(10,15,n.createdAt,"dd/MM/yyyy")),o.Hb(3),o.yc(o.jc(13,18,n.estado,"estados_solicitud_precontractual")),o.Hb(2),o.kc("ngIf",n.fecha_respuesta),o.Hb(1),o.kc("ngIf",!n.fecha_respuesta),o.Hb(1),o.kc("ngIf",n.fecha_comite_contratacion),o.Hb(1),o.kc("ngIf",!n.fecha_comite_contratacion),o.Hb(2),o.kc("routerLink",o.nc(26,Cn,n.id)),o.Hb(2),o.kc("ngIf",7==n.estado)}}var Hn=function(t,e){return{itemsPerPage:t,currentPage:e}};function Pn(t,e){if(1&t&&(o.Xb(0,"div",12),o.Xb(1,"div",13),o.vc(2,vn,2,0,"div",14),o.Xb(3,"table",15),o.Xb(4,"thead",16),o.Xb(5,"tr"),o.Xb(6,"th"),o.xc(7,"ID"),o.Wb(),o.Xb(8,"th"),o.xc(9,"\xc1rea solicitante"),o.Wb(),o.Xb(10,"th"),o.xc(11,"Descripci\xf3n de la solicitud"),o.Wb(),o.Xb(12,"th"),o.xc(13,"Fecha solicitud"),o.Wb(),o.Xb(14,"th"),o.xc(15,"Estado"),o.Wb(),o.Xb(16,"th"),o.xc(17,"Fecha respuesta"),o.Wb(),o.Xb(18,"th"),o.xc(19,"Fecha presentaci\xf3n CC"),o.Wb(),o.Xb(20,"th"),o.xc(21,"Detalle"),o.Wb(),o.Wb(),o.Wb(),o.Xb(22,"tbody",17),o.vc(23,In,22,28,"tr",18),o.ic(24,"paginate"),o.Wb(),o.Wb(),o.Wb(),o.Wb()),2&t){var n=o.hc(2);o.Hb(2),o.kc("ngIf",n.solicitudes&&n.solicitudes.length>n.items_por_pagina),o.Hb(21),o.kc("ngForOf",o.jc(24,2,n.solicitudes,o.oc(5,Hn,n.items_por_pagina,n.pagina_actual)))}}function Dn(t,e){if(1&t&&(o.Xb(0,"div",5),o.Xb(1,"div",6),o.Xb(2,"a",7),o.xc(3,"Regresar"),o.Wb(),o.Wb(),o.vc(4,mn,3,1,"div",8),o.vc(5,Pn,25,8,"div",9),o.Wb()),2&t){var n=o.hc();o.Hb(4),o.kc("ngIf",n.mensaje_inicial),o.Hb(1),o.kc("ngIf",n.solicitudes)}}var Sn,jn=((Sn=function(){function t(e,n){_classCallCheck(this,t),this._precontractual_functions_service=e,this._precontractual_service=n,this.bandera_inicial=!1,this.global=q.f,this.items_por_pagina=20;var i=+localStorage.getItem("juridica_pagina");this.pagina_actual=i||1}return _createClass(t,[{key:"ngOnInit",value:function(){this.obtenerInformacionInicial()}},{key:"cambiarPagina",value:function(t){this.pagina_actual=t,localStorage.setItem("juridica_pagina",t)}},{key:"obtenerInformacionInicial",value:function(){var t=this;Promise.all([this.obtenerSolicitudesJuridica()]).then((function(e){t.solicitudes=e[0],t.bandera_inicial=!0})).catch((function(e){t.mensaje_inicial=e,t.bandera_inicial=!0}))}},{key:"obtenerSolicitudesJuridica",value:function(){var t=this;return new Promise((function(e,n){t._precontractual_service.obtenerSolicitudesJuridica().subscribe((function(t){e(t.precontractuales)}),(function(t){n(t)}))}))}}]),t}()).\u0275fac=function(t){return new(t||Sn)(o.Sb($),o.Sb(U))},Sn.\u0275cmp=o.Mb({type:Sn,selectors:[["app-panel-juridica"]],decls:2,vars:2,consts:[["class","text-center",4,"ngIf"],["class","col-12 pr-0 pl-0",4,"ngIf"],[1,"text-center"],["role","status",1,"spinner-grow","text-info"],[1,"sr-only"],[1,"col-12","pr-0","pl-0"],[1,"backLink","col","col-sm-12"],["routerLink","../",1,"col-sm-12"],["class","col col-12 mt-2",4,"ngIf"],["class","card-body tableContainer",4,"ngIf"],[1,"col","col-12","mt-2"],["role","alert",1,"alert","alert-warning"],[1,"card-body","tableContainer"],[1,"table-responsive","tableContainerAll"],["class","paginationControls",4,"ngIf"],[1,"table","table-bordered"],[1,"thead_styles"],[1,"tbody_styles"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"paginationControls"],["previousLabel","Anterior","nextLabel","Siguiente","maxSize","4",3,"pageChange"],[3,"ngClass"],[4,"ngIf"],["type","button","title","Ver M\xe1s",1,"btn","btn-info","btn-circle","btn-sm",3,"routerLink"],[1,"fa","fa-eye"],["type","button","class","btn btn-warning btn-circle btn-sm mt-1","title","Adjuntar Documentaci\xf3n Postcontractual",3,"routerLink",4,"ngIf"],["type","button","title","Adjuntar Documentaci\xf3n Postcontractual",1,"btn","btn-warning","btn-circle","btn-sm","mt-1",3,"routerLink"],[1,"fa","fa-plus"]],template:function(t,e){1&t&&(o.vc(0,gn,4,0,"div",0),o.vc(1,Dn,6,2,"div",1)),2&t&&(o.kc("ngIf",!e.bandera_inicial),o.Hb(1),o.kc("ngIf",e.bandera_inicial))},directives:[i.l,w.f,i.k,D,i.j,w.e],pipes:[_,Y,i.d],encapsulation:2}),Sn);function Fn(t,e){1&t&&(o.Xb(0,"div",2),o.Xb(1,"div",3),o.Xb(2,"span",4),o.xc(3,"Loading..."),o.Wb(),o.Wb(),o.Wb())}function Mn(t,e){if(1&t&&(o.Xb(0,"div",10),o.Xb(1,"div",11),o.xc(2),o.Wb(),o.Wb()),2&t){var n=o.hc(2);o.Hb(2),o.zc(" ",n.mensaje_inicial," ")}}function wn(t,e){if(1&t){var n=o.Yb();o.Xb(0,"div",19),o.Xb(1,"pagination-controls",20),o.fc("pageChange",(function(t){return o.sc(n),o.hc(3).cambiarPagina(t)})),o.Wb(),o.Wb()}}function An(t,e){if(1&t&&(o.Xb(0,"td"),o.xc(1),o.ic(2,"date"),o.Wb()),2&t){var n=o.hc().$implicit;o.Hb(1),o.yc(o.jc(2,1,n.solicitud_precontractual.fecha_respuesta,"dd/MM/yyyy"))}}function Ln(t,e){1&t&&(o.Xb(0,"td"),o.xc(1,"-"),o.Wb())}var Rn=function(t){return["../aprobacion-financiera/",t]};function On(t,e){if(1&t&&(o.Xb(0,"tr"),o.Xb(1,"td"),o.xc(2),o.Wb(),o.Xb(3,"td"),o.xc(4),o.ic(5,"global"),o.Wb(),o.Xb(6,"td"),o.xc(7),o.Wb(),o.Xb(8,"td"),o.xc(9),o.ic(10,"date"),o.Wb(),o.Xb(11,"td"),o.xc(12),o.ic(13,"global"),o.Wb(),o.vc(14,An,3,4,"td",21),o.vc(15,Ln,2,0,"td",21),o.Xb(16,"td"),o.xc(17),o.ic(18,"global"),o.Wb(),o.Xb(19,"td",2),o.Xb(20,"button",22),o.Tb(21,"i",23),o.Wb(),o.Wb(),o.Wb()),2&t){var n=e.$implicit;o.Hb(2),o.yc(n.solicitud_precontractual.id),o.Hb(2),o.yc(o.jc(5,9,n.solicitud_precontractual.area_solicitante,"areas_contratacion")),o.Hb(3),o.yc(n.solicitud_precontractual.descripcion_solicitud),o.Hb(2),o.yc(o.jc(10,12,n.createdAt,"dd/MM/yyyy")),o.Hb(3),o.yc(o.jc(13,15,n.estado,"estados_presupuesto")),o.Hb(2),o.kc("ngIf",n.solicitud_precontractual.fecha_respuesta),o.Hb(1),o.kc("ngIf",!n.solicitud_precontractual.fecha_respuesta),o.Hb(2),o.yc(o.jc(18,18,n.tipo_certificado,"tipos_certificados")),o.Hb(3),o.kc("routerLink",o.nc(21,Rn,n.id))}}var En=function(t,e){return{itemsPerPage:t,currentPage:e}};function Tn(t,e){if(1&t&&(o.Xb(0,"div",12),o.Xb(1,"div",13),o.vc(2,wn,2,0,"div",14),o.Xb(3,"table",15),o.Xb(4,"thead",16),o.Xb(5,"tr"),o.Xb(6,"th"),o.xc(7,"ID"),o.Wb(),o.Xb(8,"th"),o.xc(9,"\xc1rea solicitante"),o.Wb(),o.Xb(10,"th"),o.xc(11,"Descripci\xf3n de la solicitud"),o.Wb(),o.Xb(12,"th"),o.xc(13,"Fecha solicitud"),o.Wb(),o.Xb(14,"th"),o.xc(15,"Estado"),o.Wb(),o.Xb(16,"th"),o.xc(17,"Fecha respuesta"),o.Wb(),o.Xb(18,"th"),o.xc(19,"Tipo de Certificado"),o.Wb(),o.Xb(20,"th"),o.xc(21,"Detalle"),o.Wb(),o.Wb(),o.Wb(),o.Xb(22,"tbody",17),o.vc(23,On,22,23,"tr",18),o.ic(24,"paginate"),o.Wb(),o.Wb(),o.Wb(),o.Wb()),2&t){var n=o.hc(2);o.Hb(2),o.kc("ngIf",n.presupuestos&&n.presupuestos.length>n.items_por_pagina),o.Hb(21),o.kc("ngForOf",o.jc(24,2,n.presupuestos,o.oc(5,En,n.items_por_pagina,n.pagina_actual)))}}function qn(t,e){if(1&t&&(o.Xb(0,"div",5),o.Xb(1,"div",6),o.Xb(2,"a",7),o.xc(3,"Regresar"),o.Wb(),o.Wb(),o.vc(4,Mn,3,1,"div",8),o.vc(5,Tn,25,8,"div",9),o.Wb()),2&t){var n=o.hc();o.Hb(4),o.kc("ngIf",n.mensaje_inicial),o.Hb(1),o.kc("ngIf",n.presupuestos&&n.presupuestos.length>0)}}var zn,Nn=((zn=function(){function t(e){_classCallCheck(this,t),this._presupuesto_service=e,this.bandera_inicial=!1,this.items_por_pagina=20}return _createClass(t,[{key:"ngOnInit",value:function(){this.obtenerInformacionInicial()}},{key:"cambiarPagina",value:function(t){this.pagina_actual=t,localStorage.setItem("juridica_pagina",t)}},{key:"obtenerInformacionInicial",value:function(){var t=this;Promise.all([this.obtenerSolicitudesActivas()]).then((function(e){t.presupuestos=e[0],t.presupuestos.length<=0&&(t.mensaje_inicial="En el momento, no hay solicitudes de presupuesto activas en el sistema"),t.bandera_inicial=!0})).catch((function(e){t.mensaje_inicial=e,t.bandera_inicial=!0}))}},{key:"obtenerSolicitudesActivas",value:function(){var t=this;return new Promise((function(e,n){t._presupuesto_service.obtenerSolicitudesActivas().subscribe((function(t){e(t.presupuestos)}),(function(t){n(t)}))}))}}]),t}()).\u0275fac=function(t){return new(t||zn)(o.Sb(B))},zn.\u0275cmp=o.Mb({type:zn,selectors:[["app-panel-financiera"]],decls:2,vars:2,consts:[["class","text-center",4,"ngIf"],["class","col-12 pr-0 pl-0",4,"ngIf"],[1,"text-center"],["role","status",1,"spinner-grow","text-info"],[1,"sr-only"],[1,"col-12","pr-0","pl-0"],[1,"backLink","col","col-sm-12"],["routerLink","../",1,"col-sm-12"],["class","col col-12 mt-2",4,"ngIf"],["class","card-body tableContainer",4,"ngIf"],[1,"col","col-12","mt-2"],["role","alert",1,"alert","alert-warning"],[1,"card-body","tableContainer"],[1,"table-responsive","tableContainerAll"],["class","paginationControls",4,"ngIf"],[1,"table","table-bordered"],[1,"thead_styles"],[1,"tbody_styles"],[4,"ngFor","ngForOf"],[1,"paginationControls"],["previousLabel","Anterior","nextLabel","Siguiente","maxSize","4",3,"pageChange"],[4,"ngIf"],["type","button","title","Ver M\xe1s",1,"btn","btn-info","btn-circle","btn-sm",3,"routerLink"],[1,"fa","fa-eye"]],template:function(t,e){1&t&&(o.vc(0,Fn,4,0,"div",0),o.vc(1,qn,6,2,"div",1)),2&t&&(o.kc("ngIf",!e.bandera_inicial),o.Hb(1),o.kc("ngIf",e.bandera_inicial))},directives:[i.l,w.f,i.k,D,w.e],pipes:[_,Y,i.d],encapsulation:2}),zn);function Un(t,e){1&t&&(o.Xb(0,"div",2),o.Xb(1,"div",3),o.Xb(2,"span",4),o.xc(3,"Loading..."),o.Wb(),o.Wb(),o.Wb())}function $n(t,e){if(1&t&&(o.Xb(0,"div",13),o.Xb(1,"div",14),o.xc(2),o.Wb(),o.Wb()),2&t){var n=o.hc(2);o.Hb(2),o.zc(" ",n.mensaje_inicial," ")}}function Bn(t,e){if(1&t){var n=o.Yb();o.Xb(0,"div",22),o.Xb(1,"pagination-controls",23),o.fc("pageChange",(function(t){return o.sc(n),o.hc(3).cambiarPagina(t)})),o.Wb(),o.Wb()}}function Vn(t,e){if(1&t&&(o.Xb(0,"td"),o.xc(1),o.ic(2,"date"),o.Wb()),2&t){var n=o.hc().$implicit;o.Hb(1),o.yc(o.jc(2,1,n.fecha_respuesta,"dd/MM/yyyy"))}}function Yn(t,e){1&t&&(o.Xb(0,"td"),o.xc(1,"-"),o.Wb())}function Jn(t,e){if(1&t&&(o.Xb(0,"td"),o.xc(1),o.ic(2,"date"),o.Wb()),2&t){var n=o.hc().$implicit;o.Hb(1),o.yc(o.jc(2,1,n.fecha_comite_contratacion,"dd/MM/yyyy"))}}function Zn(t,e){1&t&&(o.Xb(0,"td"),o.xc(1,"-"),o.Wb())}var Gn=function(t,e,n,i){return{death:t,regular:e,bad:n,good:i}},Kn=function(t){return["../editar-solicitud/",t]};function Qn(t,e){if(1&t&&(o.Xb(0,"tr",24),o.Xb(1,"td"),o.xc(2),o.Wb(),o.Xb(3,"td"),o.xc(4),o.ic(5,"global"),o.Wb(),o.Xb(6,"td"),o.xc(7),o.Wb(),o.Xb(8,"td"),o.xc(9),o.ic(10,"date"),o.Wb(),o.Xb(11,"td"),o.xc(12),o.ic(13,"global"),o.Wb(),o.vc(14,Vn,3,4,"td",25),o.vc(15,Yn,2,0,"td",25),o.vc(16,Jn,3,4,"td",25),o.vc(17,Zn,2,0,"td",25),o.Xb(18,"td",2),o.Xb(19,"button",26),o.Tb(20,"i",27),o.Wb(),o.Wb(),o.Wb()),2&t){var n=e.$implicit;o.kc("ngClass",o.pc(20,Gn,2==n.estado,3==n.estado,4==n.estado,6==n.estado)),o.Hb(2),o.yc(n.id),o.Hb(2),o.yc(o.jc(5,11,n.area_solicitante,"areas_contratacion")),o.Hb(3),o.yc(n.descripcion_solicitud),o.Hb(2),o.yc(o.jc(10,14,n.createdAt,"dd/MM/yyyy")),o.Hb(3),o.yc(o.jc(13,17,n.estado,"estados_solicitud_precontractual")),o.Hb(2),o.kc("ngIf",n.fecha_respuesta),o.Hb(1),o.kc("ngIf",!n.fecha_respuesta),o.Hb(1),o.kc("ngIf",n.fecha_comite_contratacion),o.Hb(1),o.kc("ngIf",!n.fecha_comite_contratacion),o.Hb(2),o.kc("routerLink",o.nc(25,Kn,n.id))}}var ti=function(t,e){return{itemsPerPage:t,currentPage:e}};function ei(t,e){if(1&t&&(o.Xb(0,"div",15),o.Xb(1,"div",16),o.vc(2,Bn,2,0,"div",17),o.Xb(3,"table",18),o.Xb(4,"thead",19),o.Xb(5,"tr"),o.Xb(6,"th"),o.xc(7,"ID"),o.Wb(),o.Xb(8,"th"),o.xc(9,"\xc1rea solicitante"),o.Wb(),o.Xb(10,"th"),o.xc(11,"Descripci\xf3n de la solicitud"),o.Wb(),o.Xb(12,"th"),o.xc(13,"Fecha solicitud"),o.Wb(),o.Xb(14,"th"),o.xc(15,"Estado"),o.Wb(),o.Xb(16,"th"),o.xc(17,"Fecha respuesta"),o.Wb(),o.Xb(18,"th"),o.xc(19,"Fecha Presentaci\xf3n CC"),o.Wb(),o.Xb(20,"th"),o.xc(21,"Detalle"),o.Wb(),o.Wb(),o.Wb(),o.Xb(22,"tbody",20),o.vc(23,Qn,21,27,"tr",21),o.ic(24,"paginate"),o.Wb(),o.Wb(),o.Wb(),o.Wb()),2&t){var n=o.hc(2);o.Hb(2),o.kc("ngIf",n.solicitudes&&n.solicitudes.length>n.items_por_pagina),o.Hb(21),o.kc("ngForOf",o.jc(24,2,n.solicitudes,o.oc(5,ti,n.items_por_pagina,n.pagina_actual)))}}function ni(t,e){if(1&t&&(o.Xb(0,"div",5),o.Xb(1,"div",6),o.Xb(2,"a",7),o.xc(3,"Regresar"),o.Wb(),o.Wb(),o.vc(4,$n,3,1,"div",8),o.vc(5,ei,25,8,"div",9),o.Xb(6,"div",10),o.Xb(7,"button",11),o.Tb(8,"i",12),o.Wb(),o.Wb(),o.Wb()),2&t){var n=o.hc();o.Hb(4),o.kc("ngIf",n.mensaje_inicial),o.Hb(1),o.kc("ngIf",n.solicitudes)}}var ii,ci=((ii=function(){function t(e){_classCallCheck(this,t),this._precontractual_service=e,this.bandera_inicial=!1,this.items_por_pagina=20;var n=+localStorage.getItem("precontractual_pagina");this.pagina_actual=n||1}return _createClass(t,[{key:"ngOnInit",value:function(){this.obtenerInformacionInicial()}},{key:"cambiarPagina",value:function(t){this.pagina_actual=t,localStorage.setItem("precontractual_pagina",t)}},{key:"obtenerInformacionInicial",value:function(){var t=this;Promise.all([this.obtenerSolicitudesPrecontractualesPorUsuario()]).then((function(e){t.solicitudes=e[0],t.bandera_inicial=!0})).catch((function(e){t.mensaje_inicial=e,t.bandera_inicial=!0}))}},{key:"obtenerSolicitudesProcontractuales",value:function(){var t=this;return new Promise((function(e,n){t._precontractual_service.obtenerSolicitudesActivas().subscribe((function(t){e(t.precontractuales)}),(function(t){n(t)}))}))}},{key:"obtenerSolicitudesPrecontractualesPorUsuario",value:function(){var t=this;return new Promise((function(e,n){t._precontractual_service.obtenerSolicitudesPrecontractualesPorUsuario().subscribe((function(t){e(t.precontractuales)}),(function(t){n(t)}))}))}}]),t}()).\u0275fac=function(t){return new(t||ii)(o.Sb(U))},ii.\u0275cmp=o.Mb({type:ii,selectors:[["app-panel-solicitudes"]],decls:2,vars:2,consts:[["class","text-center",4,"ngIf"],["class","col-12 pr-0 pl-0",4,"ngIf"],[1,"text-center"],["role","status",1,"spinner-grow","text-info"],[1,"sr-only"],[1,"col-12","pr-0","pl-0"],[1,"backLink","col","col-sm-12"],["routerLink","../",1,"col-sm-12"],["class","col col-12 mt-2",4,"ngIf"],["class","card-body tableContainer",4,"ngIf"],[1,"col","col-12","text-right"],["routerLink","../nueva-solicitud","type","button","title","Nueva Solicitud",1,"btn","btn-success","btn-circle","btn-lg"],[1,"fa","fa-plus"],[1,"col","col-12","mt-2"],["role","alert",1,"alert","alert-warning"],[1,"card-body","tableContainer"],[1,"table-responsive","tableContainerAll"],["class","paginationControls",4,"ngIf"],[1,"table","table-bordered"],[1,"thead_styles"],[1,"tbody_styles"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"paginationControls"],["previousLabel","Anterior","nextLabel","Siguiente","maxSize","4",3,"pageChange"],[3,"ngClass"],[4,"ngIf"],["type","button","title","Ver M\xe1s",1,"btn","btn-info","btn-circle","btn-sm","d-inline-block",3,"routerLink"],[1,"fa","fa-eye"]],template:function(t,e){1&t&&(o.vc(0,Un,4,0,"div",0),o.vc(1,ni,9,2,"div",1)),2&t&&(o.kc("ngIf",!e.bandera_inicial),o.Hb(1),o.kc("ngIf",e.bandera_inicial))},directives:[i.l,w.f,w.e,i.k,D,i.j],pipes:[_,Y,i.d],encapsulation:2}),ii),oi=n("Fe25");function ai(t,e){if(1&t&&o.Tb(0,"app-card",1),2&t){var n=o.hc();o.kc("elementos_tarjeta",n.elementos_tarjeta)}}var ri,li=((ri=function(){function t(e){_classCallCheck(this,t),this._user_service=e,this.elementos_tarjeta=[{titulo:"Solicitudes",descripcion:"Prueba de la descripci\xf3n",enlace:"panel-solicitudes"},{titulo:"Jur\xeddica",descripcion:"Prueba de la descripci\xf3n",enlace:"panel-juridica"},{titulo:"Financiera",descripcion:"Prueba de la descripci\xf3n",enlace:"panel-financiera"}]}return _createClass(t,[{key:"ngOnInit",value:function(){this.validarPermisos()}},{key:"validarPermisos",value:function(){var t=this,e=this._user_service.obtenerPermisosUsuario(),n=[];e.forEach((function(e){"CON_SOLICITUDES"==e.cn&&n.push(t.elementos_tarjeta[0]),"CON_JURIDICA"==e.cn&&n.push(t.elementos_tarjeta[1]),"CON_FINANCIERA"==e.cn&&n.push(t.elementos_tarjeta[2])})),this.elementos_tarjeta=n}}]),t}()).\u0275fac=function(t){return new(t||ri)(o.Sb(q.e))},ri.\u0275cmp=o.Mb({type:ri,selectors:[["app-precontractual"]],decls:1,vars:1,consts:[[3,"elementos_tarjeta",4,"ngIf"],[3,"elementos_tarjeta"]],template:function(t,e){1&t&&o.vc(0,ai,1,1,"app-card",0),2&t&&o.kc("ngIf",e.elementos_tarjeta)},directives:[i.l,oi.a],encapsulation:2}),ri),si=n("JcrP");function ui(t,e){1&t&&(o.Xb(0,"div",12),o.Xb(1,"div",13),o.Xb(2,"small",16),o.xc(3,"Resolviendo..."),o.Wb(),o.Wb(),o.Wb())}function bi(t,e){if(1&t){var n=o.Yb();o.Vb(0),o.Xb(1,"div",9),o.Xb(2,"p"),o.Xb(3,"b"),o.xc(4,"Para realizar el cargue masivo de contratistas debe subir un archivo de excel con los siguientes indices o cabeceras en la primera fila del documento:"),o.Wb(),o.Wb(),o.Xb(5,"ul"),o.Xb(6,"li"),o.xc(7,"TipoDocumento"),o.Wb(),o.Xb(8,"li"),o.xc(9,"NroDocumento"),o.Wb(),o.Xb(10,"li"),o.xc(11,"PrimerNombre"),o.Wb(),o.Xb(12,"li"),o.xc(13,"PrimerApellido"),o.Wb(),o.Xb(14,"li"),o.xc(15,"FechaNacimiento"),o.Wb(),o.Xb(16,"li"),o.xc(17,"Sexo"),o.Wb(),o.Xb(18,"li"),o.xc(19,"CodigoVacuna"),o.Wb(),o.Xb(20,"li"),o.xc(21,"NroDosis"),o.Wb(),o.Xb(22,"li"),o.xc(23,"TipoEsquema"),o.Wb(),o.Xb(24,"li"),o.xc(25,"CodigoEstrategia"),o.Wb(),o.Xb(26,"li"),o.xc(27,"FechaAplicacion"),o.Wb(),o.Xb(28,"li"),o.xc(29,"CorreoElectronico"),o.Wb(),o.Wb(),o.Wb(),o.Xb(30,"div",10),o.Xb(31,"input",11),o.fc("change",(function(t){return o.sc(n),o.hc().agregarArchivo(t)})),o.Wb(),o.Wb(),o.Xb(32,"div",12),o.Xb(33,"div",13),o.Xb(34,"input",14),o.fc("click",(function(){return o.sc(n),o.hc().registrarDatos()})),o.Wb(),o.Wb(),o.Wb(),o.vc(35,ui,4,0,"div",15),o.Ub()}if(2&t){var i=o.hc();o.Hb(34),o.kc("disabled",!i.datos_vacunacion||0==i.datos_vacunacion.length),o.Hb(1),o.kc("ngIf",i.preloader_status)}}function di(t,e){if(1&t&&(o.Xb(0,"div",17),o.Xb(1,"div",18),o.xc(2),o.Wb(),o.Wb()),2&t){var n=o.hc();o.Hb(2),o.zc(" ",n.mensaje_respuesta," ")}}var fi,pi=((fi=function(){function t(e,n){_classCallCheck(this,t),this._export_service=e,this._vacunacion_service=n}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.iniciarSesionWebService().then((function(e){t.token_sesion=e,t.bandera_inicial=!0})).catch((function(e){t.mensaje_respuesta=e}))}},{key:"agregarArchivo",value:function(t){var e=this,n=t.target.files[0],i=new FileReader;i.readAsArrayBuffer(n),i.onload=function(t){var n;n=i.result;for(var c=new Uint8Array(n),o=new Array,a=0;a!==c.length;a++)o[a]=String.fromCharCode(c[a]);var r=o.join(""),l=si.a(r,{type:"binary"}),s=si.b.sheet_to_json(l.Sheets[l.SheetNames[0]],{raw:!0}),u=e.obtenerLlaves(s[0]),b=!1;if(u.forEach((function(t){b="TipoDocumento"===t.key||"NroDocumento"===t.key||"PrimerNombre"===t.key||"PrimerApellido"===t.key||"FechaNacimiento"===t.key||"Sexo"===t.key||"CodigoVacuna"===t.key||"NroDosis"===t.key||"TipoEsquema"===t.key||"CodigoEstrategia"===t.key||"FechaAplicacion"===t.key||"CorreoElectronico"===t.key})),b){var d=s;d.forEach((function(t){for(var e in t)t.hasOwnProperty(e)&&(""!=t[e]&&"null"!==t[e]&&"NULL"!==t[e]||(t[e]=null)),t.CodigoInstitucion="110013029645"})),e.datos_vacunacion=d}else e.mensaje_respuesta="Debe cargar el archivo con los \xedndices correctos"}}},{key:"esperarRespuestasWebService",value:function(){var t=this,e=[];return new Promise((function(n){var i=0,c=0,o=setInterval((function(){t.promesaRegistrarDatos(t.datos_vacunacion[i]).then((function(a){e.push(a),t.datos_vacunacion.length==e.length&&(clearInterval(o),n(e)),100==c&&t.iniciarSesionWebService().then((function(e){t.token_sesion=e,c=0})),i++,c++}))}),500)}))}},{key:"exportAsXLSX",value:function(t){var e=t;e.unshift({documento:"N\xdaMERO DE DOCUMENTO",idSolicitudCambio:"ID DE LA SOLICITUD",estado:"ESTADO DE LA SOLICITUD",mensaje:"MENSAJE"}),this._export_service.exportToExcelPlans(e,"Resultados WebService_")}},{key:"iniciarSesionWebService",value:function(){var t=this;return new Promise((function(e,n){t._vacunacion_service.iniciarSesionWebService().subscribe((function(t){e(t.token)}),(function(t){n("No se ha podido iniciar sesi\xf3n en el web service para poder hacer el cargue de la informaci\xf3n")}))}))}},{key:"obtenerLlaves",value:function(t){return Object.keys(t).map((function(e){return{key:e,value:t[e]}}))}},{key:"registrarDatos",value:function(){var t=this;this.preloader_status=!0,this.esperarRespuestasWebService().then((function(e){t.exportAsXLSX(e),t.preloader_status=!1,console.log(e)}))}},{key:"promesaRegistrarDatos",value:function(t){var e=this;return new Promise((function(n){e._vacunacion_service.guardarDatosWebService(t,e.token_sesion).subscribe((function(e){n({documento:t.NroDocumento,idSolicitudCambio:e.idSolicitudCambio,estado:e.mensaje[0],mensaje:e.mensaje[1]})}),(function(i){var c={documento:t.NroDocumento,idSolicitudCambio:"ERROR",estado:"ERROR",mensaje:"ERROR"};401==i.status?e.iniciarSesionWebService().then((function(t){e.token_sesion=t})):n(c)}))}))}}]),t}()).\u0275fac=function(t){return new(t||fi)(o.Sb(q.a),o.Sb(V))},fi.\u0275cmp=o.Mb({type:fi,selectors:[["app-vacunacion"]],decls:10,vars:2,consts:[[1,"row"],[1,"col-sm-12"],[1,"card","border-0"],[1,"card-body","cardContainer"],[1,"formContainer"],[1,"backLink","col","col-12","d-inline-block"],["routerLink","..",1,"col-sm-6"],[4,"ngIf"],["class","col col-12 mt-2",4,"ngIf"],[1,"infoParagraph","col","col-12"],[1,"col","col-sm-12","form-group","text-left"],["type","file","placeholder","upload file","accept",".csv,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",1,"inputForm","d-inline-block",3,"change"],[1,"form-group",2,"margin-top","1rem"],[1,"col","col-sm-12","buttonSubmit"],["type","submit","value","Registrar Informaci\xf3n",1,"btn","btn-success","btnPrefer","col-sm-12",3,"disabled","click"],["class","form-group","style","margin-top: 1rem",4,"ngIf"],[1,"warning-feedback"],[1,"col","col-12","mt-2"],["role","alert",1,"alert","alert-warning"]],template:function(t,e){1&t&&(o.Xb(0,"div",0),o.Xb(1,"div",1),o.Xb(2,"div",2),o.Xb(3,"div",3),o.Xb(4,"div",4),o.Xb(5,"div",5),o.Xb(6,"a",6),o.xc(7,"Regresar"),o.Wb(),o.Wb(),o.vc(8,bi,36,2,"ng-container",7),o.vc(9,di,3,1,"div",8),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Wb()),2&t&&(o.Hb(8),o.kc("ngIf",e.bandera_inicial),o.Hb(1),o.kc("ngIf",e.mensaje_respuesta))},directives:[w.f,i.l],encapsulation:2}),fi);function gi(t,e){1&t&&(o.Xb(0,"div",3),o.Xb(1,"div",4),o.Xb(2,"span",5),o.xc(3,"Loading..."),o.Wb(),o.Wb(),o.Wb())}function mi(t,e){if(1&t&&(o.Xb(0,"div",14),o.Xb(1,"div",15),o.xc(2),o.Wb(),o.Wb()),2&t){var n=o.hc(2);o.Hb(2),o.zc(" ",n.mensaje_inicial," ")}}function vi(t,e){1&t&&(o.Xb(0,"span",26),o.xc(1,"*"),o.Wb())}function hi(t,e){if(1&t){var n=o.Yb();o.Vb(0),o.Xb(1,"button",27),o.fc("click",(function(){o.sc(n);var t=o.hc(2).$implicit,e=o.hc(3);return e._precontractual_functions_services.descargarDocumento(e._precontractual_functions_services.validarDocumento(e.solicitud,t.id))})),o.Tb(2,"i",28),o.Wb(),o.Ub()}}function _i(t,e){1&t&&o.Tb(0,"i",31)}function Wi(t,e){1&t&&o.xc(0,"-")}function Xi(t,e){if(1&t&&(o.vc(0,_i,1,0,"i",29),o.vc(1,Wi,1,0,"ng-template",null,30,o.wc)),2&t){var n=o.rc(2),i=o.hc(2).$implicit;o.kc("ngIf",i.required)("ngIfElse",n)}}function ki(t,e){if(1&t&&(o.Xb(0,"tr"),o.Xb(1,"td"),o.xc(2),o.vc(3,vi,2,0,"span",23),o.Wb(),o.Xb(4,"td"),o.vc(5,hi,3,0,"ng-container",24),o.vc(6,Xi,3,2,"ng-template",null,25,o.wc),o.Wb(),o.Wb()),2&t){var n=o.rc(7),i=o.hc().$implicit,c=o.hc(3);o.Hb(2),o.yc(i.value),o.Hb(1),o.kc("ngIf",i.required),o.Hb(2),o.kc("ngIf",c._precontractual_functions_services.validarDocumento(c.solicitud,i.id,!0))("ngIfElse",n)}}function yi(t,e){if(1&t&&(o.Vb(0),o.vc(1,ki,8,4,"tr",22),o.Ub()),2&t){var n=e.$implicit;o.Hb(1),o.kc("ngIf",n.id>=36&&n.id<=43)}}function xi(t,e){if(1&t&&(o.Xb(0,"div",16),o.Xb(1,"div",17),o.Xb(2,"table",18),o.Xb(3,"thead",19),o.Xb(4,"tr"),o.Xb(5,"th"),o.xc(6,"Documento Adjunto"),o.Wb(),o.Xb(7,"th"),o.xc(8,"Acciones"),o.Wb(),o.Wb(),o.Wb(),o.Xb(9,"tbody",20),o.vc(10,yi,2,1,"ng-container",21),o.Wb(),o.Wb(),o.Wb(),o.Wb()),2&t){var n=o.hc(2);o.Hb(10),o.kc("ngForOf",n.global.tipos_documentos)}}function Ci(t,e){if(1&t&&(o.Xb(0,"div",6),o.Xb(1,"div",7),o.Xb(2,"a",8),o.xc(3,"Regresar"),o.Wb(),o.Wb(),o.vc(4,mi,3,1,"div",9),o.vc(5,xi,11,1,"div",10),o.Xb(6,"div",11),o.Xb(7,"button",12),o.Tb(8,"i",13),o.Wb(),o.Wb(),o.Wb()),2&t){var n=o.hc();o.Hb(4),o.kc("ngIf",n.mensaje_inicial),o.Hb(1),o.kc("ngIf",n.solicitud),o.Hb(2),o.Ib("data-target","#agregarDocumentoModal")}}function Ii(t,e){if(1&t&&(o.Xb(0,"option",51),o.xc(1),o.Wb()),2&t){var n=o.hc().$implicit;o.lc("value",n.id),o.Hb(1),o.yc(n.value)}}function Hi(t,e){if(1&t&&(o.Vb(0),o.vc(1,Ii,2,2,"option",50),o.Ub()),2&t){var n=e.$implicit;o.Hb(1),o.kc("ngIf",n.id>=36&&n.id<=43)}}function Pi(t,e){if(1&t){var n=o.Yb();o.Xb(0,"div",32),o.Xb(1,"div",33),o.Xb(2,"div",34),o.Xb(3,"form",35,36),o.fc("ngSubmit",(function(){o.sc(n);var t=o.hc();return t.cargarDocumentoRequerido(t.documento_a_cargar,t.documentacion.id_documento)})),o.Xb(5,"div",37),o.Xb(6,"h4",38),o.xc(7,"Agregar Documento a la Solicitud"),o.Wb(),o.Xb(8,"button",39),o.xc(9,"\xd7"),o.Wb(),o.Wb(),o.Xb(10,"div",40),o.Xb(11,"div",41),o.Xb(12,"div",42),o.Xb(13,"label",43),o.xc(14,"Seleccione el documento"),o.Xb(15,"span",26),o.xc(16,"*"),o.Wb(),o.Wb(),o.Xb(17,"select",44),o.fc("ngModelChange",(function(t){return o.sc(n),o.hc().documentacion.id_documento=t})),o.vc(18,Hi,2,1,"ng-container",21),o.Wb(),o.Wb(),o.Wb(),o.Xb(19,"div",41),o.Xb(20,"div",42),o.Xb(21,"label",43),o.xc(22,"Documento adjunto"),o.Xb(23,"span",26),o.xc(24,"*"),o.Wb(),o.Wb(),o.Xb(25,"input",45),o.fc("change",(function(t){return o.sc(n),o.hc().documento_a_cargar=t.target.files[0]})),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Xb(26,"div",46),o.Xb(27,"div",47),o.Xb(28,"button",48),o.fc("click",(function(){o.sc(n);var t=o.hc();return t.cargarDocumentoRequerido(t.documento_a_cargar,t.documentacion.id_documento)})),o.Tb(29,"i",28),o.xc(30," Adjuntar Documento"),o.Wb(),o.Xb(31,"button",49),o.fc("click",(function(){return o.sc(n),o.hc().configurarInformacionInicial()})),o.xc(32,"Cancelar"),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Wb()}if(2&t){var i=o.rc(4),c=o.hc();o.Hb(17),o.kc("ngModel",c.documentacion.id_documento),o.Hb(1),o.kc("ngForOf",c.global.tipos_documentos),o.Hb(10),o.kc("disabled",i.invalid||!c.documento_a_cargar)}}var Di,Si,ji,Fi,Mi,wi=((Fi=function(){function t(e,n,i,c,o){_classCallCheck(this,t),this._documentacion_service=e,this._file_upload_service=n,this._precontractual_functions_services=i,this._route=c,this._router=o,this.global=q.f}return _createClass(t,[{key:"ngOnInit",value:function(){this.obtenerInformacionInicial()}},{key:"cargarDocumentoRequerido",value:function(t,e){var n=this;if(this.solicitud.documentos&&this.solicitud.documentos.length>0){var i=!1,c=null;if(this.solicitud.documentos.forEach((function(t){t.id_documento==e&&(i=!0,c=t.id)})),i&&t)return void this._file_upload_service.cargarArchivo(t,"contratacion").then((function(t){"success"==t.status&&(n.documentacion.id=c,n.documentacion.documento=t.nombre_archivo,n.documentacion.id_documento=e,n._documentacion_service.actualizarDocumentoAdjunto(n.documentacion).subscribe((function(t){L.a.fire({position:"center",icon:"success",title:t.message,showConfirmButton:!0}),n._precontractual_functions_services.obtenerSolicitud(n.solicitud.id).then((function(t){n.solicitud=t}))})))})).catch((function(t){console.log(t)}))}this._file_upload_service.cargarArchivo(t,"contratacion").then((function(t){"success"==t.status&&(n.documentacion.documento=t.nombre_archivo,n.documentacion.id_documento=e,n._documentacion_service.crearDocumentoAdjunto(n.documentacion).subscribe((function(t){L.a.fire({position:"center",icon:"success",title:t.message,showConfirmButton:!0}),n._precontractual_functions_services.obtenerSolicitud(n.solicitud.id).then((function(t){n.solicitud=t}))})))})).catch((function(t){console.log(t)}))}},{key:"configurarInformacionInicial",value:function(){this.documentacion=new R(null,this.solicitud.id,null,null,3,1,null,null,null)}},{key:"obtenerInformacionInicial",value:function(){var t=this;this._route.params.subscribe((function(e){t.solicitud_id=e.id,Promise.all([t._precontractual_functions_services.obtenerSolicitud(t.solicitud_id)]).then((function(e){t.solicitud=e[0],t.configurarInformacionInicial(),7!=t.solicitud.estado&&(L.a.fire({position:"center",icon:"warning",title:"La solicitud no se ha finalizado y no puede agregar los documentos postcontractuales",showConfirmButton:!0}),t._router.navigate(["contratacion/precontractual/panel-juridica"])),t.bandera_inicial=!0})).catch((function(e){t.mensaje_inicial=e,t.bandera_inicial=!0}))}))}}]),t}()).\u0275fac=function(t){return new(t||Fi)(o.Sb(N),o.Sb(q.b),o.Sb($),o.Sb(w.a),o.Sb(w.d))},Fi.\u0275cmp=o.Mb({type:Fi,selectors:[["app-poscontractual"]],decls:3,vars:3,consts:[["class","text-center",4,"ngIf"],["class","col-12 pr-0 pl-0",4,"ngIf"],["class","modal animated fadeIn faster","id","agregarDocumentoModal",4,"ngIf"],[1,"text-center"],["role","status",1,"spinner-grow","text-info"],[1,"sr-only"],[1,"col-12","pr-0","pl-0"],[1,"backLink","col","col-sm-12"],["routerLink","../../panel-juridica",1,"col-sm-12"],["class","col col-12 mt-2",4,"ngIf"],["class","tableContainer",4,"ngIf"],[1,"col","col-12","text-right"],["type","button","data-toggle","modal","title","Agregar Documento",1,"btn","btn-info","btn-circle","btn-lg"],[1,"fa","fa-upload"],[1,"col","col-12","mt-2"],["role","alert",1,"alert","alert-warning"],[1,"tableContainer"],[1,"table-responsive","tableContainerAll"],[1,"table","table-bordered"],[1,"thead_styles"],[1,"tbody_styles"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","required",4,"ngIf"],[4,"ngIf","ngIfElse"],["elseDocumento",""],[1,"required"],["type","button","title","Descargar Documento",1,"btn","btn-success","btn-circle","btn-sm",3,"click"],[1,"fa","fa-check"],["class","fa fa-times","style","color: red; font-size: 1rem",4,"ngIf","ngIfElse"],["elseValidarDocumento",""],[1,"fa","fa-times",2,"color","red","font-size","1rem"],["id","agregarDocumentoModal",1,"modal","animated","fadeIn","faster"],[1,"modal-dialog"],[1,"modal-content"],[1,"form-container",3,"ngSubmit"],["agregarDocumentoForm","ngForm"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close"],[1,"modal-body"],[1,"form-group"],[1,"col","col-sm-12"],["for","descripcion",1,"control-label","labelForm"],["id","estado_documento","name","estado_documento",1,"form-control","inputForm","custom-select",3,"ngModel","ngModelChange"],["type","file","id","documento_2","accept","application/pdf","required","",1,"form-control","inputForm","mt-2",3,"change"],[1,"modal-footer"],[1,"col","col-sm-12","text-right"],["type","submit","data-dismiss","modal",1,"btn","btn-success",3,"disabled","click"],["type","button","data-dismiss","modal",1,"btn","btn-inverse","ml-2",3,"click"],[3,"value",4,"ngIf"],[3,"value"]],template:function(t,e){1&t&&(o.vc(0,gi,4,0,"div",0),o.vc(1,Ci,9,3,"div",1),o.vc(2,Pi,33,3,"div",2)),2&t&&(o.kc("ngIf",!e.bandera_inicial),o.Hb(1),o.kc("ngIf",e.bandera_inicial),o.Hb(1),o.kc("ngIf",e.documentacion))},directives:[i.l,w.f,i.k,c.o,c.f,c.g,c.m,c.e,c.h,c.i,c.n],encapsulation:2}),Fi),Ai=((ji=function(){function t(e,n){_classCallCheck(this,t),this._user_service=e,this.router=n}return _createClass(t,[{key:"canActivate",value:function(){var t=this._user_service.obtenerPermisosUsuario();if(t){for(var e=0;e<t.length;e++)if("CON_FINANCIERA"==t[e].cn)return!0;return this.router.navigate(["/contratacion"]),!1}return this.router.navigate(["/contratacion"]),!1}}]),t}()).\u0275fac=function(t){return new(t||ji)(o.bc(q.e),o.bc(w.d))},ji.\u0275prov=o.Ob({token:ji,factory:ji.\u0275fac,providedIn:"root"}),ji),Li=((Si=function(){function t(e,n){_classCallCheck(this,t),this._user_service=e,this.router=n}return _createClass(t,[{key:"canActivate",value:function(){var t=this._user_service.obtenerPermisosUsuario();if(t){for(var e=0;e<t.length;e++)if("CON_JURIDICA"==t[e].cn)return!0;return this.router.navigate(["/contratacion"]),!1}return this.router.navigate(["/contratacion"]),!1}}]),t}()).\u0275fac=function(t){return new(t||Si)(o.bc(q.e),o.bc(w.d))},Si.\u0275prov=o.Ob({token:Si,factory:Si.\u0275fac,providedIn:"root"}),Si),Ri=((Di=function(){function t(e,n){_classCallCheck(this,t),this._user_service=e,this.router=n}return _createClass(t,[{key:"canActivate",value:function(){var t=this._user_service.obtenerPermisosUsuario();if(t){for(var e=0;e<t.length;e++)if("CON_SOLICITUDES"==t[e].cn)return!0;return this.router.navigate(["/contratacion"]),!1}return this.router.navigate(["/contratacion"]),!1}}]),t}()).\u0275fac=function(t){return new(t||Di)(o.bc(q.e),o.bc(w.d))},Di.\u0275prov=o.Ob({token:Di,factory:Di.\u0275fac,providedIn:"root"}),Di),Oi=[{path:"",component:li,data:{titulo:"Contrataci\xf3n Precontractual"}},{path:"panel-solicitudes",component:ci,data:{titulo:"Contrataci\xf3n Precontractual - Panel Solicitud"},canActivate:[Ri]},{path:"nueva-solicitud",component:pn,data:{titulo:"Contrataci\xf3n Precontractual - Crear"},canActivate:[Ri]},{path:"editar-solicitud/:id",component:Be,data:{titulo:"Contrataci\xf3n Precontractual - Editar"},canActivate:[Ri]},{path:"panel-juridica",component:jn,data:{titulo:"Contrataci\xf3n Precontractual - Panel Jur\xeddica"},canActivate:[Li]},{path:"aprobacion-juridica/:id",component:Bt,data:{titulo:"Contrataci\xf3n Precontractual - Aprobaci\xf3n Jur\xeddica"},canActivate:[Li]},{path:"vacunacion",component:pi,data:{titulo:"Vacunaci\xf3n Ministerio"},canActivate:[Li]},{path:"panel-financiera",component:Nn,data:{titulo:"Contrataci\xf3n Precontractual - Panel Presupuesto"},canActivate:[Ai]},{path:"aprobacion-financiera/:id",component:te,data:{titulo:"Contrataci\xf3n Precontractual - Aprobaci\xf3n Presupuesto"},canActivate:[Ai]},{path:"documentacion-postcontractual/:id",component:wi,data:{titulo:"Contrataci\xf3n Precontractual - Documentaci\xf3n Postcontractual"},canActivate:[Ai]}],Ei=((Mi=_createClass((function t(){_classCallCheck(this,t)}))).\u0275mod=o.Qb({type:Mi}),Mi.\u0275inj=o.Pb({factory:function(t){return new(t||Mi)},imports:[[w.g.forChild(Oi)],w.g]}),Mi),Ti=n("iTUp"),qi=n("PCNd");n.d(e,"PrecontractualModule",(function(){return Ni}));var zi,Ni=((zi=_createClass((function t(){_classCallCheck(this,t)}))).\u0275mod=o.Qb({type:zi}),zi.\u0275inj=o.Pb({factory:function(t){return new(t||zi)},imports:[[i.b,M,Ei,c.b,Ti.a,qi.a]]}),zi)}}]);